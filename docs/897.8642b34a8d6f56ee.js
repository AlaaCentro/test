(self.webpackChunkGen_cli=self.webpackChunkGen_cli||[]).push([[897],{6897:(we,se,w)=>{"use strict";w.r(se),w.d(se,{InBoundModule:()=>Vy});var ie={};w.r(ie),w.d(ie,{Attributor:()=>vt,AttributorStore:()=>vs,BlockBlot:()=>es,ClassAttributor:()=>dt,ContainerBlot:()=>ys,EmbedBlot:()=>Xe,InlineBlot:()=>io,LeafBlot:()=>$e,ParentBlot:()=>pt,Registry:()=>ri,Scope:()=>P,ScrollBlot:()=>oo,StyleAttributor:()=>tn,TextBlot:()=>Ts});var O=w(177),de=w(2444),B=function(n){return n[n.Voice_Info=1]="Voice_Info",n[n.Action=2]="Action",n[n.Attach=3]="Attach",n[n.History=4]="History",n[n.Service=5]="Service",n[n.Componsation=6]="Componsation",n[n.Pending=7]="Pending",n[n.Query=8]="Query",n}(B||{}),j=function(n){return n[n.English=1]="English",n[n.Arabic=2]="Arabic",n[n.Other=3]="Other",n}(j||{}),U=function(n){return n[n.Pending_HHA=1]="Pending_HHA",n[n.Pending_Close=2]="Pending_Close",n[n.Resolved_Ministry=3]="Resolved_Ministry",n}(U||{}),X=function(n){return n[n.In_Progress=1]="In_Progress",n[n.Customer_Satisfied=2]="Customer_Satisfied",n[n.Customer_NotSatisfied=3]="Customer_NotSatisfied",n[n.No_Further_Action=4]="No_Further_Action",n[n.No_Feedback=5]="No_Feedback",n[n.No_Releted=6]="No_Releted",n}(X||{}),z=function(n){return n[n.crm_action_update=1]="crm_action_update",n[n.crm_ministory_update=2]="crm_ministory_update",n[n.crm_voice_update=3]="crm_voice_update",n}(z||{}),e=w(4437),N=w(9417),g=w(2898),_=w(5312),T=w(1626);let x=(()=>{class n{constructor(t){this.http=t,this.TOKEN_KEY="EMRtoken",this.apiUrl=_.c.APIUrl}sendSMS(t){return this.http.post(this.apiUrl+"inbound//get_inbound/send_sms",t)}GetSMSHistory(t,i){return this.http.get(this.apiUrl+"inbound/get_inbound/sms_hist/"+t+"/"+i)}GetCrmMinistryList(){return this.http.get(this.apiUrl+"inbound/get_inbound/crm_ministry_reason")}GetActionHistory(t){return this.http.get(this.apiUrl+"inbound/get_inbound/crm_inbound_action_hist/"+t)}GetMinistryHistory(t){return this.http.get(this.apiUrl+"inbound/get_inbound/crm_inbound_ministry_hist/"+t)}static#e=this.\u0275fac=function(i){return new(i||n)(e.KVO(T.Qq))};static#t=this.\u0275prov=e.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var b=w(5779),G=w(1530),D=w(9664),oe=w(4956),ee=w(8606),Z=w(1141),he=w(3362),Ee=w(5430),ke=w(2242);let Ve=(()=>{class n{el;ngModel;control;cd;autoResize;onResize=new e.bkB;filled;cachedScrollHeight;ngModelSubscription;ngControlSubscription;constructor(t,i,o,l){this.el=t,this.ngModel=i,this.control=o,this.cd=l}ngOnInit(){this.ngModel&&(this.ngModelSubscription=this.ngModel.valueChanges.subscribe(()=>{this.updateState()})),this.control&&(this.ngControlSubscription=this.control.valueChanges.subscribe(()=>{this.updateState()}))}ngAfterViewInit(){this.autoResize&&this.resize(),this.updateFilledState(),this.cd.detectChanges()}onInput(t){this.updateState()}updateFilledState(){this.filled=this.el.nativeElement.value&&this.el.nativeElement.value.length}onFocus(t){this.autoResize&&this.resize(t)}onBlur(t){this.autoResize&&this.resize(t)}resize(t){this.el.nativeElement.style.height="auto",this.el.nativeElement.style.height=this.el.nativeElement.scrollHeight+"px",parseFloat(this.el.nativeElement.style.height)>=parseFloat(this.el.nativeElement.style.maxHeight)?(this.el.nativeElement.style.overflowY="scroll",this.el.nativeElement.style.height=this.el.nativeElement.style.maxHeight):this.el.nativeElement.style.overflow="hidden",this.onResize.emit(t||{})}updateState(){this.updateFilledState(),this.autoResize&&this.resize()}ngOnDestroy(){this.ngModelSubscription&&this.ngModelSubscription.unsubscribe(),this.ngControlSubscription&&this.ngControlSubscription.unsubscribe()}static \u0275fac=function(i){return new(i||n)(e.rXU(e.aKT),e.rXU(N.vS,8),e.rXU(N.vO,8),e.rXU(e.gRc))};static \u0275dir=e.FsC({type:n,selectors:[["","pInputTextarea",""]],hostAttrs:[1,"p-inputtextarea","p-inputtext","p-component","p-element"],hostVars:4,hostBindings:function(i,o){1&i&&e.bIt("input",function(r){return o.onInput(r)})("focus",function(r){return o.onFocus(r)})("blur",function(r){return o.onBlur(r)}),2&i&&e.AVh("p-filled",o.filled)("p-inputtextarea-resizable",o.autoResize)},inputs:{autoResize:"autoResize"},outputs:{onResize:"onResize"}})}return n})(),Ue=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=e.$C({type:n});static \u0275inj=e.G2t({imports:[O.MD]})}return n})();var f=w(8150),k=w(9851),m=w(9969),C=w(1455);let R=(()=>{class n{el;pFocusTrapDisabled=!1;constructor(t){this.el=t}onkeydown(t){if(!0!==this.pFocusTrapDisabled){t.preventDefault();const i=C.D.getNextFocusableElement(this.el.nativeElement,t.shiftKey);i&&(i.focus(),i.select?.())}}static \u0275fac=function(i){return new(i||n)(e.rXU(e.aKT))};static \u0275dir=e.FsC({type:n,selectors:[["","pFocusTrap",""]],hostAttrs:[1,"p-element"],hostBindings:function(i,o){1&i&&e.bIt("keydown.tab",function(r){return o.onkeydown(r)})("keydown.shift.tab",function(r){return o.onkeydown(r)})},inputs:{pFocusTrapDisabled:"pFocusTrapDisabled"}})}return n})(),S=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=e.$C({type:n});static \u0275inj=e.G2t({imports:[O.MD]})}return n})();var L=w(1512),q=w(8472),H=w(9214),F=w(563),V=w(4420);const te=["titlebar"],re=["content"],ce=["footer"];function K(n,s){if(1&n){const t=e.RV6();e.j41(0,"div",11),e.bIt("mousedown",function(o){e.eBV(t);const l=e.XpG(3);return e.Njj(l.initResize(o))}),e.k0s()}}function Te(n,s){if(1&n&&(e.j41(0,"span",18),e.EFF(1),e.k0s()),2&n){const t=e.XpG(4);e.BMQ("id",t.id+"-label"),e.R7$(1),e.JRh(t.header)}}function Ce(n,s){if(1&n&&(e.j41(0,"span",18),e.SdG(1,1),e.k0s()),2&n){const t=e.XpG(4);e.BMQ("id",t.id+"-label")}}function le(n,s){1&n&&e.eu8(0)}function me(n,s){if(1&n&&e.nrm(0,"span",22),2&n){const t=e.XpG(5);e.Y8G("ngClass",t.maximized?t.minimizeIcon:t.maximizeIcon)}}function fe(n,s){1&n&&e.nrm(0,"WindowMaximizeIcon",24),2&n&&e.Y8G("styleClass","p-dialog-header-maximize-icon")}function ge(n,s){1&n&&e.nrm(0,"WindowMinimizeIcon",24),2&n&&e.Y8G("styleClass","p-dialog-header-maximize-icon")}function be(n,s){if(1&n&&(e.qex(0),e.DNE(1,fe,1,1,"WindowMaximizeIcon",23),e.DNE(2,ge,1,1,"WindowMinimizeIcon",23),e.bVm()),2&n){const t=e.XpG(5);e.R7$(1),e.Y8G("ngIf",!t.maximized&&!t.maximizeIconTemplate),e.R7$(1),e.Y8G("ngIf",t.maximized&&!t.minimizeIconTemplate)}}function ye(n,s){}function Ne(n,s){1&n&&e.DNE(0,ye,0,0,"ng-template")}function Me(n,s){if(1&n&&(e.qex(0),e.DNE(1,Ne,1,0,null,9),e.bVm()),2&n){const t=e.XpG(5);e.R7$(1),e.Y8G("ngTemplateOutlet",t.maximizeIconTemplate)}}function rn(n,s){}function An(n,s){1&n&&e.DNE(0,rn,0,0,"ng-template")}function mi(n,s){if(1&n&&(e.qex(0),e.DNE(1,An,1,0,null,9),e.bVm()),2&n){const t=e.XpG(5);e.R7$(1),e.Y8G("ngTemplateOutlet",t.minimizeIconTemplate)}}const gi=function(){return{"p-dialog-header-icon p-dialog-header-maximize p-link":!0}};function jt(n,s){if(1&n){const t=e.RV6();e.j41(0,"button",19),e.bIt("click",function(){e.eBV(t);const o=e.XpG(4);return e.Njj(o.maximize())})("keydown.enter",function(){e.eBV(t);const o=e.XpG(4);return e.Njj(o.maximize())}),e.DNE(1,me,1,1,"span",20),e.DNE(2,be,3,2,"ng-container",21),e.DNE(3,Me,2,1,"ng-container",21),e.DNE(4,mi,2,1,"ng-container",21),e.k0s()}if(2&n){const t=e.XpG(4);e.Y8G("ngClass",e.lJ4(5,gi)),e.R7$(1),e.Y8G("ngIf",t.maximizeIcon&&!t.maximizeIconTemplate&&!t.minimizeIconTemplate),e.R7$(1),e.Y8G("ngIf",!t.maximizeIcon),e.R7$(1),e.Y8G("ngIf",!t.maximized),e.R7$(1),e.Y8G("ngIf",t.maximized)}}function an(n,s){if(1&n&&e.nrm(0,"span",27),2&n){const t=e.XpG(6);e.Y8G("ngClass",t.closeIcon)}}function Rn(n,s){1&n&&e.nrm(0,"TimesIcon",24),2&n&&e.Y8G("styleClass","p-dialog-header-close-icon")}function On(n,s){if(1&n&&(e.qex(0),e.DNE(1,an,1,1,"span",26),e.DNE(2,Rn,1,1,"TimesIcon",23),e.bVm()),2&n){const t=e.XpG(5);e.R7$(1),e.Y8G("ngIf",t.closeIcon),e.R7$(1),e.Y8G("ngIf",!t.closeIcon)}}function Qe(n,s){}function Gt(n,s){1&n&&e.DNE(0,Qe,0,0,"ng-template")}function _i(n,s){if(1&n&&(e.j41(0,"span"),e.DNE(1,Gt,1,0,null,9),e.k0s()),2&n){const t=e.XpG(5);e.R7$(1),e.Y8G("ngTemplateOutlet",t.closeIconTemplate)}}const Tt=function(){return{"p-dialog-header-icon p-dialog-header-close p-link":!0}};function Bt(n,s){if(1&n){const t=e.RV6();e.j41(0,"button",25),e.bIt("click",function(o){e.eBV(t);const l=e.XpG(4);return e.Njj(l.close(o))})("keydown.enter",function(o){e.eBV(t);const l=e.XpG(4);return e.Njj(l.close(o))}),e.DNE(1,On,3,2,"ng-container",21),e.DNE(2,_i,2,1,"span",21),e.k0s()}if(2&n){const t=e.XpG(4);e.Y8G("ngClass",e.lJ4(5,Tt)),e.BMQ("aria-label",t.closeAriaLabel)("tabindex",t.closeTabindex),e.R7$(1),e.Y8G("ngIf",!t.closeIconTemplate),e.R7$(1),e.Y8G("ngIf",t.closeIconTemplate)}}function cn(n,s){if(1&n){const t=e.RV6();e.j41(0,"div",12,13),e.bIt("mousedown",function(o){e.eBV(t);const l=e.XpG(3);return e.Njj(l.initDrag(o))}),e.DNE(2,Te,2,2,"span",14),e.DNE(3,Ce,2,1,"span",14),e.DNE(4,le,1,0,"ng-container",9),e.j41(5,"div",15),e.DNE(6,jt,5,6,"button",16),e.DNE(7,Bt,3,6,"button",17),e.k0s()()}if(2&n){const t=e.XpG(3);e.R7$(2),e.Y8G("ngIf",!t.headerFacet&&!t.headerTemplate),e.R7$(1),e.Y8G("ngIf",t.headerFacet),e.R7$(1),e.Y8G("ngTemplateOutlet",t.headerTemplate),e.R7$(2),e.Y8G("ngIf",t.maximizable),e.R7$(1),e.Y8G("ngIf",t.closable)}}function He(n,s){1&n&&e.eu8(0)}function Dn(n,s){1&n&&e.eu8(0)}function Fn(n,s){if(1&n&&(e.j41(0,"div",28,29),e.SdG(2,2),e.DNE(3,Dn,1,0,"ng-container",9),e.k0s()),2&n){const t=e.XpG(3);e.R7$(3),e.Y8G("ngTemplateOutlet",t.footerTemplate)}}const bi=function(n,s,t,i){return{"p-dialog p-component":!0,"p-dialog-rtl":n,"p-dialog-draggable":s,"p-dialog-resizable":t,"p-dialog-maximized":i}},un=function(n,s){return{transform:n,transition:s}},qt=function(n){return{value:"visible",params:n}};function Mn(n,s){if(1&n){const t=e.RV6();e.j41(0,"div",3,4),e.bIt("@animation.start",function(o){e.eBV(t);const l=e.XpG(2);return e.Njj(l.onAnimationStart(o))})("@animation.done",function(o){e.eBV(t);const l=e.XpG(2);return e.Njj(l.onAnimationEnd(o))}),e.DNE(2,K,1,0,"div",5),e.DNE(3,cn,8,5,"div",6),e.j41(4,"div",7,8),e.SdG(6),e.DNE(7,He,1,0,"ng-container",9),e.k0s(),e.DNE(8,Fn,4,1,"div",10),e.k0s()}if(2&n){const t=e.XpG(2);e.HbH(t.styleClass),e.Y8G("ngClass",e.ziG(15,bi,t.rtl,t.draggable,t.resizable,t.maximized))("ngStyle",t.style)("pFocusTrapDisabled",!1===t.focusTrap)("@animation",e.eq3(23,qt,e.l_i(20,un,t.transformOptions,t.transitionOptions))),e.BMQ("aria-labelledby",t.id+"-label"),e.R7$(2),e.Y8G("ngIf",t.resizable),e.R7$(1),e.Y8G("ngIf",t.showHeader),e.R7$(1),e.HbH(t.contentStyleClass),e.Y8G("ngClass","p-dialog-content")("ngStyle",t.contentStyle),e.R7$(3),e.Y8G("ngTemplateOutlet",t.contentTemplate),e.R7$(1),e.Y8G("ngIf",t.footerFacet||t.footerTemplate)}}const $t=function(n,s,t,i,o,l,r,c,d,h){return{"p-dialog-mask":!0,"p-component-overlay p-component-overlay-enter":n,"p-dialog-mask-scrollblocker":s,"p-dialog-left":t,"p-dialog-right":i,"p-dialog-top":o,"p-dialog-top-left":l,"p-dialog-top-right":r,"p-dialog-bottom":c,"p-dialog-bottom-left":d,"p-dialog-bottom-right":h}};function Ct(n,s){if(1&n&&(e.j41(0,"div",1),e.DNE(1,Mn,9,25,"div",2),e.k0s()),2&n){const t=e.XpG();e.HbH(t.maskStyleClass),e.Y8G("ngClass",e.zJS(4,$t,[t.modal,t.modal||t.blockScroll,"left"===t.position,"right"===t.position,"top"===t.position,"topleft"===t.position||"top-left"===t.position,"topright"===t.position||"top-right"===t.position,"bottom"===t.position,"bottomleft"===t.position||"bottom-left"===t.position,"bottomright"===t.position||"bottom-right"===t.position])),e.R7$(1),e.Y8G("ngIf",t.visible)}}const Ye=["*",[["p-header"]],[["p-footer"]]],Vt=["*","p-header","p-footer"],dn=(0,m.lY)([(0,m.iF)({transform:"{{transform}}",opacity:0}),(0,m.i0)("{{transition}}")]),It=(0,m.lY)([(0,m.i0)("{{transition}}",(0,m.iF)({transform:"{{transform}}",opacity:0}))]);let Ut=(()=>{class n{document;platformId;el;renderer;zone;cd;config;header;draggable=!0;resizable=!0;get positionLeft(){return 0}set positionLeft(t){console.log("positionLeft property is deprecated.")}get positionTop(){return 0}set positionTop(t){console.log("positionTop property is deprecated.")}contentStyle;contentStyleClass;modal=!1;closeOnEscape=!0;dismissableMask=!1;rtl=!1;closable=!0;get responsive(){return!1}set responsive(t){console.log("Responsive property is deprecated.")}appendTo;breakpoints;styleClass;maskStyleClass;showHeader=!0;get breakpoint(){return 649}set breakpoint(t){console.log("Breakpoint property is not utilized and deprecated, use breakpoints or CSS media queries instead.")}blockScroll=!1;autoZIndex=!0;baseZIndex=0;minX=0;minY=0;focusOnShow=!0;maximizable=!1;keepInViewport=!0;focusTrap=!0;transitionOptions="150ms cubic-bezier(0, 0, 0.2, 1)";closeIcon;closeAriaLabel;closeTabindex="-1";minimizeIcon;maximizeIcon;get visible(){return this._visible}set visible(t){this._visible=t,this._visible&&!this.maskVisible&&(this.maskVisible=!0)}get style(){return this._style}set style(t){t&&(this._style={...t},this.originalStyle=t)}get position(){return this._position}set position(t){switch(this._position=t,t){case"topleft":case"bottomleft":case"left":this.transformOptions="translate3d(-100%, 0px, 0px)";break;case"topright":case"bottomright":case"right":this.transformOptions="translate3d(100%, 0px, 0px)";break;case"bottom":this.transformOptions="translate3d(0px, 100%, 0px)";break;case"top":this.transformOptions="translate3d(0px, -100%, 0px)";break;default:this.transformOptions="scale(0.7)"}}onShow=new e.bkB;onHide=new e.bkB;visibleChange=new e.bkB;onResizeInit=new e.bkB;onResizeEnd=new e.bkB;onDragEnd=new e.bkB;onMaximize=new e.bkB;headerFacet;footerFacet;templates;headerViewChild;contentViewChild;footerViewChild;headerTemplate;contentTemplate;footerTemplate;maximizeIconTemplate;closeIconTemplate;minimizeIconTemplate;_visible=!1;maskVisible;container;wrapper;dragging;documentDragListener;documentDragEndListener;resizing;documentResizeListener;documentResizeEndListener;documentEscapeListener;maskClickListener;lastPageX;lastPageY;preventVisibleChangePropagation;maximized;preMaximizeContentHeight;preMaximizeContainerWidth;preMaximizeContainerHeight;preMaximizePageX;preMaximizePageY;id=(0,V._Y)();_style={};_position="center";originalStyle;transformOptions="scale(0.7)";styleElement;window;constructor(t,i,o,l,r,c,d){this.document=t,this.platformId=i,this.el=o,this.renderer=l,this.zone=r,this.cd=c,this.config=d,this.window=this.document.defaultView}ngAfterContentInit(){this.templates?.forEach(t=>{switch(t.getType()){case"header":this.headerTemplate=t.template;break;case"content":default:this.contentTemplate=t.template;break;case"footer":this.footerTemplate=t.template;break;case"closeicon":this.closeIconTemplate=t.template;break;case"maximizeicon":this.maximizeIconTemplate=t.template;break;case"minimizeicon":this.minimizeIconTemplate=t.template}})}ngOnInit(){this.breakpoints&&this.createStyle()}focus(){let t=C.D.findSingle(this.container,"[autofocus]");t&&this.zone.runOutsideAngular(()=>{setTimeout(()=>t.focus(),5)})}close(t){this.visibleChange.emit(!1),t.preventDefault()}enableModality(){this.closable&&this.dismissableMask&&(this.maskClickListener=this.renderer.listen(this.wrapper,"mousedown",t=>{this.wrapper&&this.wrapper.isSameNode(t.target)&&this.close(t)})),this.modal&&C.D.addClass(this.document.body,"p-overflow-hidden")}disableModality(){this.wrapper&&(this.dismissableMask&&this.unbindMaskClickListener(),this.modal&&C.D.removeClass(this.document.body,"p-overflow-hidden"),this.cd.destroyed||this.cd.detectChanges())}maximize(){this.maximized=!this.maximized,!this.modal&&!this.blockScroll&&(this.maximized?C.D.addClass(this.document.body,"p-overflow-hidden"):C.D.removeClass(this.document.body,"p-overflow-hidden")),this.onMaximize.emit({maximized:this.maximized})}unbindMaskClickListener(){this.maskClickListener&&(this.maskClickListener(),this.maskClickListener=null)}moveOnTop(){this.autoZIndex&&(V.Q$.set("modal",this.container,this.baseZIndex+this.config.zIndex.modal),this.wrapper.style.zIndex=String(parseInt(this.container.style.zIndex,10)-1))}createStyle(){if((0,O.UE)(this.platformId)&&!this.styleElement){this.styleElement=this.renderer.createElement("style"),this.styleElement.type="text/css",this.renderer.appendChild(this.document.head,this.styleElement);let t="";for(let i in this.breakpoints)t+=`\n                        @media screen and (max-width: ${i}) {\n                            .p-dialog[${this.id}] {\n                                width: ${this.breakpoints[i]} !important;\n                            }\n                        }\n                    `;this.renderer.setProperty(this.styleElement,"innerHTML",t)}}initDrag(t){C.D.hasClass(t.target,"p-dialog-header-icon")||C.D.hasClass(t.target.parentElement,"p-dialog-header-icon")||this.draggable&&(this.dragging=!0,this.lastPageX=t.pageX,this.lastPageY=t.pageY,this.container.style.margin="0",C.D.addClass(this.document.body,"p-unselectable-text"))}onKeydown(t){if(this.focusTrap&&9===t.which){t.preventDefault();let i=C.D.getFocusableElements(this.container);if(i&&i.length>0)if(i[0].ownerDocument.activeElement){let o=i.indexOf(i[0].ownerDocument.activeElement);t.shiftKey?-1==o||0===o?i[i.length-1].focus():i[o-1].focus():-1==o||o===i.length-1?i[0].focus():i[o+1].focus()}else i[0].focus()}}onDrag(t){if(this.dragging){let i=C.D.getOuterWidth(this.container),o=C.D.getOuterHeight(this.container),l=t.pageX-this.lastPageX,r=t.pageY-this.lastPageY,c=this.container.getBoundingClientRect(),d=c.left+l,h=c.top+r,v=C.D.getViewport();this.container.style.position="fixed",this.keepInViewport?(d>=this.minX&&d+i<v.width&&(this._style.left=d+"px",this.lastPageX=t.pageX,this.container.style.left=d+"px"),h>=this.minY&&h+o<v.height&&(this._style.top=h+"px",this.lastPageY=t.pageY,this.container.style.top=h+"px")):(this.lastPageX=t.pageX,this.container.style.left=d+"px",this.lastPageY=t.pageY,this.container.style.top=h+"px")}}endDrag(t){this.dragging&&(this.dragging=!1,C.D.removeClass(this.document.body,"p-unselectable-text"),this.cd.detectChanges(),this.onDragEnd.emit(t))}resetPosition(){this.container.style.position="",this.container.style.left="",this.container.style.top="",this.container.style.margin=""}center(){this.resetPosition()}initResize(t){this.resizable&&(this.resizing=!0,this.lastPageX=t.pageX,this.lastPageY=t.pageY,C.D.addClass(this.document.body,"p-unselectable-text"),this.onResizeInit.emit(t))}onResize(t){if(this.resizing){let i=t.pageX-this.lastPageX,o=t.pageY-this.lastPageY,l=C.D.getOuterWidth(this.container),r=C.D.getOuterHeight(this.container),c=C.D.getOuterHeight(this.contentViewChild?.nativeElement),d=l+i,h=r+o,v=this.container.style.minWidth,E=this.container.style.minHeight,A=this.container.getBoundingClientRect(),Q=C.D.getViewport();(!parseInt(this.container.style.top)||!parseInt(this.container.style.left))&&(d+=i,h+=o),(!v||d>parseInt(v))&&A.left+d<Q.width&&(this._style.width=d+"px",this.container.style.width=this._style.width),(!E||h>parseInt(E))&&A.top+h<Q.height&&(this.contentViewChild.nativeElement.style.height=c+h-r+"px",this._style.height&&(this._style.height=h+"px",this.container.style.height=this._style.height)),this.lastPageX=t.pageX,this.lastPageY=t.pageY}}resizeEnd(t){this.resizing&&(this.resizing=!1,C.D.removeClass(this.document.body,"p-unselectable-text"),this.onResizeEnd.emit(t))}bindGlobalListeners(){this.draggable&&(this.bindDocumentDragListener(),this.bindDocumentDragEndListener()),this.resizable&&this.bindDocumentResizeListeners(),this.closeOnEscape&&this.closable&&this.bindDocumentEscapeListener()}unbindGlobalListeners(){this.unbindDocumentDragListener(),this.unbindDocumentDragEndListener(),this.unbindDocumentResizeListeners(),this.unbindDocumentEscapeListener()}bindDocumentDragListener(){this.documentDragListener||this.zone.runOutsideAngular(()=>{this.documentDragListener=this.renderer.listen(this.window,"mousemove",this.onDrag.bind(this))})}unbindDocumentDragListener(){this.documentDragListener&&(this.documentDragListener(),this.documentDragListener=null)}bindDocumentDragEndListener(){this.documentDragEndListener||this.zone.runOutsideAngular(()=>{this.documentDragEndListener=this.renderer.listen(this.window,"mouseup",this.endDrag.bind(this))})}unbindDocumentDragEndListener(){this.documentDragEndListener&&(this.documentDragEndListener(),this.documentDragEndListener=null)}bindDocumentResizeListeners(){!this.documentResizeListener&&!this.documentResizeEndListener&&this.zone.runOutsideAngular(()=>{this.documentResizeListener=this.renderer.listen(this.window,"mousemove",this.onResize.bind(this)),this.documentResizeEndListener=this.renderer.listen(this.window,"mouseup",this.resizeEnd.bind(this))})}unbindDocumentResizeListeners(){this.documentResizeListener&&this.documentResizeEndListener&&(this.documentResizeListener(),this.documentResizeEndListener(),this.documentResizeListener=null,this.documentResizeEndListener=null)}bindDocumentEscapeListener(){this.documentEscapeListener=this.renderer.listen(this.el?this.el.nativeElement.ownerDocument:"document","keydown",i=>{27==i.which&&this.close(i)})}unbindDocumentEscapeListener(){this.documentEscapeListener&&(this.documentEscapeListener(),this.documentEscapeListener=null)}appendContainer(){this.appendTo&&("body"===this.appendTo?this.renderer.appendChild(this.document.body,this.wrapper):C.D.appendChild(this.wrapper,this.appendTo))}restoreAppend(){this.container&&this.appendTo&&this.renderer.appendChild(this.el.nativeElement,this.wrapper)}onAnimationStart(t){switch(t.toState){case"visible":this.container=t.element,this.wrapper=this.container?.parentElement,this.appendContainer(),this.moveOnTop(),this.bindGlobalListeners(),this.container?.setAttribute(this.id,""),this.modal&&this.enableModality(),!this.modal&&this.blockScroll&&C.D.addClass(this.document.body,"p-overflow-hidden"),this.focusOnShow&&this.focus();break;case"void":this.wrapper&&this.modal&&C.D.addClass(this.wrapper,"p-component-overlay-leave")}}onAnimationEnd(t){switch(t.toState){case"void":this.onContainerDestroy(),this.onHide.emit({}),this.cd.markForCheck();break;case"visible":this.onShow.emit({})}}onContainerDestroy(){this.unbindGlobalListeners(),this.dragging=!1,this.maskVisible=!1,this.maximized&&(C.D.removeClass(this.document.body,"p-overflow-hidden"),this.maximized=!1),this.modal&&this.disableModality(),this.blockScroll&&C.D.removeClass(this.document.body,"p-overflow-hidden"),this.container&&this.autoZIndex&&V.Q$.clear(this.container),this.container=null,this.wrapper=null,this._style=this.originalStyle?{...this.originalStyle}:{}}destroyStyle(){this.styleElement&&(this.renderer.removeChild(this.document.head,this.styleElement),this.styleElement=null)}ngOnDestroy(){this.container&&(this.restoreAppend(),this.onContainerDestroy()),this.destroyStyle()}static \u0275fac=function(i){return new(i||n)(e.rXU(O.qQ),e.rXU(e.Agw),e.rXU(e.aKT),e.rXU(e.sFG),e.rXU(e.SKi),e.rXU(e.gRc),e.rXU(b.r1))};static \u0275cmp=e.VBU({type:n,selectors:[["p-dialog"]],contentQueries:function(i,o,l){if(1&i&&(e.wni(l,b.Y9,5),e.wni(l,b.wi,5),e.wni(l,b.Ei,4)),2&i){let r;e.mGM(r=e.lsd())&&(o.headerFacet=r.first),e.mGM(r=e.lsd())&&(o.footerFacet=r.first),e.mGM(r=e.lsd())&&(o.templates=r)}},viewQuery:function(i,o){if(1&i&&(e.GBs(te,5),e.GBs(re,5),e.GBs(ce,5)),2&i){let l;e.mGM(l=e.lsd())&&(o.headerViewChild=l.first),e.mGM(l=e.lsd())&&(o.contentViewChild=l.first),e.mGM(l=e.lsd())&&(o.footerViewChild=l.first)}},hostAttrs:[1,"p-element"],inputs:{header:"header",draggable:"draggable",resizable:"resizable",positionLeft:"positionLeft",positionTop:"positionTop",contentStyle:"contentStyle",contentStyleClass:"contentStyleClass",modal:"modal",closeOnEscape:"closeOnEscape",dismissableMask:"dismissableMask",rtl:"rtl",closable:"closable",responsive:"responsive",appendTo:"appendTo",breakpoints:"breakpoints",styleClass:"styleClass",maskStyleClass:"maskStyleClass",showHeader:"showHeader",breakpoint:"breakpoint",blockScroll:"blockScroll",autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",minX:"minX",minY:"minY",focusOnShow:"focusOnShow",maximizable:"maximizable",keepInViewport:"keepInViewport",focusTrap:"focusTrap",transitionOptions:"transitionOptions",closeIcon:"closeIcon",closeAriaLabel:"closeAriaLabel",closeTabindex:"closeTabindex",minimizeIcon:"minimizeIcon",maximizeIcon:"maximizeIcon",visible:"visible",style:"style",position:"position"},outputs:{onShow:"onShow",onHide:"onHide",visibleChange:"visibleChange",onResizeInit:"onResizeInit",onResizeEnd:"onResizeEnd",onDragEnd:"onDragEnd",onMaximize:"onMaximize"},ngContentSelectors:Vt,decls:1,vars:1,consts:[[3,"class","ngClass",4,"ngIf"],[3,"ngClass"],["pFocusTrap","","role","dialog",3,"ngClass","ngStyle","class","pFocusTrapDisabled",4,"ngIf"],["pFocusTrap","","role","dialog",3,"ngClass","ngStyle","pFocusTrapDisabled"],["container",""],["class","p-resizable-handle","style","z-index: 90;",3,"mousedown",4,"ngIf"],["class","p-dialog-header",3,"mousedown",4,"ngIf"],[3,"ngClass","ngStyle"],["content",""],[4,"ngTemplateOutlet"],["class","p-dialog-footer",4,"ngIf"],[1,"p-resizable-handle",2,"z-index","90",3,"mousedown"],[1,"p-dialog-header",3,"mousedown"],["titlebar",""],["class","p-dialog-title",4,"ngIf"],[1,"p-dialog-header-icons"],["type","button","tabindex","-1","pRipple","",3,"ngClass","click","keydown.enter",4,"ngIf"],["type","button","pRipple","",3,"ngClass","click","keydown.enter",4,"ngIf"],[1,"p-dialog-title"],["type","button","tabindex","-1","pRipple","",3,"ngClass","click","keydown.enter"],["class","p-dialog-header-maximize-icon",3,"ngClass",4,"ngIf"],[4,"ngIf"],[1,"p-dialog-header-maximize-icon",3,"ngClass"],[3,"styleClass",4,"ngIf"],[3,"styleClass"],["type","button","pRipple","",3,"ngClass","click","keydown.enter"],["class","p-dialog-header-close-icon",3,"ngClass",4,"ngIf"],[1,"p-dialog-header-close-icon",3,"ngClass"],[1,"p-dialog-footer"],["footer",""]],template:function(i,o){1&i&&(e.NAR(Ye),e.DNE(0,Ct,2,15,"div",0)),2&i&&e.Y8G("ngIf",o.maskVisible)},dependencies:function(){return[O.YU,O.bT,O.T3,O.B3,R,F.n,L.A,q.Y,H.o]},styles:[".p-dialog-mask{position:fixed;top:0;left:0;width:100%;height:100%;display:flex;justify-content:center;align-items:center;pointer-events:none}.p-dialog-mask.p-component-overlay{pointer-events:auto}.p-dialog{display:flex;flex-direction:column;pointer-events:auto;max-height:90%;transform:scale(1);position:relative}.p-dialog-content{overflow-y:auto;flex-grow:1}.p-dialog-header{display:flex;align-items:center;justify-content:space-between;flex-shrink:0}.p-dialog-draggable .p-dialog-header{cursor:move}.p-dialog-footer{flex-shrink:0}.p-dialog .p-dialog-header-icons{display:flex;align-items:center}.p-dialog .p-dialog-header-icon{display:flex;align-items:center;justify-content:center;overflow:hidden;position:relative}.p-fluid .p-dialog-footer .p-button{width:auto}.p-dialog-top .p-dialog,.p-dialog-bottom .p-dialog,.p-dialog-left .p-dialog,.p-dialog-right .p-dialog,.p-dialog-top-left .p-dialog,.p-dialog-top-right .p-dialog,.p-dialog-bottom-left .p-dialog,.p-dialog-bottom-right .p-dialog{margin:.75rem;transform:translateZ(0)}.p-dialog-maximized{transition:none;transform:none;width:100vw!important;height:100vh!important;top:0!important;left:0!important;max-height:100%;height:100%}.p-dialog-maximized .p-dialog-content{flex-grow:1}.p-dialog-left{justify-content:flex-start}.p-dialog-right{justify-content:flex-end}.p-dialog-top{align-items:flex-start}.p-dialog-top-left{justify-content:flex-start;align-items:flex-start}.p-dialog-top-right{justify-content:flex-end;align-items:flex-start}.p-dialog-bottom{align-items:flex-end}.p-dialog-bottom-left{justify-content:flex-start;align-items:flex-end}.p-dialog-bottom-right{justify-content:flex-end;align-items:flex-end}.p-dialog .p-resizable-handle{position:absolute;font-size:.1px;display:block;cursor:se-resize;width:12px;height:12px;right:1px;bottom:1px}.p-confirm-dialog .p-dialog-content{display:flex;align-items:center}\n"],encapsulation:2,data:{animation:[(0,m.hZ)("animation",[(0,m.kY)("void => visible",[(0,m.sM)(dn)]),(0,m.kY)("visible => void",[(0,m.sM)(It)])])]},changeDetection:0})}return n})(),xt=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=e.$C({type:n});static \u0275inj=e.G2t({imports:[O.MD,S,F.Z,L.A,q.Y,H.o,b.Gg]})}return n})();const wt=function(){return{standalone:!0}},pn=function(n,s,t){return{"text-success":n,"text-danger":s,"text-info":t}};function hn(n,s){if(1&n){const t=e.RV6();e.j41(0,"div",65)(1,"div")(2,"input",78),e.bIt("ngModelChange",function(o){e.eBV(t);const l=e.XpG();return e.Njj(l.selectedCustomer=o)}),e.k0s(),e.j41(3,"label",79),e.EFF(4),e.nI1(5,"translate"),e.k0s()()()}if(2&n){const t=s.$implicit,i=e.XpG();e.R7$(2),e.Y8G("id",t.label+t.value+1)("ngModelOptions",e.lJ4(9,wt))("ngModel",i.selectedCustomer)("value",t.value),e.R7$(1),e.Y8G("ngClass",e.sMw(10,pn,t.value==i.opnionVal.Customer_Satisfied,t.value==i.opnionVal.Customer_NotSatisfied,t.value==i.opnionVal.No_Releted))("for",t.label+t.value+1),e.R7$(1),e.SpI(" ",e.bMT(5,7,"action.ActionCustomerEnum."+t.label)," ")}}function mt(n,s){if(1&n){const t=e.RV6();e.j41(0,"div",80)(1,"input",78),e.bIt("ngModelChange",function(o){e.eBV(t);const l=e.XpG();return e.Njj(l.fff=o)}),e.k0s(),e.j41(2,"label",81),e.EFF(3),e.nI1(4,"translate"),e.k0s()()}if(2&n){const t=s.$implicit,i=e.XpG();e.R7$(1),e.Y8G("id",t.label+t.value+1)("ngModelOptions",e.lJ4(8,wt))("ngModel",i.fff)("value",t.value),e.R7$(1),e.Y8G("for",t.label+t.value+1),e.R7$(1),e.SpI(" ",e.bMT(4,6,"action.LangEnum."+t.label)," ")}}function jn(n,s){if(1&n){const t=e.RV6();e.j41(0,"div",82)(1,"input",83),e.bIt("ngModelChange",function(o){e.eBV(t);const l=e.XpG();return e.Njj(l.fff=o)}),e.k0s(),e.j41(2,"label",81),e.EFF(3),e.nI1(4,"translate"),e.k0s()()}if(2&n){const t=s.$implicit,i=e.XpG();e.R7$(1),e.Y8G("id",t.label+t.value+1)("disabled",!i.permission.hasPermission(i.permissions.crm_ministory_update))("ngModelOptions",e.lJ4(9,wt))("ngModel",i.fff)("value",t.value),e.R7$(1),e.Y8G("for",t.label+t.value+1),e.R7$(1),e.SpI(" ",e.bMT(4,7,"action.ActionStatusEnum."+t.label)," ")}}function ot(n,s){if(1&n&&(e.j41(0,"ul")(1,"li"),e.EFF(2),e.k0s()()),2&n){const t=s.$implicit;e.R7$(2),e.JRh(t.eng_action_comm)}}function vi(n,s){1&n&&(e.j41(0,"p"),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&n&&(e.R7$(1),e.SpI(" ",e.bMT(2,1,"action.noHistory")," "))}function yi(n,s){if(1&n&&(e.j41(0,"ul")(1,"li"),e.EFF(2),e.k0s()()),2&n){const t=s.$implicit;e.R7$(2),e.JRh(t.eng_action_comm)}}function Ti(n,s){1&n&&(e.j41(0,"p"),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&n&&(e.R7$(1),e.SpI(" ",e.bMT(2,1,"action.noHistory")," "))}function Gn(n,s){1&n&&(e.j41(0,"tr")(1,"th"),e.EFF(2,"Mobile"),e.k0s(),e.j41(3,"th"),e.EFF(4,"Send Daqte"),e.k0s(),e.j41(5,"th"),e.EFF(6,"Send By"),e.k0s()())}function fn(n,s){if(1&n&&(e.j41(0,"tr")(1,"td"),e.EFF(2),e.k0s(),e.j41(3,"td"),e.EFF(4),e.k0s(),e.j41(5,"td"),e.EFF(6),e.k0s()()),2&n){const t=s.$implicit;e.R7$(2),e.JRh(t.mobile),e.R7$(2),e.JRh(t.invdate),e.R7$(2),e.JRh(t.sent_by)}}const Se=function(){return{width:"100%"}},Bn=function(){return{width:"50vw",height:"300px","min-height":"100px"}},Ci=function(){return{width:"40vw",height:"300px","min-height":"100px"}},Ii=function(){return{"min-width":"40rem"}};let qn=(()=>{class n{constructor(t,i,o,l,r,c,d,h,v){this.fb=t,this.configService=i,this.service=o,this.messageService=l,this.loader=r,this.translate=c,this.datePipe=d,this.router=h,this.permission=v,this.ministryList=[],this.crmActionList=[],this.crmMinList=[],this.SmsList=[],this.visibleCrmAct=!1,this.visibleCrmMin=!1,this.visibleSms=!1,this.hasPermission=!1,this.langList=Object.keys(j).map(E=>({label:j[E],value:Number(E)})).filter(E=>!isNaN(Number(E.value))),this.actionStatusList=Object.keys(U).map(E=>({label:U[E],value:Number(E)})).filter(E=>!isNaN(Number(E.value))),this.actionCustomerList=Object.keys(X).map(E=>({label:X[E],value:Number(E)})).filter(E=>!isNaN(Number(E.value)))}ngOnChanges(t){t.receivedData&&t.receivedData.currentValue&&this.populateForm(t.receivedData.currentValue)}ngOnInit(){this.initForm(),this.receivedData&&this.populateForm(this.receivedData),this.router.paramMap.subscribe(t=>{this.messageService.clear(),t.get("inboundId")})}populateForm(t){this.form.patchValue({act_date:t.act_date?new Date(t.act_date):"",id:t.id,eng_action_comments:t.eng_action_comments,crm_action_date:t.crm_action_date?new Date(t.crm_action_date):"",crm_followup_date:t.crm_followup_date?new Date(t.crm_followup_date):"",crm_ministry_reason:t.crm_ministry_reason,eng_crm_follow_comment:t.eng_crm_follow_comment,close_date:t.close_date?new Date(t.close_date):"",eng_final_remarks:t.eng_final_remarks,next_followup_date:t.next_followup_date?new Date(t.next_followup_date):"",redak_close_remarks:t.redak_close_remarks})}initForm(){this.form=this.fb.group({act_date:[{value:"",disabled:!0}],id:"",eng_action_comments:"",crm_ministry_reason:[{value:"",disabled:!this.permission.hasPermission(this.permissions.crm_action_update)}],crm_followup_date:[{value:"",disabled:!this.permission.hasPermission(this.permissions.crm_action_update)}],crm_action_date:[{value:"",disabled:!this.permission.hasPermission(this.permissions.crm_action_update)}],eng_crm_follow_comment:"",close_date:[{value:"",disabled:!0}],eng_final_remarks:[{value:"",disabled:!0}],next_followup_date:[{value:"",disabled:!0}],redak_close_remarks:[{value:"",disabled:!0}]})}get opnionVal(){return X}sendSMS(){this.loader.start();let t=this.translate.currentLang;if(null!=this.receivedData.id){let i={mobileno:this.receivedData?.mobile,vid:this.receivedData.id,usercode:sessionStorage.getItem("userCode")??null,smsText:"en"==t?`Dear customer,\n                                        thank you for contacting us and we would like to inform you that your Transaction #${this.receivedData.id}\n                                        With our regards from HAJI HUSEIN ALI0REZA & Co.\n                                        Ltd Customer Relations Management`:`\u0639\u0632\u064a\u0632\u064a \u0627\u0644\u0639\u0645\u064a\u0644\u060c\n                            \u0646\u0634\u0643\u0631\u0643\u0645 \u0639\u0644\u0649 \u062a\u0648\u0627\u0635\u0644\u0643\u0645 \u0645\u0639\u0646\u0627\u060c \u0648\u064a\u0633\u0639\u062f\u0646\u0627 \u0625\u0628\u0644\u0627\u063a\u0643\u0645 \u0628\u0623\u0646 \u0645\u0639\u0627\u0645\u0644\u062a\u0643\u0645 \u0631\u0642\u0645 #${this.receivedData.id} \u0642\u062f \u062a\u0645 \u062a\u0633\u062c\u064a\u0644\u0647\u0627 \u0628\u0646\u062c\u0627\u062d.\n                            \u0645\u0639 \u0623\u0637\u064a\u0628 \u0627\u0644\u062a\u062d\u064a\u0627\u062a \u0645\u0646 \u0634\u0631\u0643\u0629 \u062d\u0627\u062c \u062d\u0633\u064a\u0646 \u0639\u0644\u064a \u0631\u0636\u0627 \u0648\u0634\u0631\u0643\u0627\u0647 \u0627\u0644\u0645\u062d\u062f\u0648\u062f\u0629 - \u0625\u062f\u0627\u0631\u0629 \u0639\u0644\u0627\u0642\u0627\u062a \u0627\u0644\u0639\u0645\u0644\u0627\u0621`};this.service.sendSMS(i).subscribe({next:o=>{if(!1===o.status)return this.messageService.add({severity:"error",summary:"Error",detail:o.message}),void this.loader.stop();this.messageService.add({severity:"success",summary:"success",detail:this.translate.instant("messages.sendSuc")}),this.loader.stop()}})}else this.messageService.add({severity:"warn",summary:"warn",detail:"No Voice ID Selected...!"}),this.loader.stop();this.loader.stop()}GetCrmMinistryList(t){this.loader.start(),this.service.GetCrmMinistryList().subscribe({next:i=>{if(!1===i.succeeded)return this.messageService.add({severity:"error",summary:"Error",detail:i.message}),this.loader.stop(),void(this.ministryList=[]);const o=this.translate.currentLang;this.ministryList=i.items.map(l=>({id:l.minor_code,name:"ar"===o?l.ara_desc:l.eng_desc})),this.loader.stop()}}),this.loader.stop()}showSMSHistory(){this.loader.start(),this.visibleCrmMin=!1,this.visibleCrmAct=!1,null!=this.receivedData?.mobile||this.mobileNum||null!=this.receivedData?.id?this.service.GetSMSHistory(this.receivedData?.mobile,this.receivedData?.id??null).subscribe({next:t=>{if(!1===t.succeeded)return this.messageService.add({severity:"error",summary:"Error",detail:t.message}),this.loader.stop(),void(this.SmsList=[]);t.items.length>0&&(this.SmsList=t.items,this.visibleSms=!0),this.loader.stop()}}):(this.messageService.add({severity:"warn",summary:"warn",detail:"No Mobile...!"}),this.loader.stop()),this.loader.stop()}GetCrmActionHis(){this.loader.start(),this.visibleCrmMin=!1,this.visibleSms=!1,null!=this.receivedData?.id?this.service.GetActionHistory(this.receivedData?.id).subscribe({next:t=>{if(!1===t.succeeded)return this.messageService.add({severity:"error",summary:"Error",detail:t.message}),this.loader.stop(),void(this.crmActionList=[]);this.crmActionList=t.items,this.visibleCrmAct=!0,this.loader.stop()}}):(this.messageService.add({severity:"warn",summary:"warn",detail:"No Voice ID Selected...!"}),this.loader.stop()),this.loader.stop()}GetCrmMinistryHis(){this.loader.start(),this.visibleCrmAct=!1,this.visibleSms=!1,null!=this.receivedData?.id?this.service.GetMinistryHistory(this.receivedData?.id).subscribe({next:t=>{if(!1===t.succeeded)return this.messageService.add({severity:"error",summary:"Error",detail:t.message}),this.loader.stop(),void(this.crmMinList=[]);this.crmMinList=t.items,this.visibleCrmMin=!0,this.loader.stop()}}):(this.messageService.add({severity:"warn",summary:"warn",detail:"No Voice ID Selected...!"}),this.loader.stop()),this.loader.stop()}get permissions(){return z}static#e=this.\u0275fac=function(i){return new(i||n)(e.rXU(N.ok),e.rXU(g.w),e.rXU(x),e.rXU(b.bg),e.rXU(G.eD),e.rXU(D.c$),e.rXU(O.vh),e.rXU(de.nX),e.rXU(oe.n))};static#t=this.\u0275cmp=e.VBU({type:n,selectors:[["app-action"]],inputs:{receivedData:"receivedData"},features:[e.OA$],decls:172,vars:138,consts:[[3,"formGroup"],[1,"card","py-0","form-card"],[1,"row"],[1,"col-lg-12","p-3","main-info-border"],[1,"row","g-4"],[1,"col-xl-4","col-lg-4","col-md-6","col-12"],[1,"p-float-label"],["pInputText","","id","voiceId","formControlName","id",1,"form-control",3,"readOnly"],["htmlFor","voiceId"],["formControlName","act_date",3,"dateFormat","showIcon"],["htmlFor","actionDate",1,"form-label"],[1,"col-xl-12","col-lg-12","col-md-12","col-12"],["id","float-input","rows","4","cols","30","pInputTextarea","","formControlName","eng_action_comments",1,"form-control",3,"readOnly"],["for","float-input"],[1,"col-lg-12","p-3","mt-1","main-info-border"],[1,"col-xl-3","col-lg-3","col-md-6","col-12"],["formControlName","crm_action_date",3,"dateFormat","showIcon"],["htmlFor","crmActionDate",1,"form-label"],["formControlName","crm_followup_date",3,"dateFormat","showIcon"],["htmlFor","nextFollow",1,"form-label"],[1,""],["optionLabel","name","selectedItemsLabel","{0} items selected","itemid","id","showEmptyMessage","true","dropdown","true","optionValue","id","field","name","formControlName","crm_ministry_reason",3,"options","showClear","placeholder","emptyMessage","onClick"],[1,"p-element","p-button-outlined","p-button","p-component","w-100",3,"click"],[1,"col-xl-9","col-lg-9","col-md-9","col-12"],["id","crmFollowComment","rows","4","cols","30","pInputTextarea","","formControlName","eng_crm_follow_comment",1,"form-control",3,"readOnly"],["for","crmFollowComment"],[1,"col-xl-12","col-lg-12","col-md-12","col-12","btn-con"],[1,"p-element","p-button-outlined","p-button","p-component","mx-3",3,"click"],[1,"icon",3,"name"],[1,"",3,"click"],[1,"col-xxl-12","col-xl-12","col-lg-12","col-md-12","col-12"],[1,"main-check-box","mt-3"],["inputId","closeReady",3,"binary","disabled"],["for","closeReady",1,"check-box-label"],[1,"col-xxl-12","col-xl-12","col-lg-12","col-md-12","col-12","mb-2"],["class","col-2 ",4,"ngFor","ngForOf"],[1,"card","py-0","form-card","pt-2"],[1,"col-lg-5","p-3","main-info-border"],["formControlName","close_date","inputId","icon",3,"dateFormat","showIcon"],["htmlFor","closedDate",1,"form-label"],["id","filnalRemark","rows","4","cols","30","pInputTextarea","","formControlName","eng_final_remarks",1,"form-control"],["for","filnalRemark"],[1,"col-lg-2","p-3","main-info-border","align-items-center","d-flex","justify-content-center"],["class","col-12 p-2",4,"ngFor","ngForOf"],["formControlName","next_followup_date","inputId","itcon",3,"dateFormat","showIcon"],["htmlFor","nextFollowUp",1,"form-label"],["id","redakRemarks","rows","4","cols","30","pInputTextarea","","formControlName","redak_close_remarks",1,"form-control"],["for","redakRemarks"],[1,"col-lg-6","p-3","main-info-border"],[1,"row","g-4","my-0"],[1,"col-lg-3","pb-3"],["class","col-12 pb-3",4,"ngFor","ngForOf"],["id","ministryVoiceRemark","rows","4","cols","30","pInputTextarea","",1,"form-control",3,"readOnly"],["for","ministryVoiceRemark"],[1,"container","mt-4"],[1,"row","align-items-center","g-3"],[1,"col-xxl-5","col-xl-5","col-lg-5","col-md-5","col-12"],[1,"d-flex","align-items-center"],[1,"form-check","mx-2"],["type","checkbox","id","compensation",1,"form-check-input",3,"readOnly"],["for","compensation",1,"form-check-label"],[1,"flex-grow-1"],["type","number","placeholder","Days",1,"form-control","form-days"],["type","checkbox","id","delayReply",1,"form-check-input",3,"readOnly"],["for","delayReply",1,"form-check-label"],[1,"col-2"],[1,"form-check"],["type","checkbox","id","replied",1,"form-check-input"],["for","replied",1,"form-check-label"],[1,"col-6","mb-3","ml-2"],[3,"showIcon","disabled","placeholder"],[1,"col-5","mb-3"],[3,"header","visible","visibleChange"],[4,"ngFor","ngForOf"],[4,"ngIf"],[3,"value","tableStyle"],["pTemplate","header"],["pTemplate","body"],["type","radio",1,"form-check-input","mt-1",3,"id","ngModelOptions","ngModel","value","ngModelChange"],[1,"english-title","ml-2",2,"font-size","13px","font-weight","bold",3,"ngClass","for"],[1,"col-12","p-2"],[1,"english-title","ml-2",2,"font-size","13px","font-weight","bold",3,"for"],[1,"col-12","pb-3"],["type","radio",1,"form-check-input","mt-1",3,"id","disabled","ngModelOptions","ngModel","value","ngModelChange"]],template:function(i,o){1&i&&(e.j41(0,"form",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6),e.nrm(7,"input",7),e.j41(8,"label",8),e.EFF(9),e.nI1(10,"translate"),e.k0s()()(),e.j41(11,"div",5)(12,"div",6),e.nrm(13,"p-calendar",9),e.j41(14,"label",10),e.EFF(15),e.nI1(16,"translate"),e.k0s()()(),e.j41(17,"div",11)(18,"div",6),e.nrm(19,"textarea",12),e.j41(20,"label",13),e.EFF(21),e.nI1(22,"translate"),e.k0s()()()()()()(),e.j41(23,"div",1)(24,"div",2)(25,"div",14)(26,"div",4)(27,"div",15)(28,"div",6),e.nrm(29,"p-calendar",16),e.j41(30,"label",17),e.EFF(31),e.nI1(32,"translate"),e.k0s()()(),e.j41(33,"div",15)(34,"div",6),e.nrm(35,"p-calendar",18),e.j41(36,"label",19),e.EFF(37),e.nI1(38,"translate"),e.k0s()()(),e.j41(39,"div",15)(40,"div",20)(41,"p-dropdown",21),e.bIt("onClick",function(){return o.GetCrmMinistryList("")}),e.nI1(42,"translate"),e.nI1(43,"translate"),e.k0s()()(),e.j41(44,"div",15)(45,"button",22),e.bIt("click",function(){return o.GetCrmActionHis()}),e.EFF(46),e.nI1(47,"translate"),e.k0s()(),e.j41(48,"div",23)(49,"div",6),e.nrm(50,"textarea",24),e.j41(51,"label",25),e.EFF(52),e.nI1(53,"translate"),e.k0s()()(),e.j41(54,"div",15)(55,"div",4)(56,"div",26)(57,"button",27),e.bIt("click",function(){return o.sendSMS()}),e.nrm(58,"svg-icon",28),e.EFF(59),e.nI1(60,"translate"),e.k0s(),e.j41(61,"p-button",29),e.bIt("click",function(){return o.showSMSHistory()}),e.nrm(62,"svg-icon",28),e.EFF(63),e.nI1(64,"translate"),e.k0s()(),e.j41(65,"div",30)(66,"div",31),e.nrm(67,"p-checkbox",32),e.j41(68,"label",33),e.EFF(69),e.nI1(70,"translate"),e.k0s()()()()(),e.j41(71,"div",34)(72,"div",2),e.DNE(73,hn,6,14,"div",35),e.k0s()()()()()(),e.j41(74,"div",36)(75,"div",2)(76,"div",37)(77,"div",4)(78,"div",11)(79,"div",6),e.nrm(80,"p-calendar",38),e.j41(81,"label",39),e.EFF(82),e.nI1(83,"translate"),e.k0s()()(),e.j41(84,"div",11)(85,"div",6),e.nrm(86,"textarea",40),e.j41(87,"label",41),e.EFF(88),e.nI1(89,"translate"),e.k0s()()()()(),e.j41(90,"div",42)(91,"div",4)(92,"div",3),e.DNE(93,mt,5,9,"div",43),e.k0s()()(),e.j41(94,"div",37)(95,"div",4)(96,"div",11)(97,"div",6),e.nrm(98,"p-calendar",44),e.j41(99,"label",45),e.EFF(100),e.nI1(101,"translate"),e.k0s()()(),e.j41(102,"div",11)(103,"div",6),e.nrm(104,"textarea",46),e.j41(105,"label",47),e.EFF(106),e.nI1(107,"translate"),e.k0s()()()()()()(),e.j41(108,"div",2)(109,"div",48)(110,"div",1)(111,"div",49)(112,"div",50),e.DNE(113,jn,5,10,"div",51),e.k0s(),e.j41(114,"div",23)(115,"div",6),e.nrm(116,"textarea",52),e.j41(117,"label",53),e.EFF(118),e.nI1(119,"translate"),e.k0s()()()()()(),e.j41(120,"div",48)(121,"div",1)(122,"div",49)(123,"div",30)(124,"div",49)(125,"div",54)(126,"div",55)(127,"div",56)(128,"div",57)(129,"div",58),e.nrm(130,"input",59),e.j41(131,"label",60),e.EFF(132),e.nI1(133,"translate"),e.k0s()(),e.j41(134,"div",61),e.nrm(135,"input",62),e.k0s()()(),e.j41(136,"div",56)(137,"div",57)(138,"div",58),e.nrm(139,"input",63),e.j41(140,"label",64),e.EFF(141),e.nI1(142,"translate"),e.k0s()(),e.j41(143,"div",61),e.nrm(144,"input",62),e.k0s()()(),e.j41(145,"div",65)(146,"div",66),e.nrm(147,"input",67),e.j41(148,"label",68),e.EFF(149,"Replied"),e.k0s()()(),e.j41(150,"div",69),e.nrm(151,"p-calendar",70),e.nI1(152,"translate"),e.k0s(),e.j41(153,"div",71)(154,"button",22),e.bIt("click",function(){return o.GetCrmMinistryHis()}),e.nrm(155,"svg-icon",28),e.EFF(156),e.nI1(157,"translate"),e.k0s()()()()()(),e.nrm(158,"hr"),e.k0s()()()()(),e.j41(159,"p-dialog",72),e.bIt("visibleChange",function(r){return o.visibleCrmAct=r}),e.nI1(160,"translate"),e.DNE(161,ot,3,1,"ul",73),e.DNE(162,vi,3,3,"p",74),e.k0s(),e.j41(163,"p-dialog",72),e.bIt("visibleChange",function(r){return o.visibleCrmMin=r}),e.nI1(164,"translate"),e.DNE(165,yi,3,1,"ul",73),e.DNE(166,Ti,3,3,"p",74),e.k0s(),e.j41(167,"p-dialog",72),e.bIt("visibleChange",function(r){return o.visibleSms=r}),e.nI1(168,"translate"),e.j41(169,"p-table",75),e.DNE(170,Gn,7,0,"ng-template",76),e.DNE(171,fn,7,3,"ng-template",77),e.k0s()()),2&i&&(e.Y8G("formGroup",o.form),e.R7$(7),e.Y8G("readOnly",!0),e.R7$(2),e.JRh(e.bMT(10,80,"action.voiceId")),e.R7$(4),e.Aen(e.lJ4(128,Se)),e.Y8G("dateFormat","dd/mm/yy")("showIcon",!0),e.R7$(2),e.JRh(e.bMT(16,82,"action.actionDate")),e.R7$(4),e.Y8G("readOnly",!0),e.R7$(2),e.JRh(e.bMT(22,84,"action.actionHistory")),e.R7$(8),e.Aen(e.lJ4(129,Se)),e.Y8G("dateFormat","dd/mm/yy")("showIcon",!0),e.R7$(2),e.JRh(e.bMT(32,86,"action.crmActionDate")),e.R7$(4),e.Aen(e.lJ4(130,Se)),e.Y8G("dateFormat","dd/mm/yy")("showIcon",!0),e.R7$(2),e.JRh(e.bMT(38,88,"action.nextFollow")),e.R7$(4),e.Aen(e.lJ4(131,Se)),e.FS9("placeholder",e.bMT(42,90,"action.ministryVoice")),e.FS9("emptyMessage",e.bMT(43,92,"common.noDataAvailable")),e.Y8G("options",o.ministryList)("showClear",!0),e.R7$(5),e.SpI(" ",e.bMT(47,94,"action.crmActionHis")," "),e.R7$(4),e.Y8G("readOnly",!o.permission.hasPermission(o.permissions.crm_action_update)),e.R7$(2),e.JRh(e.bMT(53,96,"action.crmFollowComment")),e.R7$(6),e.Y8G("name","send-outline"),e.R7$(1),e.SpI(" ",e.bMT(60,98,"action.sendSMS")," "),e.R7$(3),e.Y8G("name","chevron-double-right"),e.R7$(1),e.SpI(" ",e.bMT(64,100,"action.smsHistory")," "),e.R7$(4),e.Y8G("binary",!0)("disabled",!o.permission.hasPermission(o.permissions.crm_action_update)),e.R7$(2),e.SpI(" ",e.bMT(70,102,"action.closeReady")," "),e.R7$(4),e.Y8G("ngForOf",o.actionCustomerList),e.R7$(7),e.Aen(e.lJ4(132,Se)),e.Y8G("dateFormat","dd/mm/yy")("showIcon",!0),e.R7$(2),e.JRh(e.bMT(83,104,"action.closedDate")),e.R7$(6),e.JRh(e.bMT(89,106,"action.filnalRemark")),e.R7$(5),e.Y8G("ngForOf",o.langList),e.R7$(5),e.Aen(e.lJ4(133,Se)),e.Y8G("dateFormat","dd/mm/yy")("showIcon",!0),e.R7$(2),e.JRh(e.bMT(101,108,"action.nextFollowUp")),e.R7$(6),e.JRh(e.bMT(107,110,"action.redakRemarks")),e.R7$(7),e.Y8G("ngForOf",o.actionStatusList),e.R7$(3),e.Y8G("readOnly",!o.permission.hasPermission(o.permissions.crm_ministory_update)),e.R7$(2),e.JRh(e.bMT(119,112,"action.ministryVoiceRemark")),e.R7$(12),e.Y8G("readOnly",!o.permission.hasPermission(o.permissions.crm_ministory_update)),e.R7$(2),e.JRh(e.bMT(133,114,"action.compensation")),e.R7$(7),e.Y8G("readOnly",!o.permission.hasPermission(o.permissions.crm_ministory_update)),e.R7$(2),e.JRh(e.bMT(142,116,"action.delayReply")),e.R7$(10),e.FS9("placeholder",e.bMT(152,118,"action.escalateDate")),e.Y8G("showIcon",!0)("disabled",!o.permission.hasPermission(o.permissions.crm_ministory_update)),e.R7$(4),e.Y8G("name","chevron-double-right"),e.R7$(1),e.SpI(" ",e.bMT(157,120,"action.ministryActionHistory")," "),e.R7$(3),e.Aen(e.lJ4(134,Bn)),e.FS9("header",e.bMT(160,122,"action.crmActionHis")),e.Y8G("visible",o.visibleCrmAct),e.R7$(2),e.Y8G("ngForOf",o.crmActionList),e.R7$(1),e.Y8G("ngIf",o.crmActionList),e.R7$(1),e.Aen(e.lJ4(135,Bn)),e.FS9("header",e.bMT(164,124,"action.ministryActionHistory")),e.Y8G("visible",o.visibleCrmMin),e.R7$(2),e.Y8G("ngForOf",o.crmMinList),e.R7$(1),e.Y8G("ngIf",o.crmMinList),e.R7$(1),e.Aen(e.lJ4(136,Ci)),e.FS9("header",e.bMT(168,126,"action.smsHistory")),e.Y8G("visible",o.visibleSms),e.R7$(2),e.Y8G("value",o.SmsList)("tableStyle",e.lJ4(137,Ii)))},dependencies:[ee.DM,N.qT,N.me,N.Fm,N.BC,N.cb,N.vS,O.YU,O.Sq,O.bT,N.j4,N.JD,Z.$n,b.Ei,he.XI,Ee.Sc,ke.S,Ve,f.ms,k.Vv,Ut,D.D9],styles:[".btn-con[_ngcontent-%COMP%]{justify-content:space-around;display:flex}hr[_ngcontent-%COMP%]{border-top:1px solid #afaeae!important;margin:0!important}.form-days[_ngcontent-%COMP%]{width:50%}"]})}return n})();var Et=function(n){return n[n.Chassis=1]="Chassis",n[n.Plate_No=2]="Plate_No",n}(Et||{});let De=(()=>{class n{constructor(t){this.http=t,this.TOKEN_KEY="EMRtoken",this.apiUrl=_.c.APIUrl}GetInboundDataByChass(t){return this.http.get(this.apiUrl+"inbound/get_inbound/chass_by_mobile/"+t)}GetInboundDataByJob(t){return this.http.get(this.apiUrl+"inbound/get_inbound/chass_by_mobile/job_by_chass/"+t)}GetCustomerVoiceList(){return this.http.get(this.apiUrl+"inbound/get_inbound/customer_voice")}GetComplaintList(t){return this.http.get(this.apiUrl+"inbound/get_inbound/customer_voice/type/"+t)}GetSourceList(){return this.http.get(this.apiUrl+"inbound/get_inbound/customer_voice/source_list")}GetInboundDataByVoiceID(t){return this.http.get(this.apiUrl+"inbound/post_inbound/insert_update_inbound?p_id="+t)}createInbound(t){return this.http.post(this.apiUrl+"inbound/post_inbound/insert_update_inbound",t)}updateInbound(t){return this.http.put(this.apiUrl+"inbound/post_inbound/insert_update_inbound",t)}static#e=this.\u0275fac=function(i){return new(i||n)(e.KVO(T.Qq))};static#t=this.\u0275prov=e.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),xi=(()=>{class n{constructor(t){this.http=t,this.TOKEN_KEY="EMRtoken",this.apiUrl=_.c.APIUrl}GetUserIdByEmail(t){return this.http.get(this.apiUrl+"inbound/get_inbound/crm_update_allowed/"+t)}GetChassNum(t,i){return this.http.get(this.apiUrl+"inbound/get_inbound/search_chass/"+t+"/"+i)}static#e=this.\u0275fac=function(i){return new(i||n)(e.KVO(T.Qq))};static#t=this.\u0275prov=e.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var mn=w(5114),Pt=w(9998),St=function(n){return n[n.Pending=1]="Pending",n[n.Closed=2]="Closed",n}(St||{});let wi=(()=>{class n{noSpecialCharacters(t){const i=t.key,o=/^[a-zA-Z0-9\u0600-\u06FF\s]+$/.test(i);" "===i&&""===t.target.value.trim()?t.preventDefault():o||t.preventDefault()}spaceValidator(t){const i=t.value;return i&&"string"==typeof i&&!/^\s*$/.test(i)?null:{required:!0}}noSpecialCharactersOnPaste(t){const o=t.clipboardData.getData("text");""===o.trim()||" "===o[0]?t.preventDefault():/^[a-zA-Z0-9\u0600-\u06FF\s]+$/.test(o)||t.preventDefault()}numberOnly(t){const i=t.which?t.which:t.keyCode;if(i>=48&&i<=57||46===i||"paste"===t.type){if("paste"===t.type){const o=t.clipboardData.getData("text");if(isNaN(Number(o)))return t.preventDefault(),!1}else if(46===i&&t.target.value&&t.target.value.includes("."))return!1;return!0}return!1}noLeadingSpaceValidator(t){const i=t.value;if(i&&"string"==typeof i){if(i.startsWith(" "))return{leadingSpace:!0};const o=i.replace(/\s{2,}/g," ");return i!==o&&t.setValue(o,{emitEvent:!1}),null}return null}trimTrailingSpaces(t){const i=t.value;if(i&&"string"==typeof i){let o=i.replace(/^\s+/,"");o=o.replace(/\s{2,}/g," "),o.endsWith("  ")&&(o=o.replace(/\s+$/," ")),i!==o&&t.setValue(o,{emitEvent:!1})}return null}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=e.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Ae=w(9335),Ze=w(9071),gt=w(8542),kt=w(3306),$n=w(5998),Ht=w(2816),lt=w(2423);function Vn(n,s){1&n&&e.nrm(0,"CheckIcon",7),2&n&&e.Y8G("styleClass","p-checkbox-icon")}function Yt(n,s){}function Je(n,s){1&n&&e.DNE(0,Yt,0,0,"ng-template")}function gn(n,s){if(1&n&&(e.j41(0,"span",8),e.DNE(1,Je,1,0,null,9),e.k0s()),2&n){const t=e.XpG(2);e.R7$(1),e.Y8G("ngTemplateOutlet",t.checkIconTemplate)}}function Ei(n,s){if(1&n&&(e.qex(0),e.DNE(1,Vn,1,1,"CheckIcon",5),e.DNE(2,gn,2,1,"span",6),e.bVm()),2&n){const t=e.XpG();e.R7$(1),e.Y8G("ngIf",!t.checkIconTemplate),e.R7$(1),e.Y8G("ngIf",t.checkIconTemplate)}}function Si(n,s){if(1&n&&(e.j41(0,"span"),e.EFF(1),e.k0s()),2&n){const t=e.XpG();e.R7$(1),e.JRh(t.label)}}function ki(n,s){1&n&&e.eu8(0)}const Nt=function(n){return{height:n}},Ni=function(n,s){return{"p-highlight":n,"p-disabled":s}},zt=function(n){return{"p-highlight":n}},_t=function(n){return{$implicit:n}},Lt=["container"],Un=["overlay"],Pn=["filterInput"],Li=["in"],Ai=["items"],Ri=["scroller"];function Oi(n,s){if(1&n&&(e.qex(0),e.EFF(1),e.bVm()),2&n){const t=e.XpG(2);e.R7$(1),e.JRh(t.valuesAsString||"empty")}}function _n(n,s){if(1&n){const t=e.RV6();e.j41(0,"TimesCircleIcon",20),e.bIt("click",function(){e.eBV(t);const o=e.XpG(2).$implicit,l=e.XpG(3);return e.Njj(l.removeChip(o,l.event))}),e.k0s()}2&n&&e.Y8G("styleClass","p-multiselect-token-icon")}function Di(n,s){1&n&&e.eu8(0)}function Fi(n,s){if(1&n){const t=e.RV6();e.j41(0,"span",21),e.bIt("click",function(){e.eBV(t);const o=e.XpG(2).$implicit,l=e.XpG(3);return e.Njj(l.removeChip(o,l.event))}),e.DNE(1,Di,1,0,"ng-container",22),e.k0s()}if(2&n){const t=e.XpG(5);e.R7$(1),e.Y8G("ngTemplateOutlet",t.removeTokenIconTemplate)}}function At(n,s){if(1&n&&(e.qex(0),e.DNE(1,_n,1,1,"TimesCircleIcon",18),e.DNE(2,Fi,2,1,"span",19),e.bVm()),2&n){const t=e.XpG(4);e.R7$(1),e.Y8G("ngIf",!t.removeTokenIconTemplate),e.R7$(1),e.Y8G("ngIf",t.removeTokenIconTemplate)}}function ze(n,s){if(1&n&&(e.j41(0,"div",15,16)(2,"span",17),e.EFF(3),e.k0s(),e.DNE(4,At,3,2,"ng-container",7),e.k0s()),2&n){const t=s.$implicit,i=e.XpG(3);e.R7$(3),e.JRh(i.findLabelByValue(t)),e.R7$(1),e.Y8G("ngIf",!i.disabled)}}function rt(n,s){if(1&n&&(e.qex(0),e.EFF(1),e.bVm()),2&n){const t=e.XpG(3);e.R7$(1),e.JRh(t.placeholder||t.defaultLabel||"empty")}}function at(n,s){if(1&n&&(e.qex(0),e.DNE(1,ze,5,2,"div",14),e.DNE(2,rt,2,1,"ng-container",7),e.bVm()),2&n){const t=e.XpG(2);e.R7$(1),e.Y8G("ngForOf",t.value),e.R7$(1),e.Y8G("ngIf",!t.value||0===t.value.length)}}function Mi(n,s){if(1&n&&(e.qex(0),e.DNE(1,Oi,2,1,"ng-container",7),e.DNE(2,at,3,2,"ng-container",7),e.bVm()),2&n){const t=e.XpG();e.R7$(1),e.Y8G("ngIf","comma"===t.display),e.R7$(1),e.Y8G("ngIf","chip"===t.display)}}function We(n,s){1&n&&e.eu8(0)}function ji(n,s){if(1&n){const t=e.RV6();e.j41(0,"TimesIcon",20),e.bIt("click",function(o){e.eBV(t);const l=e.XpG(2);return e.Njj(l.clear(o))}),e.k0s()}2&n&&e.Y8G("styleClass","p-multiselect-clear-icon")}function Gi(n,s){}function Bi(n,s){1&n&&e.DNE(0,Gi,0,0,"ng-template")}function qi(n,s){if(1&n){const t=e.RV6();e.j41(0,"span",24),e.bIt("click",function(o){e.eBV(t);const l=e.XpG(2);return e.Njj(l.clear(o))}),e.DNE(1,Bi,1,0,null,22),e.k0s()}if(2&n){const t=e.XpG(2);e.R7$(1),e.Y8G("ngTemplateOutlet",t.clearIconTemplate)}}function Hn(n,s){if(1&n&&(e.qex(0),e.DNE(1,ji,1,1,"TimesIcon",18),e.DNE(2,qi,2,1,"span",23),e.bVm()),2&n){const t=e.XpG();e.R7$(1),e.Y8G("ngIf",!t.clearIconTemplate),e.R7$(1),e.Y8G("ngIf",t.clearIconTemplate)}}function Be(n,s){if(1&n&&e.nrm(0,"span",27),2&n){const t=e.XpG(2);e.Y8G("ngClass",t.dropdownIcon)}}function Yn(n,s){1&n&&e.nrm(0,"ChevronDownIcon",28),2&n&&e.Y8G("styleClass","p-multiselect-trigger-icon")}function zn(n,s){if(1&n&&(e.qex(0),e.DNE(1,Be,1,1,"span",25),e.DNE(2,Yn,1,1,"ChevronDownIcon",26),e.bVm()),2&n){const t=e.XpG();e.R7$(1),e.Y8G("ngIf",t.dropdownIcon),e.R7$(1),e.Y8G("ngIf",!t.dropdownIcon)}}function Xt(n,s){}function bn(n,s){1&n&&e.DNE(0,Xt,0,0,"ng-template")}function Kt(n,s){if(1&n&&(e.j41(0,"span",29),e.DNE(1,bn,1,0,null,22),e.k0s()),2&n){const t=e.XpG();e.R7$(1),e.Y8G("ngTemplateOutlet",t.dropdownIconTemplate)}}function $i(n,s){1&n&&e.eu8(0)}function Xn(n,s){1&n&&e.eu8(0)}const Qt=function(n){return{options:n}};function Kn(n,s){if(1&n&&(e.qex(0),e.DNE(1,Xn,1,0,"ng-container",8),e.bVm()),2&n){const t=e.XpG(3);e.R7$(1),e.Y8G("ngTemplateOutlet",t.filterTemplate)("ngTemplateOutletContext",e.eq3(2,Qt,t.filterOptions))}}function et(n,s){1&n&&e.nrm(0,"CheckIcon",28),2&n&&e.Y8G("styleClass","p-checkbox-icon")}function Qn(n,s){}function vn(n,s){1&n&&e.DNE(0,Qn,0,0,"ng-template")}function Vi(n,s){if(1&n&&(e.j41(0,"span",47),e.DNE(1,vn,1,0,null,22),e.k0s()),2&n){const t=e.XpG(6);e.R7$(1),e.Y8G("ngTemplateOutlet",t.checkIconTemplate)}}function Ui(n,s){if(1&n&&(e.qex(0),e.DNE(1,et,1,1,"CheckIcon",26),e.DNE(2,Vi,2,1,"span",46),e.bVm()),2&n){const t=e.XpG(5);e.R7$(1),e.Y8G("ngIf",!t.checkIconTemplate),e.R7$(1),e.Y8G("ngIf",t.checkIconTemplate)}}const a=function(n){return{"p-checkbox-disabled":n}},u=function(n,s,t){return{"p-highlight":n,"p-focus":s,"p-disabled":t}};function p(n,s){if(1&n){const t=e.RV6();e.j41(0,"div",43)(1,"div",2)(2,"input",44),e.bIt("focus",function(){e.eBV(t);const o=e.XpG(4);return e.Njj(o.onHeaderCheckboxFocus())})("blur",function(){e.eBV(t);const o=e.XpG(4);return e.Njj(o.onHeaderCheckboxBlur())})("keydown.space",function(o){e.eBV(t);const l=e.XpG(4);return e.Njj(l.toggleAll(o))}),e.k0s()(),e.j41(3,"div",45),e.bIt("click",function(o){e.eBV(t);const l=e.XpG(4);return e.Njj(l.toggleAll(o))}),e.DNE(4,Ui,3,2,"ng-container",7),e.k0s()()}if(2&n){const t=e.XpG(4);e.Y8G("ngClass",e.eq3(6,a,t.disabled||t.toggleAllDisabled)),e.R7$(2),e.Y8G("checked",t.allChecked)("disabled",t.disabled||t.toggleAllDisabled),e.R7$(1),e.Y8G("ngClass",e.sMw(8,u,t.allChecked,t.headerCheckboxFocus,t.disabled||t.toggleAllDisabled)),e.BMQ("aria-checked",t.allChecked),e.R7$(1),e.Y8G("ngIf",t.allChecked)}}function y(n,s){1&n&&e.nrm(0,"SearchIcon",28),2&n&&e.Y8G("styleClass","p-multiselect-filter-icon")}function ne(n,s){}function Y(n,s){1&n&&e.DNE(0,ne,0,0,"ng-template")}function ue(n,s){if(1&n&&(e.j41(0,"span",52),e.DNE(1,Y,1,0,null,22),e.k0s()),2&n){const t=e.XpG(5);e.R7$(1),e.Y8G("ngTemplateOutlet",t.filterIconTemplate)}}function pe(n,s){if(1&n){const t=e.RV6();e.j41(0,"div",48)(1,"input",49,50),e.bIt("input",function(o){e.eBV(t);const l=e.XpG(4);return e.Njj(l.onFilterInputChange(o))}),e.k0s(),e.DNE(3,y,1,1,"SearchIcon",26),e.DNE(4,ue,2,1,"span",51),e.k0s()}if(2&n){const t=e.XpG(4);e.R7$(1),e.Y8G("value",t.filterValue||"")("disabled",t.disabled),e.BMQ("autocomplete",t.autocomplete)("placeholder",t.filterPlaceHolder)("aria-label",t.ariaFilterLabel),e.R7$(2),e.Y8G("ngIf",!t.filterIconTemplate),e.R7$(1),e.Y8G("ngIf",t.filterIconTemplate)}}function Le(n,s){1&n&&e.nrm(0,"TimesIcon",28),2&n&&e.Y8G("styleClass","p-multiselect-close-icon")}function _e(n,s){}function je(n,s){1&n&&e.DNE(0,_e,0,0,"ng-template")}function qe(n,s){if(1&n&&(e.j41(0,"span",53),e.DNE(1,je,1,0,null,22),e.k0s()),2&n){const t=e.XpG(4);e.R7$(1),e.Y8G("ngTemplateOutlet",t.closeIconTemplate)}}function Re(n,s){if(1&n){const t=e.RV6();e.DNE(0,p,5,12,"div",39),e.DNE(1,pe,5,7,"div",40),e.j41(2,"button",41),e.bIt("click",function(o){e.eBV(t);const l=e.XpG(3);return e.Njj(l.close(o))}),e.DNE(3,Le,1,1,"TimesIcon",26),e.DNE(4,qe,2,1,"span",42),e.k0s()}if(2&n){const t=e.XpG(3);e.Y8G("ngIf",t.showToggleAll&&!t.selectionLimit),e.R7$(1),e.Y8G("ngIf",t.filter),e.R7$(2),e.Y8G("ngIf",!t.closeIconTemplate),e.R7$(1),e.Y8G("ngIf",t.closeIconTemplate)}}function Ge(n,s){if(1&n&&(e.j41(0,"div",36),e.SdG(1),e.DNE(2,$i,1,0,"ng-container",22),e.DNE(3,Kn,2,4,"ng-container",37),e.DNE(4,Re,5,4,"ng-template",null,38,e.C5r),e.k0s()),2&n){const t=e.sdS(5),i=e.XpG(2);e.R7$(2),e.Y8G("ngTemplateOutlet",i.headerTemplate),e.R7$(1),e.Y8G("ngIf",i.filterTemplate)("ngIfElse",t)}}function Fe(n,s){1&n&&e.eu8(0)}const ct=function(n,s){return{$implicit:n,options:s}};function ut(n,s){if(1&n&&e.DNE(0,Fe,1,0,"ng-container",8),2&n){const t=s.$implicit,i=s.options;e.XpG(2);const o=e.sdS(6);e.Y8G("ngTemplateOutlet",o)("ngTemplateOutletContext",e.l_i(2,ct,t,i))}}function Rt(n,s){1&n&&e.eu8(0)}function us(n,s){if(1&n&&e.DNE(0,Rt,1,0,"ng-container",8),2&n){const t=s.options,i=e.XpG(4);e.Y8G("ngTemplateOutlet",i.loaderTemplate)("ngTemplateOutletContext",e.eq3(2,Qt,t))}}function Zn(n,s){1&n&&(e.qex(0),e.DNE(1,us,1,4,"ng-template",56),e.bVm())}function Jn(n,s){if(1&n){const t=e.RV6();e.j41(0,"p-scroller",54,55),e.bIt("onLazyLoad",function(o){e.eBV(t);const l=e.XpG(2);return e.Njj(l.onLazyLoad.emit(o))}),e.DNE(2,ut,1,5,"ng-template",13),e.DNE(3,Zn,2,0,"ng-container",7),e.k0s()}if(2&n){const t=e.XpG(2);e.Aen(e.eq3(9,Nt,t.scrollHeight)),e.Y8G("items",t.optionsToRender)("itemSize",t.virtualScrollItemSize||t._itemSize)("autoSize",!0)("tabindex",-1)("lazy",t.lazy)("options",t.virtualScrollOptions),e.R7$(3),e.Y8G("ngIf",t.loaderTemplate)}}function ia(n,s){1&n&&e.eu8(0)}const sa=function(){return{}};function oa(n,s){if(1&n&&(e.qex(0),e.DNE(1,ia,1,0,"ng-container",8),e.bVm()),2&n){e.XpG();const t=e.sdS(6),i=e.XpG();e.R7$(1),e.Y8G("ngTemplateOutlet",t)("ngTemplateOutletContext",e.l_i(3,ct,i.optionsToRender,e.lJ4(2,sa)))}}function la(n,s){if(1&n&&(e.j41(0,"span"),e.EFF(1),e.k0s()),2&n){const t=e.XpG().$implicit,i=e.XpG(4);e.R7$(1),e.JRh(i.getOptionGroupLabel(t)||"empty")}}function ra(n,s){1&n&&e.eu8(0)}function aa(n,s){1&n&&e.eu8(0)}function ca(n,s){if(1&n&&(e.j41(0,"li",62),e.DNE(1,la,2,1,"span",7),e.DNE(2,ra,1,0,"ng-container",8),e.k0s(),e.DNE(3,aa,1,0,"ng-container",8)),2&n){const t=s.$implicit,i=e.XpG(2).options,o=e.sdS(5),l=e.XpG(2);e.Y8G("ngStyle",e.eq3(6,Nt,i.itemSize+"px")),e.R7$(1),e.Y8G("ngIf",!l.groupTemplate),e.R7$(1),e.Y8G("ngTemplateOutlet",l.groupTemplate)("ngTemplateOutletContext",e.eq3(8,_t,t)),e.R7$(1),e.Y8G("ngTemplateOutlet",o)("ngTemplateOutletContext",e.eq3(10,_t,l.getOptionGroupChildren(t)))}}function ua(n,s){if(1&n&&(e.qex(0),e.DNE(1,ca,4,12,"ng-template",61),e.bVm()),2&n){const t=e.XpG().$implicit;e.R7$(1),e.Y8G("ngForOf",t)}}function da(n,s){1&n&&e.eu8(0)}function pa(n,s){if(1&n&&(e.qex(0),e.DNE(1,da,1,0,"ng-container",8),e.bVm()),2&n){const t=e.XpG().$implicit,i=e.sdS(5);e.R7$(1),e.Y8G("ngTemplateOutlet",i)("ngTemplateOutletContext",e.eq3(2,_t,t))}}function ha(n,s){if(1&n){const t=e.RV6();e.j41(0,"p-multiSelectItem",63),e.bIt("onClick",function(o){e.eBV(t);const l=e.XpG(4);return e.Njj(l.onOptionClick(o))})("onKeydown",function(o){e.eBV(t);const l=e.XpG(4);return e.Njj(l.onOptionKeydown(o))}),e.k0s()}if(2&n){const t=s.$implicit,i=e.XpG(2).options,o=e.XpG(2);e.Y8G("option",t)("selected",o.isSelected(t))("label",o.getOptionLabel(t))("disabled",o.isOptionDisabled(t))("template",o.itemTemplate)("checkIconTemplate",o.checkIconTemplate)("itemSize",i.itemSize)}}function fa(n,s){1&n&&e.DNE(0,ha,1,7,"ng-template",61),2&n&&e.Y8G("ngForOf",s.$implicit)}function ma(n,s){if(1&n&&(e.qex(0),e.EFF(1),e.bVm()),2&n){const t=e.XpG(4);e.R7$(1),e.SpI(" ",t.emptyFilterMessageLabel," ")}}function ga(n,s){1&n&&e.eu8(0,null,65)}function _a(n,s){if(1&n&&(e.j41(0,"li",64),e.DNE(1,ma,2,1,"ng-container",37),e.DNE(2,ga,2,0,"ng-container",22),e.k0s()),2&n){const t=e.XpG().options,i=e.XpG(2);e.Y8G("ngStyle",e.eq3(4,Nt,t.itemSize+"px")),e.R7$(1),e.Y8G("ngIf",!i.emptyFilterTemplate&&!i.emptyTemplate)("ngIfElse",i.emptyFilter),e.R7$(1),e.Y8G("ngTemplateOutlet",i.emptyFilterTemplate||i.emptyTemplate)}}function ba(n,s){if(1&n&&(e.qex(0),e.EFF(1),e.bVm()),2&n){const t=e.XpG(4);e.R7$(1),e.SpI(" ",t.emptyMessageLabel," ")}}function va(n,s){1&n&&e.eu8(0,null,66)}function ya(n,s){if(1&n&&(e.j41(0,"li",64),e.DNE(1,ba,2,1,"ng-container",37),e.DNE(2,va,2,0,"ng-container",22),e.k0s()),2&n){const t=e.XpG().options,i=e.XpG(2);e.Y8G("ngStyle",e.eq3(4,Nt,t.itemSize+"px")),e.R7$(1),e.Y8G("ngIf",!i.emptyTemplate)("ngIfElse",i.empty),e.R7$(1),e.Y8G("ngTemplateOutlet",i.emptyTemplate)}}function Ta(n,s){if(1&n&&(e.j41(0,"ul",57,58),e.DNE(2,ua,2,1,"ng-container",7),e.DNE(3,pa,2,4,"ng-container",7),e.DNE(4,fa,1,1,"ng-template",null,59,e.C5r),e.DNE(6,_a,3,6,"li",60),e.DNE(7,ya,3,6,"li",60),e.k0s()),2&n){const t=s.options,i=e.XpG(2);e.Aen(t.contentStyle),e.Y8G("ngClass",t.contentStyleClass),e.R7$(2),e.Y8G("ngIf",i.group),e.R7$(1),e.Y8G("ngIf",!i.group),e.R7$(3),e.Y8G("ngIf",i.hasFilter()&&i.isEmpty()),e.R7$(1),e.Y8G("ngIf",!i.hasFilter()&&i.isEmpty())}}function Ca(n,s){1&n&&e.eu8(0)}function Ia(n,s){if(1&n&&(e.j41(0,"div",67),e.SdG(1,1),e.DNE(2,Ca,1,0,"ng-container",22),e.k0s()),2&n){const t=e.XpG(2);e.R7$(2),e.Y8G("ngTemplateOutlet",t.footerTemplate)}}const xa=function(){return["p-multiselect-panel p-component"]};function wa(n,s){if(1&n){const t=e.RV6();e.j41(0,"div",30),e.bIt("keydown",function(o){e.eBV(t);const l=e.XpG();return e.Njj(l.onKeydown(o))}),e.DNE(1,Ge,6,3,"div",31),e.j41(2,"div",32),e.DNE(3,Jn,4,11,"p-scroller",33),e.DNE(4,oa,2,6,"ng-container",7),e.DNE(5,Ta,8,7,"ng-template",null,34,e.C5r),e.k0s(),e.DNE(7,Ia,3,1,"div",35),e.k0s()}if(2&n){const t=e.XpG();e.HbH(t.panelStyleClass),e.Y8G("ngClass",e.lJ4(10,xa))("ngStyle",t.panelStyle),e.R7$(1),e.Y8G("ngIf",t.showHeader),e.R7$(1),e.xc7("max-height",t.virtualScroll?"auto":t.scrollHeight||"auto"),e.R7$(1),e.Y8G("ngIf",t.virtualScroll),e.R7$(1),e.Y8G("ngIf",!t.virtualScroll),e.R7$(3),e.Y8G("ngIf",t.footerFacet||t.footerTemplate)}}const Ea=[[["p-header"]],[["p-footer"]]],Sa=function(n,s,t,i){return{"p-multiselect p-component":!0,"p-multiselect-open":n,"p-multiselect-chip":s,"p-focus":t,"p-disabled":i}},ka=function(n,s){return{"p-placeholder":n,"p-multiselect-label-empty":s}},Na=function(n,s){return{$implicit:n,removeChip:s}},La=function(){return{"p-multiselect-trigger":!0}},Aa=["p-header","p-footer"],Ra={provide:N.kq,useExisting:(0,e.Rfq)(()=>Ho),multi:!0};let Oa=(()=>{class n{option;selected;label;disabled;itemSize;template;checkIconTemplate;onClick=new e.bkB;onKeydown=new e.bkB;onOptionClick(t){this.onClick.emit({originalEvent:t,option:this.option,selected:this.selected})}onOptionKeydown(t){this.onKeydown.emit({originalEvent:t,option:this.option})}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=e.VBU({type:n,selectors:[["p-multiSelectItem"]],hostAttrs:[1,"p-element"],inputs:{option:"option",selected:"selected",label:"label",disabled:"disabled",itemSize:"itemSize",template:"template",checkIconTemplate:"checkIconTemplate"},outputs:{onClick:"onClick",onKeydown:"onKeydown"},decls:6,vars:18,consts:[["pRipple","",1,"p-multiselect-item",3,"ngStyle","ngClass","click","keydown"],[1,"p-checkbox","p-component"],[1,"p-checkbox-box",3,"ngClass"],[4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"styleClass",4,"ngIf"],["class","p-checkbox-icon",4,"ngIf"],[3,"styleClass"],[1,"p-checkbox-icon"],[4,"ngTemplateOutlet"]],template:function(i,o){1&i&&(e.j41(0,"li",0),e.bIt("click",function(r){return o.onOptionClick(r)})("keydown",function(r){return o.onOptionKeydown(r)}),e.j41(1,"div",1)(2,"div",2),e.DNE(3,Ei,3,2,"ng-container",3),e.k0s()(),e.DNE(4,Si,2,1,"span",3),e.DNE(5,ki,1,0,"ng-container",4),e.k0s()),2&i&&(e.Y8G("ngStyle",e.eq3(9,Nt,o.itemSize+"px"))("ngClass",e.l_i(11,Ni,o.selected,o.disabled)),e.BMQ("aria-label",o.label)("tabindex",o.disabled?null:"0"),e.R7$(2),e.Y8G("ngClass",e.eq3(14,zt,o.selected)),e.R7$(1),e.Y8G("ngIf",o.selected),e.R7$(1),e.Y8G("ngIf",!o.template),e.R7$(1),e.Y8G("ngTemplateOutlet",o.template)("ngTemplateOutletContext",e.eq3(16,_t,o.option)))},dependencies:function(){return[O.YU,O.bT,O.T3,O.B3,F.n,kt.S]},encapsulation:2})}return n})(),Ho=(()=>{class n{el;renderer;cd;zone;filterService;config;overlayService;style;styleClass;panelStyle;panelStyleClass;inputId;disabled;readonly;group;filter=!0;filterPlaceHolder;filterLocale;overlayVisible;tabindex;appendTo;dataKey;name;label;ariaLabelledBy;displaySelectedLabel=!0;maxSelectedLabels=3;selectionLimit;selectedItemsLabel="ellipsis";showToggleAll=!0;emptyFilterMessage="";emptyMessage="";resetFilterOnHide=!1;dropdownIcon;optionLabel;optionValue;optionDisabled;optionGroupLabel;optionGroupChildren="items";showHeader=!0;filterBy;scrollHeight="200px";lazy=!1;virtualScroll;virtualScrollItemSize;virtualScrollOptions;overlayOptions;ariaFilterLabel;filterMatchMode="contains";tooltip="";tooltipPosition="right";tooltipPositionStyle="absolute";tooltipStyleClass;autofocusFilter=!0;display="comma";autocomplete="on";showClear=!1;get autoZIndex(){return this._autoZIndex}set autoZIndex(t){this._autoZIndex=t,console.warn("The autoZIndex property is deprecated since v14.2.0, use overlayOptions property instead.")}get baseZIndex(){return this._baseZIndex}set baseZIndex(t){this._baseZIndex=t,console.warn("The baseZIndex property is deprecated since v14.2.0, use overlayOptions property instead.")}get showTransitionOptions(){return this._showTransitionOptions}set showTransitionOptions(t){this._showTransitionOptions=t,console.warn("The showTransitionOptions property is deprecated since v14.2.0, use overlayOptions property instead.")}get hideTransitionOptions(){return this._hideTransitionOptions}set hideTransitionOptions(t){this._hideTransitionOptions=t,console.warn("The hideTransitionOptions property is deprecated since v14.2.0, use overlayOptions property instead.")}set defaultLabel(t){this._defaultLabel=t,this.updateLabel()}get defaultLabel(){return this._defaultLabel}set placeholder(t){this._placeholder=t,this.updateLabel()}get placeholder(){return this._placeholder}get options(){return this._options}set options(t){this._options=t,this.updateLabel()}get filterValue(){return this._filterValue}set filterValue(t){this._filterValue=t,this.activateFilter()}get itemSize(){return this._itemSize}set itemSize(t){this._itemSize=t,console.warn("The itemSize property is deprecated, use virtualScrollItemSize property instead.")}containerViewChild;overlayViewChild;filterInputChild;accessibleViewChild;itemsViewChild;scroller;footerFacet;headerFacet;templates;onChange=new e.bkB;onFilter=new e.bkB;onFocus=new e.bkB;onBlur=new e.bkB;onClick=new e.bkB;onClear=new e.bkB;onPanelShow=new e.bkB;onPanelHide=new e.bkB;onLazyLoad=new e.bkB;onRemove=new e.bkB;_autoZIndex;_baseZIndex;_showTransitionOptions;_hideTransitionOptions;_defaultLabel;_placeholder;_itemSize;value;_filteredOptions;onModelChange=()=>{};onModelTouched=()=>{};valuesAsString;focus;filled;_filterValue;filtered;itemTemplate;groupTemplate;loaderTemplate;headerTemplate;filterTemplate;footerTemplate;emptyFilterTemplate;emptyTemplate;selectedItemsTemplate;checkIconTemplate;filterIconTemplate;removeTokenIconTemplate;closeIconTemplate;clearIconTemplate;dropdownIconTemplate;headerCheckboxFocus;filterOptions;_options;maxSelectionLimitReached;preventModelTouched;preventDocumentDefault;constructor(t,i,o,l,r,c,d){this.el=t,this.renderer=i,this.cd=o,this.zone=l,this.filterService=r,this.config=c,this.overlayService=d}ngOnInit(){this.updateLabel(),this.filterBy&&(this.filterOptions={filter:t=>this.onFilterInputChange(t),reset:()=>this.resetFilter()})}ngAfterContentInit(){this.templates.forEach(t=>{switch(t.getType()){case"item":default:this.itemTemplate=t.template;break;case"group":this.groupTemplate=t.template;break;case"selectedItems":this.selectedItemsTemplate=t.template;break;case"header":this.headerTemplate=t.template;break;case"filter":this.filterTemplate=t.template;break;case"emptyfilter":this.emptyFilterTemplate=t.template;break;case"empty":this.emptyTemplate=t.template;break;case"footer":this.footerTemplate=t.template;break;case"loader":this.loaderTemplate=t.template;break;case"checkicon":this.checkIconTemplate=t.template;break;case"filtericon":this.filterIconTemplate=t.template;break;case"removetokenicon":this.removeTokenIconTemplate=t.template;break;case"closeicon":this.closeIconTemplate=t.template;break;case"clearicon":this.clearIconTemplate=t.template;break;case"dropdownicon":this.dropdownIconTemplate=t.template}})}ngAfterViewInit(){this.overlayVisible&&this.show()}ngAfterViewChecked(){this.filtered&&(this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.overlayViewChild?.alignOverlay()},1)}),this.filtered=!1)}getOptionLabel(t){return this.optionLabel?V.BF.resolveFieldData(t,this.optionLabel):t&&null!=t.label?t.label:t}getOptionValue(t){return this.optionValue?V.BF.resolveFieldData(t,this.optionValue):!this.optionLabel&&t&&void 0!==t.value?t.value:t}getOptionGroupLabel(t){return this.optionGroupLabel?V.BF.resolveFieldData(t,this.optionGroupLabel):t&&null!=t.label?t.label:t}getOptionGroupChildren(t){return this.optionGroupChildren?V.BF.resolveFieldData(t,this.optionGroupChildren):t.items}isOptionDisabled(t){return(this.optionDisabled?V.BF.resolveFieldData(t,this.optionDisabled):!(!t||void 0===t.disabled)&&t.disabled)||this.maxSelectionLimitReached&&!this.isSelected(t)}writeValue(t){this.value=t,this.updateLabel(),this.updateFilledState(),this.checkSelectionLimit(),this.cd.markForCheck()}checkSelectionLimit(){this.maxSelectionLimitReached=!(!this.selectionLimit||!this.value||this.value.length!==this.selectionLimit)}updateFilledState(){this.filled=this.value&&this.value.length>0}registerOnChange(t){this.onModelChange=t}registerOnTouched(t){this.onModelTouched=t}setDisabledState(t){this.disabled=t,this.cd.markForCheck()}onOptionClick(t){let i=t.option;if(this.isOptionDisabled(i))return;let o=this.getOptionValue(i),l=this.findSelectionIndex(o);-1!=l?(this.value=this.value.filter((r,c)=>c!=l),this.onRemove.emit({newValue:this.value,removed:o}),this.selectionLimit&&(this.maxSelectionLimitReached=!1)):((!this.selectionLimit||!this.value||this.value.length<this.selectionLimit)&&(this.value=[...this.value||[],o]),this.checkSelectionLimit()),this.onModelChange(this.value),this.onChange.emit({originalEvent:t.originalEvent,value:this.value,itemValue:o}),this.updateLabel(),this.updateFilledState()}isSelected(t){return-1!=this.findSelectionIndex(this.getOptionValue(t))}findSelectionIndex(t){let i=-1;if(this.value)for(let o=0;o<this.value.length;o++)if(V.BF.equals(this.value[o],t,this.dataKey)){i=o;break}return i}get toggleAllDisabled(){let t=this.optionsToRender;if(!t||0===t.length)return!0;for(let i of t)if(!this.isOptionDisabled(i))return!1;return!0}toggleAll(t){this.disabled||this.toggleAllDisabled||this.readonly||(this.allChecked?this.uncheckAll():this.checkAll(),this.onModelChange(this.value),this.onChange.emit({originalEvent:t,value:this.value}),this.updateFilledState(),this.updateLabel(),t.preventDefault())}checkAll(){let i=[];this.optionsToRender.forEach(o=>{if(this.group){let l=this.getOptionGroupChildren(o);l&&l.forEach(r=>{let c=this.isOptionDisabled(r);(!c||c&&this.isSelected(r))&&i.push(this.getOptionValue(r))})}else{let l=this.isOptionDisabled(o);(!l||l&&this.isSelected(o))&&i.push(this.getOptionValue(o))}}),this.value=i}uncheckAll(){let i=[];this.optionsToRender.forEach(o=>{this.group?o.items&&o.items.forEach(l=>{this.isOptionDisabled(l)&&this.isSelected(l)&&i.push(this.getOptionValue(l))}):this.isOptionDisabled(o)&&this.isSelected(o)&&i.push(this.getOptionValue(o))}),this.value=i}show(){this.overlayVisible||(this.overlayVisible=!0,this.preventDocumentDefault=!0,this.cd.markForCheck())}onOverlayAnimationStart(t){switch(t.toState){case"visible":this.virtualScroll&&this.scroller?.setContentEl(this.itemsViewChild?.nativeElement),this.filterInputChild&&this.filterInputChild.nativeElement&&(this.preventModelTouched=!0,this.autofocusFilter&&this.filterInputChild.nativeElement.focus()),this.onPanelShow.emit();break;case"void":this.onModelTouched()}}hide(){this.overlayVisible=!1,this.resetFilterOnHide&&this.resetFilter(),this.onPanelHide.emit(),this.cd.markForCheck()}resetFilter(){this.filterInputChild&&this.filterInputChild.nativeElement&&(this.filterInputChild.nativeElement.value=""),this._filterValue=null,this._filteredOptions=null}close(t){this.hide(),t.preventDefault(),t.stopPropagation()}clear(t){this.value=null,this.updateLabel(),this.updateFilledState(),this.checkSelectionLimit(),this.onClear.emit(),this.onModelChange(this.value),t.stopPropagation()}onMouseclick(t,i){this.disabled||this.readonly||t.target.isSameNode(this.accessibleViewChild?.nativeElement)||(this.onClick.emit(t),!this.overlayViewChild?.el?.nativeElement?.contains(t.target)&&!C.D.hasClass(t.target,"p-multiselect-token-icon")&&(this.overlayVisible?this.hide():this.show(),i.focus()))}removeChip(t,i){this.value=this.value.filter(o=>!V.BF.equals(o,t,this.dataKey)),this.onModelChange(this.value),this.checkSelectionLimit(),this.onChange.emit({originalEvent:i,value:this.value,itemValue:t}),this.updateLabel(),this.updateFilledState()}onInputFocus(t){this.focus=!0,this.onFocus.emit({originalEvent:t})}onInputBlur(t){this.focus=!1,this.onBlur.emit({originalEvent:t}),this.preventModelTouched||this.onModelTouched(),this.preventModelTouched=!1}onOptionKeydown(t){if(!this.readonly)switch(t.originalEvent.which){case 40:var i=this.findNextItem(t.originalEvent.target.parentElement);i&&i.focus(),t.originalEvent.preventDefault();break;case 38:var o=this.findPrevItem(t.originalEvent.target.parentElement);o&&o.focus(),t.originalEvent.preventDefault();break;case 13:this.onOptionClick(t),t.originalEvent.preventDefault();break;case 27:case 9:this.hide()}}findNextItem(t){let i=t.nextElementSibling;return i?C.D.hasClass(i.children[0],"p-disabled")||C.D.isHidden(i.children[0])||C.D.hasClass(i,"p-multiselect-item-group")?this.findNextItem(i):i.children[0]:null}findPrevItem(t){let i=t.previousElementSibling;return i?C.D.hasClass(i.children[0],"p-disabled")||C.D.isHidden(i.children[0])||C.D.hasClass(i,"p-multiselect-item-group")?this.findPrevItem(i):i.children[0]:null}onKeydown(t){switch(t.which){case 40:!this.overlayVisible&&t.altKey&&(this.show(),t.preventDefault());break;case 32:this.overlayVisible||(this.show(),t.preventDefault());break;case 27:this.hide()}}updateLabel(){if(this.value&&this.options&&this.value.length&&this.displaySelectedLabel){let t="";for(let i=0;i<this.value.length;i++){let o=this.findLabelByValue(this.value[i]);o&&(t.length>0&&(t+=", "),t+=o)}if(this.value.length<=this.maxSelectedLabels||"ellipsis"===this.selectedItemsLabel)this.valuesAsString=t;else{let i=/{(.*?)}/;this.valuesAsString=i.test(this.selectedItemsLabel)?this.selectedItemsLabel.replace(this.selectedItemsLabel.match(i)[0],this.value.length+""):this.selectedItemsLabel}}else this.valuesAsString=this.placeholder||this.defaultLabel}findLabelByValue(t){if(this.group){let i=null;for(let o=0;o<this.options.length;o++){let l=this.getOptionGroupChildren(this.options[o]);if(l&&(i=this.searchLabelByValue(t,l),i))break}return i}return this.searchLabelByValue(t,this.options)}searchLabelByValue(t,i){let o=null;for(let l=0;l<i.length;l++){let r=i[l],c=this.getOptionValue(r);if(null==t&&null==c||V.BF.equals(t,c,this.dataKey)){o=this.getOptionLabel(r);break}}return o}get allChecked(){let t=this.optionsToRender;if(!t||0===t.length)return!1;{let i=0,o=0,l=0,r=this.group?0:this.optionsToRender.length;for(let c of t)if(this.group)for(let d of this.getOptionGroupChildren(c)){let h=this.isOptionDisabled(d),v=this.isSelected(d);if(h)v?i++:o++;else{if(!v)return!1;l++}r++}else{let d=this.isOptionDisabled(c),h=this.isSelected(c);if(d)h?i++:o++;else{if(!h)return!1;l++}}return r===i||r===l||l&&r===l+o+i}}get optionsToRender(){return this._filteredOptions||this.options}get emptyMessageLabel(){return this.emptyMessage||this.config.getTranslation(b.Yj.EMPTY_MESSAGE)}get emptyFilterMessageLabel(){return this.emptyFilterMessage||this.config.getTranslation(b.Yj.EMPTY_FILTER_MESSAGE)}hasFilter(){return this._filterValue&&this._filterValue.trim().length>0}isEmpty(){return!this.optionsToRender||this.optionsToRender&&0===this.optionsToRender.length}onFilterInputChange(t){this._filterValue=t.target.value,this.activateFilter(),this.onFilter.emit({originalEvent:t,filter:this._filterValue}),this.cd.detectChanges()}activateFilter(){if(this.hasFilter()&&this._options){let t=(this.filterBy||this.optionLabel||"label").split(",");if(this.group){let i=[];for(let o of this.options){let l=this.filterService.filter(this.getOptionGroupChildren(o),t,this.filterValue,this.filterMatchMode,this.filterLocale);l&&l.length&&i.push({...o,[this.optionGroupChildren]:l})}this._filteredOptions=i}else this._filteredOptions=this.filterService.filter(this.options,t,this._filterValue,this.filterMatchMode,this.filterLocale)}else this._filteredOptions=null}onHeaderCheckboxFocus(){this.headerCheckboxFocus=!0}onHeaderCheckboxBlur(){this.headerCheckboxFocus=!1}static \u0275fac=function(i){return new(i||n)(e.rXU(e.aKT),e.rXU(e.sFG),e.rXU(e.gRc),e.rXU(e.SKi),e.rXU(b.E),e.rXU(b.r1),e.rXU(b.si))};static \u0275cmp=e.VBU({type:n,selectors:[["p-multiSelect"]],contentQueries:function(i,o,l){if(1&i&&(e.wni(l,b.wi,5),e.wni(l,b.Y9,5),e.wni(l,b.Ei,4)),2&i){let r;e.mGM(r=e.lsd())&&(o.footerFacet=r.first),e.mGM(r=e.lsd())&&(o.headerFacet=r.first),e.mGM(r=e.lsd())&&(o.templates=r)}},viewQuery:function(i,o){if(1&i&&(e.GBs(Lt,5),e.GBs(Un,5),e.GBs(Pn,5),e.GBs(Li,5),e.GBs(Ai,5),e.GBs(Ri,5)),2&i){let l;e.mGM(l=e.lsd())&&(o.containerViewChild=l.first),e.mGM(l=e.lsd())&&(o.overlayViewChild=l.first),e.mGM(l=e.lsd())&&(o.filterInputChild=l.first),e.mGM(l=e.lsd())&&(o.accessibleViewChild=l.first),e.mGM(l=e.lsd())&&(o.itemsViewChild=l.first),e.mGM(l=e.lsd())&&(o.scroller=l.first)}},hostAttrs:[1,"p-element","p-inputwrapper"],hostVars:6,hostBindings:function(i,o){2&i&&e.AVh("p-inputwrapper-filled",o.filled)("p-inputwrapper-focus",o.focus||o.overlayVisible)("p-multiselect-clearable",o.showClear&&!o.disabled)},inputs:{style:"style",styleClass:"styleClass",panelStyle:"panelStyle",panelStyleClass:"panelStyleClass",inputId:"inputId",disabled:"disabled",readonly:"readonly",group:"group",filter:"filter",filterPlaceHolder:"filterPlaceHolder",filterLocale:"filterLocale",overlayVisible:"overlayVisible",tabindex:"tabindex",appendTo:"appendTo",dataKey:"dataKey",name:"name",label:"label",ariaLabelledBy:"ariaLabelledBy",displaySelectedLabel:"displaySelectedLabel",maxSelectedLabels:"maxSelectedLabels",selectionLimit:"selectionLimit",selectedItemsLabel:"selectedItemsLabel",showToggleAll:"showToggleAll",emptyFilterMessage:"emptyFilterMessage",emptyMessage:"emptyMessage",resetFilterOnHide:"resetFilterOnHide",dropdownIcon:"dropdownIcon",optionLabel:"optionLabel",optionValue:"optionValue",optionDisabled:"optionDisabled",optionGroupLabel:"optionGroupLabel",optionGroupChildren:"optionGroupChildren",showHeader:"showHeader",filterBy:"filterBy",scrollHeight:"scrollHeight",lazy:"lazy",virtualScroll:"virtualScroll",virtualScrollItemSize:"virtualScrollItemSize",virtualScrollOptions:"virtualScrollOptions",overlayOptions:"overlayOptions",ariaFilterLabel:"ariaFilterLabel",filterMatchMode:"filterMatchMode",tooltip:"tooltip",tooltipPosition:"tooltipPosition",tooltipPositionStyle:"tooltipPositionStyle",tooltipStyleClass:"tooltipStyleClass",autofocusFilter:"autofocusFilter",display:"display",autocomplete:"autocomplete",showClear:"showClear",autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions",defaultLabel:"defaultLabel",placeholder:"placeholder",options:"options",filterValue:"filterValue",itemSize:"itemSize"},outputs:{onChange:"onChange",onFilter:"onFilter",onFocus:"onFocus",onBlur:"onBlur",onClick:"onClick",onClear:"onClear",onPanelShow:"onPanelShow",onPanelHide:"onPanelHide",onLazyLoad:"onLazyLoad",onRemove:"onRemove"},features:[e.Jv_([Ra])],ngContentSelectors:Aa,decls:16,vars:43,consts:[[3,"ngClass","ngStyle","click"],["container",""],[1,"p-hidden-accessible"],["type","text","readonly","readonly","aria-haspopup","listbox","role","listbox",3,"disabled","focus","blur","keydown"],["in",""],[1,"p-multiselect-label-container",3,"pTooltip","tooltipPosition","positionStyle","tooltipStyleClass"],[1,"p-multiselect-label",3,"ngClass"],[4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"ngClass"],["class","p-multiselect-trigger-icon",4,"ngIf"],[3,"visible","options","target","appendTo","autoZIndex","baseZIndex","showTransitionOptions","hideTransitionOptions","visibleChange","onAnimationStart","onHide"],["overlay",""],["pTemplate","content"],["class","p-multiselect-token",4,"ngFor","ngForOf"],[1,"p-multiselect-token"],["token",""],[1,"p-multiselect-token-label"],[3,"styleClass","click",4,"ngIf"],["class","p-multiselect-token-icon",3,"click",4,"ngIf"],[3,"styleClass","click"],[1,"p-multiselect-token-icon",3,"click"],[4,"ngTemplateOutlet"],["class","p-multiselect-clear-icon",3,"click",4,"ngIf"],[1,"p-multiselect-clear-icon",3,"click"],["class","p-multiselect-trigger-icon",3,"ngClass",4,"ngIf"],[3,"styleClass",4,"ngIf"],[1,"p-multiselect-trigger-icon",3,"ngClass"],[3,"styleClass"],[1,"p-multiselect-trigger-icon"],[3,"ngClass","ngStyle","keydown"],["class","p-multiselect-header",4,"ngIf"],[1,"p-multiselect-items-wrapper"],[3,"items","style","itemSize","autoSize","tabindex","lazy","options","onLazyLoad",4,"ngIf"],["buildInItems",""],["class","p-multiselect-footer",4,"ngIf"],[1,"p-multiselect-header"],[4,"ngIf","ngIfElse"],["builtInFilterElement",""],["class","p-checkbox p-component",3,"ngClass",4,"ngIf"],["class","p-multiselect-filter-container",4,"ngIf"],["type","button","pRipple","",1,"p-multiselect-close","p-link","p-button-icon-only",3,"click"],["class","p-multiselect-close-icon",4,"ngIf"],[1,"p-checkbox","p-component",3,"ngClass"],["type","checkbox","readonly","readonly",3,"checked","disabled","focus","blur","keydown.space"],["role","checkbox",1,"p-checkbox-box",3,"ngClass","click"],["class","p-checkbox-icon",4,"ngIf"],[1,"p-checkbox-icon"],[1,"p-multiselect-filter-container"],["type","text","role","textbox",1,"p-multiselect-filter","p-inputtext","p-component",3,"value","disabled","input"],["filterInput",""],["class","p-multiselect-filter-icon",4,"ngIf"],[1,"p-multiselect-filter-icon"],[1,"p-multiselect-close-icon"],[3,"items","itemSize","autoSize","tabindex","lazy","options","onLazyLoad"],["scroller",""],["pTemplate","loader"],["role","listbox","aria-multiselectable","true",1,"p-multiselect-items","p-component",3,"ngClass"],["items",""],["itemslist",""],["class","p-multiselect-empty-message",3,"ngStyle",4,"ngIf"],["ngFor","",3,"ngForOf"],[1,"p-multiselect-item-group",3,"ngStyle"],[3,"option","selected","label","disabled","template","checkIconTemplate","itemSize","onClick","onKeydown"],[1,"p-multiselect-empty-message",3,"ngStyle"],["emptyFilter",""],["empty",""],[1,"p-multiselect-footer"]],template:function(i,o){if(1&i){const l=e.RV6();e.NAR(Ea),e.j41(0,"div",0,1),e.bIt("click",function(c){e.eBV(l);const d=e.sdS(4);return e.Njj(o.onMouseclick(c,d))}),e.j41(2,"div",2)(3,"input",3,4),e.bIt("focus",function(c){return o.onInputFocus(c)})("blur",function(c){return o.onInputBlur(c)})("keydown",function(c){return o.onKeydown(c)}),e.k0s()(),e.j41(5,"div",5)(6,"div",6),e.DNE(7,Mi,3,2,"ng-container",7),e.DNE(8,We,1,0,"ng-container",8),e.k0s(),e.DNE(9,Hn,3,2,"ng-container",7),e.k0s(),e.j41(10,"div",9),e.DNE(11,zn,3,2,"ng-container",7),e.DNE(12,Kt,2,1,"span",10),e.k0s(),e.j41(13,"p-overlay",11,12),e.bIt("visibleChange",function(c){return o.overlayVisible=c})("onAnimationStart",function(c){return o.onOverlayAnimationStart(c)})("onHide",function(){return o.hide()}),e.DNE(15,wa,8,11,"ng-template",13),e.k0s()()}2&i&&(e.HbH(o.styleClass),e.Y8G("ngClass",e.ziG(31,Sa,o.overlayVisible,"chip"===o.display,o.focus,o.disabled))("ngStyle",o.style),e.R7$(3),e.Y8G("disabled",o.disabled),e.BMQ("label",o.label)("id",o.inputId)("name",o.name)("tabindex",o.tabindex)("aria-expanded",o.overlayVisible)("aria-labelledby",o.ariaLabelledBy),e.R7$(2),e.Y8G("pTooltip",o.tooltip)("tooltipPosition",o.tooltipPosition)("positionStyle",o.tooltipPositionStyle)("tooltipStyleClass",o.tooltipStyleClass),e.R7$(1),e.Y8G("ngClass",e.l_i(36,ka,o.valuesAsString===(o.defaultLabel||o.placeholder),!(null!=o.valuesAsString&&0!==o.valuesAsString.length||null!=o.placeholder&&0!==o.placeholder.length))),e.R7$(1),e.Y8G("ngIf",!o.selectedItemsTemplate),e.R7$(1),e.Y8G("ngTemplateOutlet",o.selectedItemsTemplate)("ngTemplateOutletContext",e.l_i(39,Na,o.value,o.removeChip.bind(o))),e.R7$(1),e.Y8G("ngIf",null!=o.value&&o.filled&&!o.disabled&&o.showClear),e.R7$(1),e.Y8G("ngClass",e.lJ4(42,La)),e.R7$(1),e.Y8G("ngIf",!o.dropdownIconTemplate),e.R7$(1),e.Y8G("ngIf",o.dropdownIconTemplate),e.R7$(1),e.Y8G("visible",o.overlayVisible)("options",o.overlayOptions)("target","@parent")("appendTo",o.appendTo)("autoZIndex",o.autoZIndex)("baseZIndex",o.baseZIndex)("showTransitionOptions",o.showTransitionOptions)("hideTransitionOptions",o.hideTransitionOptions))},dependencies:function(){return[O.YU,O.Sq,O.bT,O.T3,O.B3,Ae.hJ,b.Ei,gt.m,F.n,Ze.H,kt.S,$n.W,Ht.I,L.A,lt.D,Oa]},styles:[".p-multiselect{display:inline-flex;cursor:pointer;position:relative;-webkit-user-select:none;user-select:none}.p-multiselect-trigger{display:flex;align-items:center;justify-content:center;flex-shrink:0}.p-multiselect-label-container{overflow:hidden;flex:1 1 auto;cursor:pointer}.p-multiselect-label{display:block;white-space:nowrap;cursor:pointer;overflow:hidden;text-overflow:ellipsis}.p-multiselect-label-empty{overflow:hidden;visibility:hidden}.p-multiselect-token{cursor:default;display:inline-flex;align-items:center;flex:0 0 auto}.p-multiselect-token-icon{cursor:pointer}.p-multiselect-items-wrapper{overflow:auto}.p-multiselect-items{margin:0;padding:0;list-style-type:none}.p-multiselect-item{cursor:pointer;display:flex;align-items:center;font-weight:400;white-space:nowrap;position:relative;overflow:hidden}.p-multiselect-header{display:flex;align-items:center;justify-content:space-between}.p-multiselect-filter-container{position:relative;flex:1 1 auto}.p-multiselect-filter-icon{position:absolute;top:50%;margin-top:-.5rem}.p-multiselect-filter-container .p-inputtext{width:100%}.p-multiselect-close{display:flex;align-items:center;justify-content:center;flex-shrink:0;overflow:hidden;position:relative}.p-fluid .p-multiselect{display:flex}.p-multiselect-clear-icon{position:absolute;top:50%;margin-top:-.5rem;cursor:pointer}.p-multiselect-clearable{position:relative}\n"],encapsulation:2,changeDetection:0})}return n})(),Yo=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=e.$C({type:n});static \u0275inj=e.G2t({imports:[O.MD,Ae.z_,b.Gg,gt.S,F.Z,Ze.h,kt.S,$n.W,Ht.I,L.A,lt.D,kt.S,Ae.z_,b.Gg,Ze.h]})}return n})();function Da(n,s){if(1&n&&(e.j41(0,"div",123),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&n){const t=s.$implicit;e.R7$(1),e.SpI(" ",e.bMT(2,1,"voiceInfo.StatusEnum."+t.label)," ")}}function Fa(n,s){if(1&n&&(e.j41(0,"div",124),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&n){const t=s.$implicit;e.R7$(1),e.SpI(" ",e.bMT(2,1,"voiceInfo.StatusEnum."+t.label)," ")}}function Ma(n,s){if(1&n&&(e.j41(0,"div",123),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&n){const t=s.$implicit;e.R7$(1),e.SpI(" ",e.bMT(2,1,"action.LangEnum."+t.label)," ")}}function ja(n,s){if(1&n&&(e.j41(0,"div",124),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&n){const t=s.$implicit;e.R7$(1),e.SpI(" ",e.bMT(2,1,"action.LangEnum."+t.label)," ")}}function Ga(n,s){if(1&n&&(e.j41(0,"div",123),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&n){const t=s.$implicit;e.R7$(1),e.SpI(" ",e.bMT(2,1,"action.LangEnum."+t.label)," ")}}function Ba(n,s){if(1&n&&(e.j41(0,"div",124),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&n){const t=s.$implicit;e.R7$(1),e.SpI(" ",e.bMT(2,1,"action.LangEnum."+t.label)," ")}}function qa(n,s){if(1&n){const t=e.RV6();e.j41(0,"button",125),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.submit())}),e.nrm(1,"i",126),e.EFF(2),e.nI1(3,"translate"),e.k0s()}2&n&&(e.R7$(2),e.SpI("",e.bMT(3,1,"common.saveBtn")," "))}function $a(n,s){if(1&n){const t=e.RV6();e.j41(0,"button",125),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.submit())}),e.nrm(1,"i",127),e.EFF(2),e.nI1(3,"translate"),e.k0s()}2&n&&(e.R7$(2),e.SpI("",e.bMT(3,1,"common.updateBtn")," "))}function Va(n,s){if(1&n&&(e.j41(0,"div",128)(1,"div",129),e.nrm(2,"i",130),e.j41(3,"h5"),e.EFF(4),e.k0s(),e.j41(5,"p"),e.EFF(6),e.k0s(),e.j41(7,"p"),e.EFF(8),e.k0s()()()),2&n){const t=s.$implicit;e.R7$(4),e.JRh(t.summary),e.R7$(2),e.JRh(t.detail),e.R7$(2),e.SpI("Voice Id : ",t.data.id,"")}}const Bs=function(){return{standalone:!0}},yn=function(){return{width:"100%"}};let Ua=(()=>{class n{constructor(t,i,o,l,r,c,d,h,v,E){this.configService=t,this.voiceService=i,this.messageService=o,this.service=l,this.loader=r,this.translate=c,this.fb=d,this.datePipe=h,this.validationService=v,this.permission=E,this.dataEmitter=new e.bkB,this.logTypeList=[],this.sourceList=[],this.selectedItems=[],this.selectedLogs=[],this.randomId=Math.floor(1e7+9e7*Math.random()),this.now=new Date,this.formSubmitted=!1,this.numberOnly=this.validationService.numberOnly,this.sysDate=`${this.now.getFullYear()}-${(this.now.getMonth()+1).toString().padStart(2,"0")}-${this.now.getDate().toString().padStart(2,"0")} ${this.now.getHours().toString().padStart(2,"0")}:${this.now.getMinutes().toString().padStart(2,"0")}`,this.langList=Object.keys(j).map(A=>({label:j[A],value:Number(A)})).filter(A=>!isNaN(Number(A.value))),this.statusList=Object.keys(St).map(A=>({label:St[A],value:Number(A)})).filter(A=>!isNaN(Number(A.value)))}ngOnInit(){this.initForm(),this.searched&&this.onSearch(this.searched),this.translate.onLangChange.subscribe(()=>{this.updateLogTypeList()}),this.form.get("sms_lang").setValue(j.Arabic),this.form.get("cust_lang").setValue(j.Arabic)}ngOnChanges(t){t.searched&&t.searched.currentValue&&this.onSearch(this.searched)}initForm(){this.form=this.fb.group({source:[""],status:[null],ref_no:[""],franchise_code:[""],ministry_report_date:[{value:"",disabled:!this.permission.hasPermission(this.permissions.crm_action_update)}],comp_type:[""],sysDate:[""],job_card:[""],job_date:[""],mobile:[""],appt_date:[""],tel:[""],service_contract_id:[""],contract_start_date:[""],contract_end_date:[""],franchise_eng:[""],franchise_arb:[""],cust_name_arb:[""],cust_name_eng:[""],cust_code:[""],warranty_until:[""],prom_date:[""],chassis:[""],plate_no:[""],model_year:[""],mileage:[""],model_desc:[""],model_code:[""],email:[""],receive_date:[""],assign_branch:[""],branch_desc_eng:[""],branch_desc_arb:[""],assign_dept:[""],eng_assign_comments:[""],eng_comp:[""],department_desc_arb:[""],department_desc_eng:[""],sms_lang:[""],cust_lang:[""],company_arb:[""],company_eng:[""],cust_note:[""]})}searchVoice(){this.messageService.clear("c"),(null!=this.voiceId||""==this.voiceId)&&(this.loader.start(),this.voiceService.GetInboundDataByVoiceID(this.voiceId).subscribe({next:i=>{this.loader.stop(),!1!==i.succeeded?(this.GetlogTypeList(""),this.GetSourceList(""),0===i.items.length?(this.infoData={items:[{}]},this.messageService.add({severity:"info",summary:"Info",detail:this.translate.instant("common.noDataAvailable")}),this.dataEmitter.emit(this.infoData.items[0])):(this.infoData=i,this.id=this.voiceId,this.dataEmitter.emit(this.infoData.items[0])),this.disabledForm(),this.populateForm(this.infoData.items[0])):this.messageService.add({severity:"error",summary:"Error",detail:i.message})},error:i=>{this.loader.stop(),this.messageService.add({severity:"error",summary:"Error",detail:"An error occurred while fetching data."}),console.error(i)}}))}disabledForm(){this.form.get("source").disable(),this.form.get("cust_lang").disable(),this.form.get("sms_lang").disable()}onSearch(t){this.loader.start(),this.voiceService.GetInboundDataByJob(t).subscribe({next:i=>{this.loader.stop(),!1!==i.succeeded?(this.infoData=0===i.items.length?{items:[{}]}:i,this.populateForm(this.infoData.items[0]),this.dataEmitter.emit(this.infoData.items[0])):this.messageService.add({severity:"error",summary:"Error",detail:i.message})},error:i=>{this.loader.stop(),this.messageService.add({severity:"error",summary:"Error",detail:"An error occurred while fetching data."}),console.error(i)}})}populateForm(t){this.form.patchValue({source:t.source||null,job_card:t.job_card||"",job_date:t.job_date||"",sysDate:this.sysDate||"",mobile:t.mobile||"",appt_date:t.appt_date||"",tel:t.tel||"",service_contract_id:t.service_contract_id||"",contract_start_date:t.contract_start_date||"",contract_end_date:t.contract_end_date||"",franchise_eng:t.franchise_eng||"",franchise_arb:t.franchise_arb||"",cust_name_arb:t.cust_name_arb||"",cust_name_eng:t.cust_name_eng||"",cust_code:t.cust_code||"",warranty_until:t.warranty_until||"",prom_date:t.prom_date||"",chassis:t.chassis||"",plate_no:t.plate_no||"",model_year:t.model_year||"",mileage:t.mileage||"",model_desc:t.model_desc||"",model_code:t.model_code||"",email:t.email||"",receive_date:t.receive_date||"",assign_branch:t.assign_branch||"",branch_desc_eng:t.branch_desc_eng||"",branch_desc_arb:t.branch_desc_arb||"",assign_dept:t.assign_dept||"",franchise_code:t.franchise_code||"",department_desc_eng:t.department_desc_eng||"",department_desc_arb:t.department_desc_arb||"",company_eng:t.company_eng||"",company_arb:t.company_arb||"",ref_no:t.ref_no||"",ministry_report_date:t.ministry_report_date?new Date(t.ministry_report_date):"",eng_assign_comments:t.eng_assign_comments||"",cust_note:t.cust_note||"",comp_type:t.comp_type||"",status:"C"===t.status?St.Closed:St.Pending,cust_lang:null===t.cust_lang?j.Other:"E"===t.cust_lang?j.English:j.Arabic,sms_lang:null===t.cust_lang?j.Other:"E"===t.sms_lang?j.English:j.Arabic}),this.selectedLogs=t.eng_comp||"",this.selectedSource=t.source}GetlogTypeList(t){this.voiceService.GetCustomerVoiceList().subscribe({next:i=>{if(!1===i.succeeded)return this.messageService.add({severity:"error",summary:"Error",detail:i.message}),this.loader.stop(),void(this.logTypeList=[]);const o=this.translate.currentLang;this.logTypeList=i.items.map(l=>({id:l.minor_code,name:"ar"===o?l.ara_desc:l.eng_desc})),this.loader.stop()}})}updateLogTypeList(){const t=this.translate.currentLang;this.logTypeList=this.logTypeList.map(i=>({id:i.id,name:"ar"===t?i.ara_desc:i.eng_desc}))}clearlogType(t){this.chossenList=[],this.type=null,this.selectedItems=[],this.selectedLogs=[]}onLogTypeSelect(t){}GetSourceList(t){this.voiceService.GetSourceList().subscribe({next:i=>{if(!1===i.succeeded)return this.messageService.add({severity:"error",summary:"Error",detail:i.message}),this.loader.stop(),void(this.logTypeList=[]);const o=this.translate.currentLang;this.sourceList=i.items.map(l=>({id:l.minor_code,name:"ar"===o?l.ara_desc:l.eng_desc})),this.loader.stop()}})}clearSource(){}GetComplainList(t){null!=t?this.voiceService.GetComplaintList(t).subscribe({next:i=>{if(!1===i.succeeded)return this.messageService.add({severity:"error",summary:"Error",detail:i.message}),this.loader.stop(),void(this.chossenList=[]);const o=this.translate.currentLang;this.chossenList=i.items.map(l=>({id:l.minor_code,name:"ar"===o?l.desc_arb:l.desc_eng})),this.loader.stop()}}):this.messageService.add({severity:"warn",summary:"warn",detail:this.translate.instant("voiceInfo.pleaseSelect")})}makeCall(t){t&&window.open(`tel:${t}`,"_self")}changeLogs(t){const o=t.value.map(l=>l.name);this.selectedLogs=o.join(" , ")}submit(){if(this.formSubmitted=!0,this.form.invalid)return;this.loader.start();var t=this.form.value,i=this.actionRef.form.value;let o=this.translate.currentLang;if(null!=t.source&&(t.source=t.source),null!=t.comp_type&&(t.comp_type=t.comp_type.id),null!=t.cust_lang)switch(t.cust_lang){case j.Arabic:t.cust_lang="Ar";break;case j.English:t.cust_lang="En";break;default:t.cust_lang="null"}const l={id:this.id,source:t.source,ref_no:t.ref_no,crt_by:t.crt_by,ministry_report_date:this.datePipe.transform(t.ministry_report_date,"dd-MMM-yyyy HH:mm:ss"),job_card:t.job_card,job_date:this.datePipe.transform(t.job_date,"dd-MMM-yyyy HH:mm:ss"),prom_date:this.datePipe.transform(t.prom_date,"dd-MMM-yyyy HH:mm:ss"),appt_date:this.datePipe.transform(t.appt_date,"dd-MMM-yyyy HH:mm:ss"),service_contract_id:t.service_contract_id,contract_start_date:this.datePipe.transform(t.contract_start_date,"dd-MMM-yyyy HH:mm:ss"),contract_end_date:this.datePipe.transform(t.contract_end_date,"dd-MMM-yyyy HH:mm:ss"),warranty_until:this.datePipe.transform(t.warranty_until,"dd-MMM-yyyy HH:mm:ss"),invoice_number:t.invoice_number,mobile:t.mobile,tel:t.tel,cust_code:t.cust_code,cust_name_eng:t.cust_name_eng,cust_name_arb:t.cust_name_arb,company_eng:t.company_eng,company_arb:t.company_arb,chassis:t.chassis,plate_no:t.plate_no,model_year:t.model_year,mileage:t.mileage,model_code:t.model_code,email:t.email,receive_date:t.receive_date,comp_type:t.comp_type,eng_comp:this.selectedLogs.length>0?this.selectedLogs:"",assign_branch:t.assign_branch,assign_dept:t.assign_dept,eng_assign_comments:t.eng_assign_comments,franchise_code:t.franchise_code,sms_lang:null!=t.sms_lang?t.sms_lang==j.Arabic?"A":"E":null,cust_lang:null!=t.cust_lang?t.cust_lang==j.Arabic?"A":"E":null,cust_note:t.cust_note};this.id?(l.id=Number(this.id),l.crm_action_date=i.crm_action_date?new Date(i.crm_action_date):null,l.crm_followup_date=i.crm_followup_date?new Date(i.crm_followup_date):null,l.eng_crm_follow_comment=i.eng_crm_follow_comment||"",l.crm_ministry_reason=i.crm_ministry_reason,this.voiceService.updateInbound(l).subscribe({next:r=>{if(!1===r.succeeded)return this.messageService.add({severity:"error",summary:"Error",detail:r.message}),void this.loader.stop();this.messageService.add({severity:"success",summary:"success",detail:this.translate.instant("messages.Updatesuccess")}),this.resetFormState()},error:()=>this.loader.stop()})):this.voiceService.createInbound(l).subscribe({next:r=>{if("success!"!==r.status_desc)return this.messageService.add({severity:"error",summary:"Error",detail:r.message}),void this.loader.stop();if(this.messageService.add({key:"cc",severity:"success",summary:"success",detail:this.translate.instant("messages.savedsuccess"),data:{id:r.vid}}),null!=r.vid){let c={mobileno:l?.mobile,vid:r.vid,usercode:sessionStorage.getItem("userCode")??null,smsText:"en"==o?`Dear customer,\n                                                    thank you for contacting us and we would like to inform you that your Transaction #${r.id}\n                                                    With our regards from HAJI HUSEIN ALI0REZA & Co.\n                                                    Ltd Customer Relations Management`:`\u0639\u0632\u064a\u0632\u064a \u0627\u0644\u0639\u0645\u064a\u0644\u060c\n                                        \u0646\u0634\u0643\u0631\u0643\u0645 \u0639\u0644\u0649 \u062a\u0648\u0627\u0635\u0644\u0643\u0645 \u0645\u0639\u0646\u0627\u060c \u0648\u064a\u0633\u0639\u062f\u0646\u0627 \u0625\u0628\u0644\u0627\u063a\u0643\u0645 \u0628\u0623\u0646 \u0645\u0639\u0627\u0645\u0644\u062a\u0643\u0645 \u0631\u0642\u0645 #${r.id} \u0642\u062f \u062a\u0645 \u062a\u0633\u062c\u064a\u0644\u0647\u0627 \u0628\u0646\u062c\u0627\u062d.\n                                        \u0645\u0639 \u0623\u0637\u064a\u0628 \u0627\u0644\u062a\u062d\u064a\u0627\u062a \u0645\u0646 \u0634\u0631\u0643\u0629 \u062d\u0627\u062c \u062d\u0633\u064a\u0646 \u0639\u0644\u064a \u0631\u0636\u0627 \u0648\u0634\u0631\u0643\u0627\u0647 \u0627\u0644\u0645\u062d\u062f\u0648\u062f\u0629 - \u0625\u062f\u0627\u0631\u0629 \u0639\u0644\u0627\u0642\u0627\u062a \u0627\u0644\u0639\u0645\u0644\u0627\u0621`};this.service.sendSMS(c).subscribe({next:d=>{if(!1===d.status)return this.messageService.add({severity:"error",summary:"Error",detail:d.message}),void this.loader.stop();this.messageService.add({severity:"success",summary:"success",detail:this.translate.instant("messages.sendSuc")}),this.loader.stop()}})}this.resetFormState()},error:()=>this.loader.stop()})}resetFormState(){this.loader.stop(),this.selectedLogs=[],this.selectedItems=[],this.voiceId=null,this.messageService.clear("c"),this.initForm()}clearList(){this.selectedLogs=[]}get permissions(){return z}static#e=this.\u0275fac=function(i){return new(i||n)(e.rXU(g.w),e.rXU(De),e.rXU(b.bg),e.rXU(x),e.rXU(G.eD),e.rXU(D.c$),e.rXU(N.ok),e.rXU(O.vh),e.rXU(wi),e.rXU(oe.n))};static#t=this.\u0275cmp=e.VBU({type:n,selectors:[["app-voice-info"]],inputs:{actionRef:"actionRef",searched:"searched"},outputs:{dataEmitter:"dataEmitter"},features:[e.OA$],decls:317,vars:261,consts:[[3,"formGroup"],[1,"card","py-0","form-card"],[1,"row"],[1,"col-lg-12","p-3","main-info-border"],[1,"row","g-4","mt-3"],[1,"col-xl-3","col-lg-6","col-md-6","col-12"],[1,"p-inputgroup"],[1,"p-inputgroup-addon",3,"click"],[1,"pi","pi-search"],["pInputText","","maxlength","9",3,"placeholder","ngModel","ngModelOptions","keypress","ngModelChange"],[1,""],["optionLabel","name","selectedItemsLabel","{0} items selected","itemid","id","showEmptyMessage","true","dropdown","true","optionValue","id","field","name","formControlName","source",3,"options","ngModel","showClear","placeholder","emptyMessage","ngModelChange","onClick"],[1,"p-float-label"],["pInputText","","id","date","formControlName","sysDate",1,"form-control",3,"readOnly"],["htmlFor","date",1,"form-label"],["pInputText","","id","refNum","formControlName","ref_no",1,"form-control",3,"readOnly"],["htmlFor","refNum",1,"form-label"],["formControlName","status",3,"emptyMessage","filter","disabled","options","placeholder","showClear"],["pTemplate","selectedItem"],["pTemplate","item"],["pInputText","","id","createdById",1,"form-control",3,"readOnly"],["htmlFor","createdById",1,"form-label"],["pInputText","","id","createdByName",1,"form-control",3,"readOnly"],["htmlFor","createdByName",1,"form-label"],["formControlName","ministry_report_date","inputId","icon","readonlyInput","true",3,"dateFormat","showIcon","disabled"],["htmlFor","ministryReportedDt",1,"form-label"],[1,"col-xxl-2","col-xl-2","col-lg-2","col-md-6","col-12"],["pInputText","","id","jobCard","formControlName","job_card",1,"form-control",3,"readOnly"],["htmlFor","jobCard"],["pInputText","","id","jobDate","formControlName","job_date",1,"form-control",3,"readOnly"],["htmlFor","jobDate"],["pInputText","","id","invoice",1,"form-control",3,"readonly"],["htmlFor","invoice"],["dir","ltr","type","text","maxlength","11","formControlName","mobile",1,"p-inputtext","p-component","p-element",3,"readOnly"],[1,"p-inputgroup-addon","bg-transparent",2,"cursor","pointer",3,"click"],["name","user-phone",1,"icon"],["pInputText","","id","rceDate",1,"form-control",3,"readOnly"],["htmlFor","rceDate"],["pInputText","","id","appDate","formControlName","appt_date",1,"form-control",3,"readOnly"],["htmlFor","appDate"],["pInputText","","id","telephone","formControlName","tel",1,"form-control",3,"readOnly"],["htmlFor","telephone"],[1,"col-xl-2","col-lg-2","col-md-2","col-12"],["pInputText","","id","service_contract_id","formArrayName","service_contract_id",1,"form-control",3,"readOnly"],["htmlFor","service_contract_id"],["pInputText","","id","contract_start_date","formArrayName","contract_start_date",1,"form-control",3,"readOnly"],["htmlFor","contract_start_date"],["pInputText","","id","contract_end_date","formControlName","contract_end_date",1,"form-control",3,"readOnly"],["htmlFor","contract_end_date"],["pInputText","","id","arbClient","formControlName","cust_name_arb",1,"form-control",3,"readOnly"],["htmlFor","arbClient"],["pInputText","","id","engClient","formControlName","cust_name_eng",1,"form-control",3,"readOnly"],["htmlFor","engClient"],["pInputText","","id","custCode","formControlName","cust_code",1,"form-control",3,"readOnly"],["htmlFor","custCode",1,"form-label"],["pInputText","","id","warranty_until","formControlName","warranty_until",1,"form-control",3,"readOnly"],["htmlFor","warranty_until"],["pInputText","","id","promDate","formControlName","prom_date",1,"form-control",3,"readOnly"],["htmlFor","promDate"],["pInputText","","id","company_arb","formControlName","company_arb",1,"form-control",3,"readOnly"],["htmlFor","company_arb"],["pInputText","","id","company_eng","formControlName","company_eng",1,"form-control",3,"readOnly"],["htmlFor","company_eng"],[1,"col-lg-6","p-3","main-info-border"],[1,"row","g-4","my-3"],[1,"col-xl-4","col-lg-4","col-md-4","col-12"],["pInputText","","id","chassis","formControlName","chassis",1,"form-control",3,"readOnly"],["htmlFor","chassis",1,"form-label"],["pInputText","","id","plateNo","formControlName","plate_no",1,"form-control",3,"readOnly"],["htmlFor","plateNo",1,"form-label"],["pInputText","","id","year","formControlName","model_year",1,"form-control",3,"readOnly"],["htmlFor","year",1,"form-label"],["pInputText","","id","mileage","formControlName","mileage",1,"form-control",3,"readOnly"],["htmlFor","mileage",1,"form-label"],["hidden","true",1,"col-xl-4","col-lg-4","col-md-4","col-12"],["pInputText","","id","model","formControlName","model_code",1,"form-control",3,"readOnly"],["htmlFor","model",1,"form-label"],["pInputText","","id","model_desc","formControlName","model_desc",1,"form-control",3,"readOnly"],["htmlFor","model_desc",1,"form-label"],["pInputText","","id","email","formControlName","email",1,"form-control",3,"readOnly"],["htmlFor","email",1,"form-label"],["pInputText","","id","deliveryDate","formControlName","receive_date",1,"form-control",3,"readOnly"],["htmlFor","deliveryDate",1,"form-label"],["pInputText","","id","franchise_code","formControlName","franchise_code",1,"form-control",3,"readOnly"],["htmlFor","franchise_code"],["pInputText","","id","franchise_eng","formControlName","franchise_eng",1,"form-control",3,"readOnly"],["htmlFor","franchise_eng"],["pInputText","","id","franchise_arb","formControlName","franchise_arb",1,"form-control",3,"readOnly"],["htmlFor","franchise_arb"],[1,"col-xxl-3","col-xl-3","col-lg-3","col-md-3","col-12"],["optionLabel","name","selectedItemsLabel","{0} items selected","itemid","id","showEmptyMessage","true","dropdown","true","optionValue","id","field","name","formControlName","comp_type",3,"options","showClear","placeholder","emptyMessage","onClick","onClear","onChange"],["defaultLabel","Select a Diagnoses","optionLabel","name","selectedItemsLabel","{0} items selected","itemid","id","showEmptyMessage","true","dropdown","true","field","name",3,"options","showClear","placeholder","emptyMessage","ngModelOptions","ngModel","onClick","onChange","onClear","ngModelChange"],["formControlName","sms_lang",3,"emptyMessage","filter","options","placeholder","showClear"],["formControlName","cust_lang",3,"emptyMessage","filter","options","placeholder","showClear"],[1,"col-xl-8","col-lg-8","col-md-8","col-8"],["id","float-inputww","rows","4","cols","20","pInputTextarea","",1,"form-control",3,"ngModelOptions","ngModel","readOnly","ngModelChange"],["for","float-inputww"],[1,"col-xl-4","col-lg-4","col-md-4","col-4"],["id","float-input","rows","4","cols","20","pInputTextarea","","formControlName","cust_note",1,"form-control",3,"readOnly"],["for","float-input"],[1,"card","py-0","pt-3","form-card"],[1,"row","g-3","pb-1"],[1,"col-xl-4","col-lg-4","col-md-4","col-6"],["pInputText","","id","dept","formControlName","assign_dept",1,"form-control",3,"readOnly"],["htmlFor","dept",1,"form-label"],["pInputText","","id","DepEn","formControlName","department_desc_eng",1,"form-control",3,"readOnly"],["htmlFor","DepEn",1,"form-label"],["pInputText","","id","DepAr","formControlName","department_desc_arb",1,"form-control",3,"readOnly"],["htmlFor","DepAr",1,"form-label"],[1,"col-xl-4","col-lg-4","col-md-4","col-6","mt-4"],["pInputText","","id","branch","formControlName","assign_branch",1,"form-control",3,"readOnly"],["htmlFor","branch"],["pInputText","","id","branchDEn","formControlName","branch_desc_eng",1,"form-control",3,"readOnly"],["htmlFor","branchDEn"],["pInputText","","id","branchDAr","formControlName","branch_desc_arb",1,"form-control",3,"readOnly"],["htmlFor","branchDAr"],[1,"col-xl-12","col-lg-12","col-md-12","col-12"],["id","float-nput","rows","3","formControlName","eng_assign_comments","pInputTextarea","",1,"form-control",3,"readOnly"],["for","float-nput"],[1,"col-xxl-12","col-xl-12","col-lg-12","col-md-12","col-12","d-flex","align-items-center","justify-content-end","mt-3"],["type","submit","class","p-element p-button p-component d-flex justify-content-center","style","width: 10%",3,"click",4,"ngIf"],["position","top-center","key","cc",3,"baseZIndex","showTransformOptions","showTransitionOptions","hideTransitionOptions"],["pTemplate","message"],[1,"country-item","country-item-value"],[1,"country-item"],["type","submit",1,"p-element","p-button","p-component","d-flex","justify-content-center",2,"width","10%",3,"click"],[1,"p-button-icon","mx-2","p-button-icon-left","pi","pi-save"],[1,"p-button-icon","mx-2","p-button-icon-left","pi","pi-sync"],[1,"flex","flex-column",2,"flex","1"],[1,"text-center","mb-3"],[1,"pi","pi-exclamation-triangle",2,"font-size","3rem"]],template:function(i,o){1&i&&(e.j41(0,"form",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"span",7),e.bIt("click",function(){return o.searchVoice()}),e.nrm(8,"i",8),e.k0s(),e.j41(9,"input",9),e.bIt("keypress",function(r){return o.numberOnly(r)})("ngModelChange",function(r){return o.voiceId=r}),e.nI1(10,"translate"),e.k0s()()(),e.j41(11,"div",5)(12,"div",10)(13,"p-dropdown",11),e.bIt("ngModelChange",function(r){return o.selectedSource=r})("onClick",function(){return o.GetSourceList("")}),e.nI1(14,"translate"),e.nI1(15,"translate"),e.k0s()()(),e.j41(16,"div",5)(17,"div",12),e.nrm(18,"input",13),e.j41(19,"label",14),e.EFF(20),e.nI1(21,"translate"),e.k0s()()(),e.j41(22,"div",5)(23,"div",12),e.nrm(24,"input",15),e.j41(25,"label",16),e.EFF(26),e.nI1(27,"translate"),e.k0s()()(),e.j41(28,"div",5)(29,"p-dropdown",17),e.nI1(30,"translate"),e.nI1(31,"translate"),e.DNE(32,Da,3,3,"ng-template",18),e.DNE(33,Fa,3,3,"ng-template",19),e.k0s()(),e.j41(34,"div",5)(35,"div",12),e.nrm(36,"input",20),e.j41(37,"label",21),e.EFF(38),e.nI1(39,"translate"),e.k0s()()(),e.j41(40,"div",5)(41,"div",12),e.nrm(42,"input",22),e.j41(43,"label",23),e.EFF(44),e.nI1(45,"translate"),e.k0s()()(),e.j41(46,"div",5)(47,"div",12),e.nrm(48,"p-calendar",24),e.j41(49,"label",25),e.EFF(50),e.nI1(51,"translate"),e.k0s()()()(),e.nrm(52,"hr"),e.j41(53,"div",4)(54,"div",26)(55,"div",12),e.nrm(56,"input",27),e.j41(57,"label",28),e.EFF(58),e.nI1(59,"translate"),e.k0s()()(),e.j41(60,"div",26)(61,"div",12),e.nrm(62,"input",29),e.j41(63,"label",30),e.EFF(64),e.nI1(65,"translate"),e.k0s()()(),e.j41(66,"div",26)(67,"div",12),e.nrm(68,"input",31),e.j41(69,"label",32),e.EFF(70),e.nI1(71,"translate"),e.k0s()()(),e.j41(72,"div",26)(73,"div",12)(74,"div",6),e.nrm(75,"input",33),e.j41(76,"span",34),e.bIt("click",function(){return o.makeCall(null==o.infoData?null:o.infoData.items[0].mobile)}),e.nrm(77,"svg-icon",35),e.k0s()()()(),e.j41(78,"div",26)(79,"div",12),e.nrm(80,"input",36),e.j41(81,"label",37),e.EFF(82),e.nI1(83,"translate"),e.k0s()()(),e.j41(84,"div",26)(85,"div",12),e.nrm(86,"input",38),e.j41(87,"label",39),e.EFF(88),e.nI1(89,"translate"),e.k0s()()(),e.j41(90,"div",26)(91,"div",12),e.nrm(92,"input",40),e.j41(93,"label",41),e.EFF(94),e.nI1(95,"translate"),e.k0s()()(),e.j41(96,"div",42)(97,"div",12),e.nrm(98,"input",43),e.j41(99,"label",44),e.EFF(100),e.nI1(101,"translate"),e.k0s()()(),e.j41(102,"div",26)(103,"div",12),e.nrm(104,"input",45),e.j41(105,"label",46),e.EFF(106),e.nI1(107,"translate"),e.k0s()()(),e.j41(108,"div",26)(109,"div",12),e.nrm(110,"input",47),e.j41(111,"label",48),e.EFF(112),e.nI1(113,"translate"),e.k0s()()(),e.j41(114,"div",26)(115,"div",12),e.nrm(116,"input",49),e.j41(117,"label",50),e.EFF(118),e.nI1(119,"translate"),e.k0s()()(),e.j41(120,"div",26)(121,"div",12),e.nrm(122,"input",51),e.j41(123,"label",52),e.EFF(124),e.nI1(125,"translate"),e.k0s()()(),e.j41(126,"div",42)(127,"div",12),e.nrm(128,"input",53),e.j41(129,"label",54),e.EFF(130),e.nI1(131,"translate"),e.k0s()()(),e.j41(132,"div",26)(133,"div",12),e.nrm(134,"input",55),e.j41(135,"label",56),e.EFF(136),e.nI1(137,"translate"),e.k0s()()(),e.j41(138,"div",26)(139,"div",12),e.nrm(140,"input",57),e.j41(141,"label",58),e.EFF(142),e.nI1(143,"translate"),e.k0s()()(),e.j41(144,"div",26)(145,"div",12),e.nrm(146,"input",59),e.j41(147,"label",60),e.EFF(148),e.nI1(149,"translate"),e.k0s()()(),e.j41(150,"div",26)(151,"div",12),e.nrm(152,"input",61),e.j41(153,"label",62),e.EFF(154),e.nI1(155,"translate"),e.k0s()()()()()()(),e.j41(156,"div",2)(157,"div",63)(158,"div",1)(159,"div",64)(160,"div",65)(161,"div",12),e.nrm(162,"input",66),e.j41(163,"label",67),e.EFF(164),e.nI1(165,"translate"),e.k0s()()(),e.j41(166,"div",65)(167,"div",12),e.nrm(168,"input",68),e.j41(169,"label",69),e.EFF(170),e.nI1(171,"translate"),e.k0s()()(),e.j41(172,"div",65)(173,"div",12),e.nrm(174,"input",70),e.j41(175,"label",71),e.EFF(176),e.nI1(177,"translate"),e.k0s()()(),e.j41(178,"div",65)(179,"div",12),e.nrm(180,"input",72),e.j41(181,"label",73),e.EFF(182),e.nI1(183,"translate"),e.k0s()()(),e.j41(184,"div",74)(185,"div",12),e.nrm(186,"input",75),e.j41(187,"label",76),e.EFF(188),e.nI1(189,"translate"),e.k0s()()(),e.j41(190,"div",65)(191,"div",12),e.nrm(192,"input",77),e.j41(193,"label",78),e.EFF(194),e.nI1(195,"translate"),e.k0s()()(),e.j41(196,"div",65)(197,"div",12),e.nrm(198,"input",79),e.j41(199,"label",80),e.EFF(200),e.nI1(201,"translate"),e.k0s()()(),e.j41(202,"div",65)(203,"div",12),e.nrm(204,"input",81),e.j41(205,"label",82),e.EFF(206),e.nI1(207,"translate"),e.k0s()()(),e.j41(208,"div",74)(209,"div",12),e.nrm(210,"input",83),e.j41(211,"label",84),e.EFF(212),e.nI1(213,"translate"),e.k0s()()(),e.j41(214,"div",65)(215,"div",12),e.nrm(216,"input",85),e.j41(217,"label",86),e.EFF(218),e.nI1(219,"translate"),e.k0s()()(),e.j41(220,"div",65)(221,"div",12),e.nrm(222,"input",87),e.j41(223,"label",88),e.EFF(224),e.nI1(225,"translate"),e.k0s()()()()()(),e.j41(226,"div",63)(227,"div",1)(228,"div",64)(229,"div",89)(230,"div",10)(231,"p-dropdown",90),e.bIt("onClick",function(){return o.GetlogTypeList("")})("onClear",function(r){return o.clearlogType(r)})("onChange",function(r){return o.clearlogType(r)}),e.nI1(232,"translate"),e.nI1(233,"translate"),e.k0s()()(),e.j41(234,"div",89)(235,"div",10)(236,"p-multiSelect",91),e.bIt("onClick",function(){return o.GetComplainList(o.form.get("comp_type").value)})("onChange",function(r){return o.changeLogs(r)})("onClear",function(){return o.clearList()})("ngModelChange",function(r){return o.selectedItems=r}),e.nI1(237,"translate"),e.nI1(238,"translate"),e.k0s()()(),e.j41(239,"div",89)(240,"div",10)(241,"p-dropdown",92),e.nI1(242,"translate"),e.nI1(243,"translate"),e.DNE(244,Ma,3,3,"ng-template",18),e.DNE(245,ja,3,3,"ng-template",19),e.k0s()()(),e.j41(246,"div",89)(247,"div",10)(248,"p-dropdown",93),e.nI1(249,"translate"),e.nI1(250,"translate"),e.DNE(251,Ga,3,3,"ng-template",18),e.DNE(252,Ba,3,3,"ng-template",19),e.k0s()()(),e.j41(253,"div",94)(254,"div",12)(255,"textarea",95),e.bIt("ngModelChange",function(r){return o.selectedLogs=r}),e.k0s(),e.j41(256,"label",96),e.EFF(257),e.nI1(258,"translate"),e.k0s()()(),e.j41(259,"div",97)(260,"div",12),e.nrm(261,"textarea",98),e.j41(262,"label",99),e.EFF(263),e.nI1(264,"translate"),e.k0s()()()()()()(),e.j41(265,"div",100)(266,"div",2)(267,"div",3)(268,"div",101)(269,"div",102)(270,"div",12),e.nrm(271,"input",103),e.j41(272,"label",104),e.EFF(273),e.nI1(274,"translate"),e.k0s()()(),e.j41(275,"div",102)(276,"div",12),e.nrm(277,"input",105),e.j41(278,"label",106),e.EFF(279),e.nI1(280,"translate"),e.k0s()()(),e.j41(281,"div",102)(282,"div",12),e.nrm(283,"input",107),e.j41(284,"label",108),e.EFF(285),e.nI1(286,"translate"),e.k0s()()(),e.j41(287,"div",109)(288,"div",12),e.nrm(289,"input",110),e.j41(290,"label",111),e.EFF(291),e.nI1(292,"translate"),e.k0s()()(),e.j41(293,"div",109)(294,"div",12),e.nrm(295,"input",112),e.j41(296,"label",113),e.EFF(297),e.nI1(298,"translate"),e.k0s()()(),e.j41(299,"div",109)(300,"div",12),e.nrm(301,"input",114),e.j41(302,"label",115),e.EFF(303),e.nI1(304,"translate"),e.k0s()()(),e.j41(305,"div",116)(306,"div",12),e.nrm(307,"textarea",117),e.j41(308,"label",118),e.EFF(309),e.nI1(310,"translate"),e.k0s()()()()()()()(),e.j41(311,"div",2)(312,"div",119),e.DNE(313,qa,4,3,"button",120),e.DNE(314,$a,4,3,"button",120),e.k0s()(),e.j41(315,"p-toast",121),e.DNE(316,Va,9,3,"ng-template",122),e.k0s()),2&i&&(e.Y8G("formGroup",o.form),e.R7$(9),e.FS9("placeholder",e.bMT(10,143,"voiceInfo.searchByVoice")),e.Y8G("ngModel",o.voiceId)("ngModelOptions",e.lJ4(251,Bs)),e.R7$(4),e.Aen(e.lJ4(252,yn)),e.FS9("placeholder",e.bMT(14,145,"voiceInfo.selectSource")),e.FS9("emptyMessage",e.bMT(15,147,"common.noDataAvailable")),e.Y8G("options",o.sourceList)("ngModel",o.selectedSource)("showClear",!0),e.R7$(5),e.Y8G("readOnly",!0),e.R7$(2),e.JRh(e.bMT(21,149,"voiceInfo.date&time")),e.R7$(4),e.Y8G("readOnly",!o.permission.hasPermission(o.permissions.crm_voice_update)),e.R7$(2),e.JRh(e.bMT(27,151,"voiceInfo.refNum")),e.R7$(3),e.Aen(e.lJ4(253,yn)),e.FS9("emptyMessage",e.bMT(30,153,"common.noDataAvailable")),e.FS9("placeholder",e.bMT(31,155,"voiceInfo.status")),e.Y8G("filter",!1)("disabled",!o.permission.hasPermission(o.permissions.crm_voice_update))("options",o.statusList)("showClear",!0),e.R7$(7),e.Y8G("readOnly",!0),e.R7$(2),e.JRh(e.bMT(39,157,"voiceInfo.createdById")),e.R7$(4),e.Y8G("readOnly",!0),e.R7$(2),e.JRh(e.bMT(45,159,"voiceInfo.createdByName")),e.R7$(4),e.Aen(e.lJ4(254,yn)),e.Y8G("dateFormat","dd/mm/yy")("showIcon",!0)("disabled",!o.permission.hasPermission(o.permissions.crm_voice_update)),e.R7$(2),e.JRh(e.bMT(51,161,"voiceInfo.ministryReportedDt")),e.R7$(6),e.Y8G("readOnly",!0),e.R7$(2),e.JRh(e.bMT(59,163,"voiceInfo.jobCard")),e.R7$(4),e.Y8G("readOnly",!0),e.R7$(2),e.JRh(e.bMT(65,165,"voiceInfo.jobDate")),e.R7$(4),e.Y8G("readonly",!0),e.R7$(2),e.JRh(e.bMT(71,167,"voiceInfo.invoice")),e.R7$(5),e.Y8G("readOnly",!0),e.R7$(5),e.Y8G("readOnly",!0),e.R7$(2),e.JRh(e.bMT(83,169,"voiceInfo.rceDate")),e.R7$(4),e.Y8G("readOnly",!0),e.R7$(2),e.JRh(e.bMT(89,171,"voiceInfo.appDate")),e.R7$(4),e.Y8G("readOnly",!0),e.R7$(2),e.JRh(e.bMT(95,173,"voiceInfo.telephone")),e.R7$(4),e.Y8G("readOnly",!0),e.R7$(2),e.JRh(e.bMT(101,175,"voiceInfo.sevice_contact_id")),e.R7$(4),e.Y8G("readOnly",!0),e.R7$(2),e.JRh(e.bMT(107,177,"voiceInfo.contract_start_date")),e.R7$(4),e.Y8G("readOnly",!0),e.R7$(2),e.JRh(e.bMT(113,179,"voiceInfo.contract_end_date")),e.R7$(4),e.Y8G("readOnly",!0),e.R7$(2),e.JRh(e.bMT(119,181,"voiceInfo.arbClient")),e.R7$(4),e.Y8G("readOnly",!0),e.R7$(2),e.JRh(e.bMT(125,183,"voiceInfo.engClient")),e.R7$(4),e.Y8G("readOnly",!0),e.R7$(2),e.JRh(e.bMT(131,185,"voiceInfo.custCode")),e.R7$(4),e.Y8G("readOnly",!0),e.R7$(2),e.JRh(e.bMT(137,187,"voiceInfo.warranty_until")),e.R7$(4),e.Y8G("readOnly",!0),e.R7$(2),e.JRh(e.bMT(143,189,"voiceInfo.promDate")),e.R7$(4),e.Y8G("readOnly",!0),e.R7$(2),e.JRh(e.bMT(149,191,"voiceInfo.arbComp")),e.R7$(4),e.Y8G("readOnly",!0),e.R7$(2),e.JRh(e.bMT(155,193,"voiceInfo.company")),e.R7$(8),e.Y8G("readOnly",!0),e.R7$(2),e.JRh(e.bMT(165,195,"voiceInfo.chassis")),e.R7$(4),e.Y8G("readOnly",!0),e.R7$(2),e.JRh(e.bMT(171,197,"voiceInfo.plateNo")),e.R7$(4),e.Y8G("readOnly",!0),e.R7$(2),e.JRh(e.bMT(177,199,"voiceInfo.year")),e.R7$(4),e.Y8G("readOnly",!0),e.R7$(2),e.JRh(e.bMT(183,201,"voiceInfo.mileage")),e.R7$(4),e.Y8G("readOnly",!0),e.R7$(2),e.JRh(e.bMT(189,203,"voiceInfo.model")),e.R7$(4),e.Y8G("readOnly",!0),e.R7$(2),e.JRh(e.bMT(195,205,"voiceInfo.model_desc")),e.R7$(4),e.Y8G("readOnly",!0),e.R7$(2),e.JRh(e.bMT(201,207,"voiceInfo.email")),e.R7$(4),e.Y8G("readOnly",!0),e.R7$(2),e.JRh(e.bMT(207,209,"voiceInfo.deliveryDate")),e.R7$(4),e.Y8G("readOnly",!0),e.R7$(2),e.JRh(e.bMT(213,211,"voiceInfo.franchise_code")),e.R7$(4),e.Y8G("readOnly",!0),e.R7$(2),e.JRh(e.bMT(219,213,"voiceInfo.franchiseEn")),e.R7$(4),e.Y8G("readOnly",!0),e.R7$(2),e.JRh(e.bMT(225,215,"voiceInfo.franchiseAr")),e.R7$(7),e.Aen(e.lJ4(255,yn)),e.FS9("placeholder",e.bMT(232,217,"voiceInfo.selectLogType")),e.FS9("emptyMessage",e.bMT(233,219,"common.noDataAvailable")),e.Y8G("options",o.logTypeList)("showClear",!0),e.R7$(5),e.Aen(e.lJ4(256,yn)),e.FS9("placeholder",e.bMT(237,221,"common.select")),e.FS9("emptyMessage",e.bMT(238,223,"common.noDataAvailable")),e.Y8G("options",o.chossenList)("showClear",!0)("ngModelOptions",e.lJ4(257,Bs))("ngModel",o.selectedItems),e.R7$(5),e.Aen(e.lJ4(258,yn)),e.FS9("emptyMessage",e.bMT(242,225,"common.noDataAvailable")),e.FS9("placeholder",e.bMT(243,227,"voiceInfo.selectSmsLang")),e.Y8G("filter",!1)("options",o.langList)("showClear",!0),e.R7$(7),e.Aen(e.lJ4(259,yn)),e.FS9("emptyMessage",e.bMT(249,229,"common.noDataAvailable")),e.FS9("placeholder",e.bMT(250,231,"voiceInfo.selectCustLang")),e.Y8G("filter",!1)("options",o.langList)("showClear",!0),e.R7$(7),e.Y8G("ngModelOptions",e.lJ4(260,Bs))("ngModel",o.selectedLogs)("readOnly",!0),e.R7$(2),e.JRh(e.bMT(258,233,"voiceInfo.clientVoice")),e.R7$(4),e.Y8G("readOnly",!o.permission.hasPermission(o.permissions.crm_voice_update)),e.R7$(2),e.JRh(e.bMT(264,235,"voiceInfo.custNote")),e.R7$(8),e.Y8G("readOnly",!0),e.R7$(2),e.JRh(e.bMT(274,237,"voiceInfo.dept")),e.R7$(4),e.Y8G("readOnly",!0),e.R7$(2),e.JRh(e.bMT(280,239,"voiceInfo.DepEn")),e.R7$(4),e.Y8G("readOnly",!0),e.R7$(2),e.JRh(e.bMT(286,241,"voiceInfo.DepAr")),e.R7$(4),e.Y8G("readOnly",!0),e.R7$(2),e.JRh(e.bMT(292,243,"voiceInfo.branch")),e.R7$(4),e.Y8G("readOnly",!0),e.R7$(2),e.JRh(e.bMT(298,245,"voiceInfo.branchDEn")),e.R7$(4),e.Y8G("readOnly",!0),e.R7$(2),e.JRh(e.bMT(304,247,"voiceInfo.branchDAr")),e.R7$(4),e.Y8G("readOnly",!o.permission.hasPermission(o.permissions.crm_voice_update)),e.R7$(2),e.JRh(e.bMT(310,249,"voiceInfo.comment")),e.R7$(4),e.Y8G("ngIf",!o.voiceId),e.R7$(1),e.Y8G("ngIf",o.voiceId),e.R7$(1),e.Y8G("baseZIndex",5e3)("showTransformOptions","translateY(100%)")("showTransitionOptions","1000ms")("hideTransitionOptions","1000ms")("showTransformOptions","translateX(100%)"))},dependencies:[ee.DM,N.qT,N.me,N.BC,N.cb,N.tU,N.vS,O.bT,N.j4,N.JD,N.v8,b.Ei,ke.S,Ho,Ve,f.ms,Pt.y8,k.Vv,D.D9],styles:["hr[_ngcontent-%COMP%]{border-top:1px solid #585858!important;margin:20px 0!important}.p-inputgroup-addon[_ngcontent-%COMP%]{border:1px solid #ded6d6!important;cursor:pointer}"]})}return n})(),Pa=(()=>{class n{constructor(t){this.http=t,this.TOKEN_KEY="EMRtoken",this.apiUrl=_.c.APIUrl}uploadImage(t,i){const o=new FormData;o.append("file",t);let l=t.name.split(".").pop();const r=`${this.apiUrl}inbound/post_inbound/upload_image?filename=${t.name}&mimetype=image/${l}&id=${i}`,c=new T.Lr;return this.http.post(r,o,{headers:c})}updateUploadedImage(t,i){const o=new FormData;o.append("file",t);let l=t.name.split(".").pop();const r=`${this.apiUrl}inbound/post_inbound/upload_image?filename=${t.name}&mimetype=image/${l}&id=${i}`,c=new T.Lr;return this.http.post(r,o,{headers:c})}getVoiceImage(t){return this.http.get(this.apiUrl+"inbound/post_inbound/upload_image?id="+t)}test(t){const r=new FormData;return r.append("image",t),this.http.post("https://api.imgbb.com/1/upload?key=13b8acfca0af1bf526a8753d69282c93",r)}static#e=this.\u0275fac=function(i){return new(i||n)(e.KVO(T.Qq))};static#t=this.\u0275prov=e.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var zo=w(461);let Xo=(()=>{class n extends zo.h{pathId;ngOnInit(){this.pathId="url(#"+(0,V._Y)()+")"}static \u0275fac=function(){let t;return function(o){return(t||(t=e.xGo(n)))(o||n)}}();static \u0275cmp=e.VBU({type:n,selectors:[["PlusIcon"]],standalone:!0,features:[e.Vt3,e.aNF],decls:6,vars:7,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M7.67742 6.32258V0.677419C7.67742 0.497757 7.60605 0.325452 7.47901 0.198411C7.35197 0.0713707 7.17966 0 7 0C6.82034 0 6.64803 0.0713707 6.52099 0.198411C6.39395 0.325452 6.32258 0.497757 6.32258 0.677419V6.32258H0.677419C0.497757 6.32258 0.325452 6.39395 0.198411 6.52099C0.0713707 6.64803 0 6.82034 0 7C0 7.17966 0.0713707 7.35197 0.198411 7.47901C0.325452 7.60605 0.497757 7.67742 0.677419 7.67742H6.32258V13.3226C6.32492 13.5015 6.39704 13.6725 6.52358 13.799C6.65012 13.9255 6.82106 13.9977 7 14C7.17966 14 7.35197 13.9286 7.47901 13.8016C7.60605 13.6745 7.67742 13.5022 7.67742 13.3226V7.67742H13.3226C13.5022 7.67742 13.6745 7.60605 13.8016 7.47901C13.9286 7.35197 14 7.17966 14 7C13.9977 6.82106 13.9255 6.65012 13.799 6.52358C13.6725 6.39704 13.5015 6.32492 13.3226 6.32258H7.67742Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(i,o){1&i&&(e.qSk(),e.j41(0,"svg",0)(1,"g"),e.nrm(2,"path",1),e.k0s(),e.j41(3,"defs")(4,"clipPath",2),e.nrm(5,"rect",3),e.k0s()()()),2&i&&(e.HbH(o.getClassNames()),e.BMQ("aria-label",o.ariaLabel)("aria-hidden",o.ariaHidden)("role",o.role),e.R7$(1),e.BMQ("clip-path",o.pathId),e.R7$(3),e.Y8G("id",o.pathId))},encapsulation:2})}return n})(),Ko=(()=>{class n extends zo.h{pathId;ngOnInit(){this.pathId="url(#"+(0,V._Y)()+")"}static \u0275fac=function(){let t;return function(o){return(t||(t=e.xGo(n)))(o||n)}}();static \u0275cmp=e.VBU({type:n,selectors:[["UploadIcon"]],standalone:!0,features:[e.Vt3,e.aNF],decls:6,vars:7,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["fill-rule","evenodd","clip-rule","evenodd","d","M6.58942 9.82197C6.70165 9.93405 6.85328 9.99793 7.012 10C7.17071 9.99793 7.32234 9.93405 7.43458 9.82197C7.54681 9.7099 7.61079 9.55849 7.61286 9.4V2.04798L9.79204 4.22402C9.84752 4.28011 9.91365 4.32457 9.98657 4.35479C10.0595 4.38502 10.1377 4.40039 10.2167 4.40002C10.2956 4.40039 10.3738 4.38502 10.4467 4.35479C10.5197 4.32457 10.5858 4.28011 10.6413 4.22402C10.7538 4.11152 10.817 3.95902 10.817 3.80002C10.817 3.64102 10.7538 3.48852 10.6413 3.37602L7.45127 0.190618C7.44656 0.185584 7.44176 0.180622 7.43687 0.175736C7.32419 0.063214 7.17136 0 7.012 0C6.85264 0 6.69981 0.063214 6.58712 0.175736C6.58181 0.181045 6.5766 0.186443 6.5715 0.191927L3.38282 3.37602C3.27669 3.48976 3.2189 3.6402 3.22165 3.79564C3.2244 3.95108 3.28746 4.09939 3.39755 4.20932C3.50764 4.31925 3.65616 4.38222 3.81182 4.38496C3.96749 4.3877 4.11814 4.33001 4.23204 4.22402L6.41113 2.04807V9.4C6.41321 9.55849 6.47718 9.7099 6.58942 9.82197ZM11.9952 14H2.02883C1.751 13.9887 1.47813 13.9228 1.22584 13.8061C0.973545 13.6894 0.746779 13.5241 0.558517 13.3197C0.370254 13.1154 0.22419 12.876 0.128681 12.6152C0.0331723 12.3545 -0.00990605 12.0775 0.0019109 11.8V9.40005C0.0019109 9.24092 0.065216 9.08831 0.1779 8.97579C0.290584 8.86326 0.443416 8.80005 0.602775 8.80005C0.762134 8.80005 0.914966 8.86326 1.02765 8.97579C1.14033 9.08831 1.20364 9.24092 1.20364 9.40005V11.8C1.18295 12.0376 1.25463 12.274 1.40379 12.4602C1.55296 12.6463 1.76817 12.7681 2.00479 12.8H11.9952C12.2318 12.7681 12.447 12.6463 12.5962 12.4602C12.7453 12.274 12.817 12.0376 12.7963 11.8V9.40005C12.7963 9.24092 12.8596 9.08831 12.9723 8.97579C13.085 8.86326 13.2378 8.80005 13.3972 8.80005C13.5565 8.80005 13.7094 8.86326 13.8221 8.97579C13.9347 9.08831 13.998 9.24092 13.998 9.40005V11.8C14.022 12.3563 13.8251 12.8996 13.45 13.3116C13.0749 13.7236 12.552 13.971 11.9952 14Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(i,o){1&i&&(e.qSk(),e.j41(0,"svg",0)(1,"g"),e.nrm(2,"path",1),e.k0s(),e.j41(3,"defs")(4,"clipPath",2),e.nrm(5,"rect",3),e.k0s()()()),2&i&&(e.HbH(o.getClassNames()),e.BMQ("aria-label",o.ariaLabel)("aria-hidden",o.ariaHidden)("role",o.role),e.R7$(1),e.BMQ("clip-path",o.pathId),e.R7$(3),e.Y8G("id",o.pathId))},encapsulation:2})}return n})();var Pi=w(6414),qs=w(1579),Ha=w(345);const Ya=["advancedfileinput"],za=["basicfileinput"],Xa=["content"];function Ka(n,s){if(1&n&&e.nrm(0,"span",18),2&n){const t=e.XpG(2);e.HbH(t.chooseIcon),e.Y8G("ngClass","p-button-icon p-button-icon-left")}}function Qa(n,s){1&n&&e.nrm(0,"PlusIcon")}function Za(n,s){}function Ja(n,s){1&n&&e.DNE(0,Za,0,0,"ng-template")}function Wa(n,s){if(1&n&&(e.j41(0,"span",20),e.DNE(1,Ja,1,0,null,11),e.k0s()),2&n){const t=e.XpG(3);e.R7$(1),e.Y8G("ngTemplateOutlet",t.chooseIconTemplate)}}function ec(n,s){if(1&n&&(e.qex(0),e.DNE(1,Qa,1,0,"PlusIcon",8),e.DNE(2,Wa,2,1,"span",19),e.bVm()),2&n){const t=e.XpG(2);e.R7$(1),e.Y8G("ngIf",!t.chooseIconTemplate),e.R7$(1),e.Y8G("ngIf",t.chooseIconTemplate)}}function tc(n,s){if(1&n&&e.nrm(0,"span",18),2&n){const t=e.XpG(3);e.Y8G("ngClass",t.uploadIcon)}}function nc(n,s){1&n&&e.nrm(0,"UploadIcon",24),2&n&&e.Y8G("styleClass","p-button-icon p-button-icon-left")}function ic(n,s){}function sc(n,s){1&n&&e.DNE(0,ic,0,0,"ng-template")}function oc(n,s){if(1&n&&(e.j41(0,"span",20),e.DNE(1,sc,1,0,null,11),e.k0s()),2&n){const t=e.XpG(4);e.R7$(1),e.Y8G("ngTemplateOutlet",t.uploadIconTemplate)}}function lc(n,s){if(1&n&&(e.qex(0),e.DNE(1,nc,1,1,"UploadIcon",23),e.DNE(2,oc,2,1,"span",19),e.bVm()),2&n){const t=e.XpG(3);e.R7$(1),e.Y8G("ngIf",!t.uploadIconTemplate),e.R7$(1),e.Y8G("ngIf",t.uploadIconTemplate)}}function rc(n,s){if(1&n){const t=e.RV6();e.j41(0,"p-button",21),e.bIt("onClick",function(){e.eBV(t);const o=e.XpG(2);return e.Njj(o.upload())}),e.DNE(1,tc,1,1,"span",22),e.DNE(2,lc,3,2,"ng-container",8),e.k0s()}if(2&n){const t=e.XpG(2);e.Y8G("label",t.uploadButtonLabel)("disabled",!t.hasFiles()||t.isFileLimitExceeded())("styleClass",t.uploadStyleClass),e.R7$(1),e.Y8G("ngIf",t.uploadIcon),e.R7$(1),e.Y8G("ngIf",!t.uploadIcon)}}function ac(n,s){if(1&n&&e.nrm(0,"span",18),2&n){const t=e.XpG(3);e.Y8G("ngClass",t.cancelIcon)}}function cc(n,s){1&n&&e.nrm(0,"TimesIcon",24),2&n&&e.Y8G("styleClass","p-button-icon p-button-icon-left")}function uc(n,s){}function dc(n,s){1&n&&e.DNE(0,uc,0,0,"ng-template")}function pc(n,s){if(1&n&&(e.j41(0,"span",20),e.DNE(1,dc,1,0,null,11),e.k0s()),2&n){const t=e.XpG(4);e.R7$(1),e.Y8G("ngTemplateOutlet",t.cancelIconTemplate)}}function hc(n,s){if(1&n&&(e.qex(0),e.DNE(1,cc,1,1,"TimesIcon",23),e.DNE(2,pc,2,1,"span",19),e.bVm()),2&n){const t=e.XpG(3);e.R7$(1),e.Y8G("ngIf",!t.cancelIconTemplate),e.R7$(1),e.Y8G("ngIf",t.cancelIconTemplate)}}function fc(n,s){if(1&n){const t=e.RV6();e.j41(0,"p-button",21),e.bIt("onClick",function(){e.eBV(t);const o=e.XpG(2);return e.Njj(o.clear())}),e.DNE(1,ac,1,1,"span",22),e.DNE(2,hc,3,2,"ng-container",8),e.k0s()}if(2&n){const t=e.XpG(2);e.Y8G("label",t.cancelButtonLabel)("disabled",!t.hasFiles()||t.uploading)("styleClass",t.cancelStyleClass),e.R7$(1),e.Y8G("ngIf",t.cancelIcon),e.R7$(1),e.Y8G("ngIf",!t.cancelIcon)}}function mc(n,s){1&n&&e.eu8(0)}function gc(n,s){if(1&n&&e.nrm(0,"p-progressBar",25),2&n){const t=e.XpG(2);e.Y8G("value",t.progress)("showValue",!1)}}function _c(n,s){if(1&n){const t=e.RV6();e.j41(0,"img",32),e.bIt("error",function(o){e.eBV(t);const l=e.XpG(5);return e.Njj(l.imageError(o))}),e.k0s()}if(2&n){const t=e.XpG().$implicit,i=e.XpG(4);e.Y8G("src",t.objectURL,e.B4B)("width",i.previewWidth)}}function bc(n,s){1&n&&e.nrm(0,"TimesIcon")}function vc(n,s){}function yc(n,s){1&n&&e.DNE(0,vc,0,0,"ng-template")}function Tc(n,s){if(1&n){const t=e.RV6();e.j41(0,"div",28)(1,"div"),e.DNE(2,_c,1,2,"img",29),e.k0s(),e.j41(3,"div",30),e.EFF(4),e.k0s(),e.j41(5,"div"),e.EFF(6),e.k0s(),e.j41(7,"div")(8,"button",31),e.bIt("click",function(o){const r=e.eBV(t).index,c=e.XpG(4);return e.Njj(c.remove(o,r))}),e.DNE(9,bc,1,0,"TimesIcon",8),e.DNE(10,yc,1,0,null,11),e.k0s()()()}if(2&n){const t=s.$implicit,i=e.XpG(4);e.R7$(2),e.Y8G("ngIf",i.isImage(t)),e.R7$(2),e.JRh(t.name),e.R7$(2),e.JRh(i.formatSize(t.size)),e.R7$(2),e.HbH(i.removeStyleClass),e.Y8G("disabled",i.uploading),e.R7$(1),e.Y8G("ngIf",!i.cancelIconTemplate),e.R7$(1),e.Y8G("ngTemplateOutlet",i.cancelIconTemplate)}}function Cc(n,s){if(1&n&&(e.j41(0,"div"),e.DNE(1,Tc,11,8,"div",27),e.k0s()),2&n){const t=e.XpG(3);e.R7$(1),e.Y8G("ngForOf",t.files)}}function Ic(n,s){}function xc(n,s){if(1&n&&(e.j41(0,"div"),e.DNE(1,Ic,0,0,"ng-template",33),e.k0s()),2&n){const t=e.XpG(3);e.R7$(1),e.Y8G("ngForOf",t.files)("ngForTemplate",t.fileTemplate)}}function wc(n,s){if(1&n&&(e.j41(0,"div",26),e.DNE(1,Cc,2,1,"div",8),e.DNE(2,xc,2,2,"div",8),e.k0s()),2&n){const t=e.XpG(2);e.R7$(1),e.Y8G("ngIf",!t.fileTemplate),e.R7$(1),e.Y8G("ngIf",t.fileTemplate)}}function Ec(n,s){1&n&&e.eu8(0)}const Sc=function(n,s){return{"p-focus":n,"p-disabled":s}},kc=function(n){return{$implicit:n}};function Nc(n,s){if(1&n){const t=e.RV6();e.j41(0,"div",2)(1,"div",3)(2,"span",4),e.bIt("focus",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.onFocus())})("blur",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.onBlur())})("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.choose())})("keydown.enter",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.choose())}),e.j41(3,"input",5,6),e.bIt("change",function(o){e.eBV(t);const l=e.XpG();return e.Njj(l.onFileSelect(o))}),e.k0s(),e.DNE(5,Ka,1,3,"span",7),e.DNE(6,ec,3,2,"ng-container",8),e.j41(7,"span",9),e.EFF(8),e.k0s()(),e.DNE(9,rc,3,5,"p-button",10),e.DNE(10,fc,3,5,"p-button",10),e.DNE(11,mc,1,0,"ng-container",11),e.k0s(),e.j41(12,"div",12,13),e.bIt("dragenter",function(o){e.eBV(t);const l=e.XpG();return e.Njj(l.onDragEnter(o))})("dragleave",function(o){e.eBV(t);const l=e.XpG();return e.Njj(l.onDragLeave(o))})("drop",function(o){e.eBV(t);const l=e.XpG();return e.Njj(l.onDrop(o))}),e.DNE(14,gc,1,2,"p-progressBar",14),e.nrm(15,"p-messages",15),e.DNE(16,wc,3,2,"div",16),e.DNE(17,Ec,1,0,"ng-container",17),e.k0s()()}if(2&n){const t=e.XpG();e.HbH(t.styleClass),e.Y8G("ngClass","p-fileupload p-fileupload-advanced p-component")("ngStyle",t.style),e.R7$(2),e.HbH(t.chooseStyleClass),e.Y8G("ngClass",e.l_i(23,Sc,t.focus,t.disabled||t.isChooseDisabled())),e.R7$(1),e.Y8G("multiple",t.multiple)("accept",t.accept)("disabled",t.disabled||t.isChooseDisabled()),e.BMQ("title",""),e.R7$(2),e.Y8G("ngIf",t.chooseIcon),e.R7$(1),e.Y8G("ngIf",!t.chooseIcon),e.R7$(2),e.JRh(t.chooseButtonLabel),e.R7$(1),e.Y8G("ngIf",!t.auto&&t.showUploadButton),e.R7$(1),e.Y8G("ngIf",!t.auto&&t.showCancelButton),e.R7$(1),e.Y8G("ngTemplateOutlet",t.toolbarTemplate),e.R7$(3),e.Y8G("ngIf",t.hasFiles()),e.R7$(1),e.Y8G("value",t.msgs)("enableService",!1),e.R7$(1),e.Y8G("ngIf",t.hasFiles()),e.R7$(1),e.Y8G("ngTemplateOutlet",t.contentTemplate)("ngTemplateOutletContext",e.eq3(26,kc,t.files))}}function Lc(n,s){if(1&n&&e.nrm(0,"span",41),2&n){const t=e.XpG(3);e.Y8G("ngClass",t.uploadIcon)}}function Ac(n,s){1&n&&e.nrm(0,"UploadIcon",24),2&n&&e.Y8G("styleClass","p-button-icon p-button-icon-left")}function Rc(n,s){}function Oc(n,s){1&n&&e.DNE(0,Rc,0,0,"ng-template")}function Dc(n,s){if(1&n&&(e.j41(0,"span",20),e.DNE(1,Oc,1,0,null,11),e.k0s()),2&n){const t=e.XpG(4);e.R7$(1),e.Y8G("ngTemplateOutlet",t.uploadIconTemplate)}}function Fc(n,s){if(1&n&&(e.qex(0),e.DNE(1,Ac,1,1,"UploadIcon",23),e.DNE(2,Dc,2,1,"span",19),e.bVm()),2&n){const t=e.XpG(3);e.R7$(1),e.Y8G("ngIf",!t.uploadIconTemplate),e.R7$(1),e.Y8G("ngIf",t.uploadIconTemplate)}}function Mc(n,s){if(1&n&&(e.qex(0),e.DNE(1,Lc,1,1,"span",40),e.DNE(2,Fc,3,2,"ng-container",8),e.bVm()),2&n){const t=e.XpG(2);e.R7$(1),e.Y8G("ngIf",t.uploadIcon),e.R7$(1),e.Y8G("ngIf",!t.uploadIcon)}}function jc(n,s){if(1&n&&e.nrm(0,"span",43),2&n){const t=e.XpG(3);e.Y8G("ngClass",t.chooseIcon)}}function Gc(n,s){1&n&&e.nrm(0,"PlusIcon",24),2&n&&e.Y8G("styleClass","p-button-icon p-button-icon-left pi")}function Bc(n,s){}function qc(n,s){1&n&&e.DNE(0,Bc,0,0,"ng-template")}function $c(n,s){if(1&n&&(e.j41(0,"span",45),e.DNE(1,qc,1,0,null,11),e.k0s()),2&n){const t=e.XpG(4);e.R7$(1),e.Y8G("ngTemplateOutlet",t.chooseIconTemplate)}}function Vc(n,s){if(1&n&&(e.qex(0),e.DNE(1,Gc,1,1,"PlusIcon",23),e.DNE(2,$c,2,1,"span",44),e.bVm()),2&n){const t=e.XpG(3);e.R7$(1),e.Y8G("ngIf",!t.chooseIconTemplate),e.R7$(1),e.Y8G("ngIf",t.chooseIconTemplate)}}function Uc(n,s){if(1&n&&(e.DNE(0,jc,1,1,"span",42),e.DNE(1,Vc,3,2,"ng-container",8)),2&n){const t=e.XpG(2);e.Y8G("ngIf",t.chooseIcon),e.R7$(1),e.Y8G("ngIf",!t.chooseIcon)}}function Pc(n,s){if(1&n&&(e.j41(0,"span",9),e.EFF(1),e.k0s()),2&n){const t=e.XpG(2);e.R7$(1),e.JRh(t.basicButtonLabel)}}function Hc(n,s){if(1&n){const t=e.RV6();e.j41(0,"input",46,47),e.bIt("change",function(o){e.eBV(t);const l=e.XpG(2);return e.Njj(l.onFileSelect(o))})("focus",function(){e.eBV(t);const o=e.XpG(2);return e.Njj(o.onFocus())})("blur",function(){e.eBV(t);const o=e.XpG(2);return e.Njj(o.onBlur())}),e.k0s()}if(2&n){const t=e.XpG(2);e.Y8G("accept",t.accept)("multiple",t.multiple)("disabled",t.disabled)}}const Yc=function(n,s,t,i){return{"p-button p-component p-fileupload-choose":!0,"p-button-icon-only":n,"p-fileupload-choose-selected":s,"p-focus":t,"p-disabled":i}};function zc(n,s){if(1&n){const t=e.RV6();e.j41(0,"div",34),e.nrm(1,"p-messages",15),e.j41(2,"span",35),e.bIt("mouseup",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.onBasicUploaderClick())})("keydown",function(o){e.eBV(t);const l=e.XpG();return e.Njj(l.onBasicKeydown(o))}),e.DNE(3,Mc,3,2,"ng-container",36),e.DNE(4,Uc,2,2,"ng-template",null,37,e.C5r),e.DNE(6,Pc,2,1,"span",38),e.DNE(7,Hc,2,3,"input",39),e.k0s()()}if(2&n){const t=e.sdS(5),i=e.XpG();e.R7$(1),e.Y8G("value",i.msgs)("enableService",!1),e.R7$(1),e.HbH(i.styleClass),e.Y8G("ngClass",e.ziG(10,Yc,!i.basicButtonLabel,i.hasFiles(),i.focus,i.disabled))("ngStyle",i.style),e.R7$(1),e.Y8G("ngIf",i.hasFiles()&&!i.auto)("ngIfElse",t),e.R7$(3),e.Y8G("ngIf",i.basicButtonLabel),e.R7$(1),e.Y8G("ngIf",!i.hasFiles())}}let Xc=(()=>{class n{document;platformId;renderer;el;sanitizer;zone;http;cd;config;name;url;method="post";multiple;accept;disabled;auto;withCredentials;maxFileSize;invalidFileSizeMessageSummary="{0}: Invalid file size, ";invalidFileSizeMessageDetail="maximum upload size is {0}.";invalidFileTypeMessageSummary="{0}: Invalid file type, ";invalidFileTypeMessageDetail="allowed file types: {0}.";invalidFileLimitMessageDetail="limit is {0} at most.";invalidFileLimitMessageSummary="Maximum number of files exceeded, ";style;styleClass;previewWidth=50;chooseLabel;uploadLabel;cancelLabel;chooseIcon;uploadIcon;cancelIcon;showUploadButton=!0;showCancelButton=!0;mode="advanced";headers;customUpload;fileLimit;uploadStyleClass;cancelStyleClass;removeStyleClass;chooseStyleClass;onBeforeUpload=new e.bkB;onSend=new e.bkB;onUpload=new e.bkB;onError=new e.bkB;onClear=new e.bkB;onRemove=new e.bkB;onSelect=new e.bkB;onProgress=new e.bkB;uploadHandler=new e.bkB;onImageError=new e.bkB;templates;advancedFileInput;basicFileInput;content;set files(t){this._files=[];for(let i=0;i<t.length;i++){let o=t[i];this.validate(o)&&(this.isImage(o)&&(o.objectURL=this.sanitizer.bypassSecurityTrustUrl(window.URL.createObjectURL(t[i]))),this._files.push(t[i]))}}get files(){return this._files}get basicButtonLabel(){return this.auto||!this.hasFiles()?this.chooseLabel:this.uploadLabel??this.files[0].name}_files=[];progress=0;dragHighlight;msgs;fileTemplate;contentTemplate;toolbarTemplate;chooseIconTemplate;uploadIconTemplate;cancelIconTemplate;uploadedFileCount=0;focus;uploading;duplicateIEEvent;translationSubscription;dragOverListener;constructor(t,i,o,l,r,c,d,h,v){this.document=t,this.platformId=i,this.renderer=o,this.el=l,this.sanitizer=r,this.zone=c,this.http=d,this.cd=h,this.config=v}ngAfterContentInit(){this.templates?.forEach(t=>{switch(t.getType()){case"file":default:this.fileTemplate=t.template;break;case"content":this.contentTemplate=t.template;break;case"toolbar":this.toolbarTemplate=t.template;break;case"chooseicon":this.chooseIconTemplate=t.template;break;case"uploadicon":this.uploadIconTemplate=t.template;break;case"cancelicon":this.cancelIconTemplate=t.template}})}ngOnInit(){this.translationSubscription=this.config.translationObserver.subscribe(()=>{this.cd.markForCheck()})}ngAfterViewInit(){(0,O.UE)(this.platformId)&&"advanced"===this.mode&&this.zone.runOutsideAngular(()=>{this.content&&(this.dragOverListener=this.renderer.listen(this.content.nativeElement,"dragover",this.onDragOver.bind(this)))})}choose(){this.advancedFileInput?.nativeElement.click()}onFileSelect(t){if("drop"!==t.type&&this.isIE11()&&this.duplicateIEEvent)return void(this.duplicateIEEvent=!1);this.msgs=[],this.multiple||(this.files=[]);let i=t.dataTransfer?t.dataTransfer.files:t.target.files;for(let o=0;o<i.length;o++){let l=i[o];this.isFileSelected(l)||this.validate(l)&&(this.isImage(l)&&(l.objectURL=this.sanitizer.bypassSecurityTrustUrl(window.URL.createObjectURL(i[o]))),this.files.push(i[o]))}this.onSelect.emit({originalEvent:t,files:i,currentFiles:this.files}),this.fileLimit&&"advanced"==this.mode&&this.checkFileLimit(),this.hasFiles()&&this.auto&&("advanced"!==this.mode||!this.isFileLimitExceeded())&&this.upload(),"drop"!==t.type&&this.isIE11()?this.clearIEInput():this.clearInputElement()}isFileSelected(t){for(let i of this.files)if(i.name+i.type+i.size===t.name+t.type+t.size)return!0;return!1}isIE11(){if((0,O.UE)(this.platformId))return!!this.document.defaultView.MSInputMethodContext&&!!this.document.documentMode}validate(t){return this.msgs=[],this.accept&&!this.isFileTypeValid(t)?(this.msgs.push({severity:"error",summary:this.invalidFileTypeMessageSummary.replace("{0}",t.name),detail:this.invalidFileTypeMessageDetail.replace("{0}",this.accept)}),!1):!(this.maxFileSize&&t.size>this.maxFileSize&&(this.msgs.push({severity:"error",summary:this.invalidFileSizeMessageSummary.replace("{0}",t.name),detail:this.invalidFileSizeMessageDetail.replace("{0}",this.formatSize(this.maxFileSize))}),1))}isFileTypeValid(t){let i=this.accept?.split(",").map(o=>o.trim());for(let o of i)if(this.isWildcard(o)?this.getTypeClass(t.type)===this.getTypeClass(o):t.type==o||this.getFileExtension(t).toLowerCase()===o.toLowerCase())return!0;return!1}getTypeClass(t){return t.substring(0,t.indexOf("/"))}isWildcard(t){return-1!==t.indexOf("*")}getFileExtension(t){return"."+t.name.split(".").pop()}isImage(t){return/^image\//.test(t.type)}onImageLoad(t){window.URL.revokeObjectURL(t.src)}upload(){if(this.customUpload)this.fileLimit&&(this.uploadedFileCount+=this.files.length),this.uploadHandler.emit({files:this.files}),this.cd.markForCheck();else{this.uploading=!0,this.msgs=[];let t=new FormData;this.onBeforeUpload.emit({formData:t});for(let i=0;i<this.files.length;i++)t.append(this.name,this.files[i],this.files[i].name);this.http.request(this.method,this.url,{body:t,headers:this.headers,reportProgress:!0,observe:"events",withCredentials:this.withCredentials}).subscribe(i=>{switch(i.type){case T.hv.Sent:this.onSend.emit({originalEvent:i,formData:t});break;case T.hv.Response:this.uploading=!1,this.progress=0,i.status>=200&&i.status<300?(this.fileLimit&&(this.uploadedFileCount+=this.files.length),this.onUpload.emit({originalEvent:i,files:this.files})):this.onError.emit({files:this.files}),this.clear();break;case T.hv.UploadProgress:i.loaded&&(this.progress=Math.round(100*i.loaded/i.total)),this.onProgress.emit({originalEvent:i,progress:this.progress})}this.cd.markForCheck()},i=>{this.uploading=!1,this.onError.emit({files:this.files,error:i})})}}clear(){this.files=[],this.onClear.emit(),this.clearInputElement(),this.cd.markForCheck()}remove(t,i){this.clearInputElement(),this.onRemove.emit({originalEvent:t,file:this.files[i]}),this.files.splice(i,1),this.checkFileLimit()}isFileLimitExceeded(){return this.fileLimit&&this.fileLimit<=this.files.length+this.uploadedFileCount&&this.focus&&(this.focus=!1),this.fileLimit&&this.fileLimit<this.files.length+this.uploadedFileCount}isChooseDisabled(){return this.fileLimit&&this.fileLimit<=this.files.length+this.uploadedFileCount}checkFileLimit(){this.msgs??=[],this.isFileLimitExceeded()&&this.msgs.push({severity:"error",summary:this.invalidFileLimitMessageSummary.replace("{0}",this.fileLimit.toString()),detail:this.invalidFileLimitMessageDetail.replace("{0}",this.fileLimit.toString())})}clearInputElement(){this.advancedFileInput&&this.advancedFileInput.nativeElement&&(this.advancedFileInput.nativeElement.value=""),this.basicFileInput&&this.basicFileInput.nativeElement&&(this.basicFileInput.nativeElement.value="")}clearIEInput(){this.advancedFileInput&&this.advancedFileInput.nativeElement&&(this.duplicateIEEvent=!0,this.advancedFileInput.nativeElement.value="")}hasFiles(){return this.files&&this.files.length>0}onDragEnter(t){this.disabled||(t.stopPropagation(),t.preventDefault())}onDragOver(t){this.disabled||(C.D.addClass(this.content?.nativeElement,"p-fileupload-highlight"),this.dragHighlight=!0,t.stopPropagation(),t.preventDefault())}onDragLeave(t){this.disabled||C.D.removeClass(this.content?.nativeElement,"p-fileupload-highlight")}onDrop(t){if(!this.disabled){C.D.removeClass(this.content?.nativeElement,"p-fileupload-highlight"),t.stopPropagation(),t.preventDefault();let i=t.dataTransfer?t.dataTransfer.files:t.target.files;(this.multiple||i&&1===i.length)&&this.onFileSelect(t)}}onFocus(){this.focus=!0}onBlur(){this.focus=!1}formatSize(t){if(0==t)return"0 B";let r=Math.floor(Math.log(t)/Math.log(1e3));return parseFloat((t/Math.pow(1e3,r)).toFixed(3))+" "+["B","KB","MB","GB","TB","PB","EB","ZB","YB"][r]}onBasicUploaderClick(){this.hasFiles()?this.upload():this.basicFileInput?.nativeElement.click()}onBasicKeydown(t){switch(t.code){case"Space":case"Enter":this.onBasicUploaderClick(),t.preventDefault()}}imageError(t){this.onImageError.emit(t)}getBlockableElement(){return this.el.nativeElement.children[0]}get chooseButtonLabel(){return this.chooseLabel||this.config.getTranslation(b.Yj.CHOOSE)}get uploadButtonLabel(){return this.uploadLabel||this.config.getTranslation(b.Yj.UPLOAD)}get cancelButtonLabel(){return this.cancelLabel||this.config.getTranslation(b.Yj.CANCEL)}ngOnDestroy(){this.content&&this.content.nativeElement&&this.dragOverListener&&(this.dragOverListener(),this.dragOverListener=null),this.translationSubscription&&this.translationSubscription.unsubscribe()}static \u0275fac=function(i){return new(i||n)(e.rXU(O.qQ),e.rXU(e.Agw),e.rXU(e.sFG),e.rXU(e.aKT),e.rXU(Ha.up),e.rXU(e.SKi),e.rXU(T.Qq),e.rXU(e.gRc),e.rXU(b.r1))};static \u0275cmp=e.VBU({type:n,selectors:[["p-fileUpload"]],contentQueries:function(i,o,l){if(1&i&&e.wni(l,b.Ei,4),2&i){let r;e.mGM(r=e.lsd())&&(o.templates=r)}},viewQuery:function(i,o){if(1&i&&(e.GBs(Ya,5),e.GBs(za,5),e.GBs(Xa,5)),2&i){let l;e.mGM(l=e.lsd())&&(o.advancedFileInput=l.first),e.mGM(l=e.lsd())&&(o.basicFileInput=l.first),e.mGM(l=e.lsd())&&(o.content=l.first)}},hostAttrs:[1,"p-element"],inputs:{name:"name",url:"url",method:"method",multiple:"multiple",accept:"accept",disabled:"disabled",auto:"auto",withCredentials:"withCredentials",maxFileSize:"maxFileSize",invalidFileSizeMessageSummary:"invalidFileSizeMessageSummary",invalidFileSizeMessageDetail:"invalidFileSizeMessageDetail",invalidFileTypeMessageSummary:"invalidFileTypeMessageSummary",invalidFileTypeMessageDetail:"invalidFileTypeMessageDetail",invalidFileLimitMessageDetail:"invalidFileLimitMessageDetail",invalidFileLimitMessageSummary:"invalidFileLimitMessageSummary",style:"style",styleClass:"styleClass",previewWidth:"previewWidth",chooseLabel:"chooseLabel",uploadLabel:"uploadLabel",cancelLabel:"cancelLabel",chooseIcon:"chooseIcon",uploadIcon:"uploadIcon",cancelIcon:"cancelIcon",showUploadButton:"showUploadButton",showCancelButton:"showCancelButton",mode:"mode",headers:"headers",customUpload:"customUpload",fileLimit:"fileLimit",uploadStyleClass:"uploadStyleClass",cancelStyleClass:"cancelStyleClass",removeStyleClass:"removeStyleClass",chooseStyleClass:"chooseStyleClass",files:"files"},outputs:{onBeforeUpload:"onBeforeUpload",onSend:"onSend",onUpload:"onUpload",onError:"onError",onClear:"onClear",onRemove:"onRemove",onSelect:"onSelect",onProgress:"onProgress",uploadHandler:"uploadHandler",onImageError:"onImageError"},decls:2,vars:2,consts:[[3,"ngClass","ngStyle","class",4,"ngIf"],["class","p-fileupload p-fileupload-basic p-component",4,"ngIf"],[3,"ngClass","ngStyle"],[1,"p-fileupload-buttonbar"],["pRipple","","tabindex","0",1,"p-button","p-component","p-fileupload-choose",3,"ngClass","focus","blur","click","keydown.enter"],["type","file",3,"multiple","accept","disabled","change"],["advancedfileinput",""],[3,"ngClass","class",4,"ngIf"],[4,"ngIf"],[1,"p-button-label"],["type","button",3,"label","disabled","styleClass","onClick",4,"ngIf"],[4,"ngTemplateOutlet"],[1,"p-fileupload-content",3,"dragenter","dragleave","drop"],["content",""],[3,"value","showValue",4,"ngIf"],[3,"value","enableService"],["class","p-fileupload-files",4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"ngClass"],["class","p-button-icon p-button-icon-left",4,"ngIf"],[1,"p-button-icon","p-button-icon-left"],["type","button",3,"label","disabled","styleClass","onClick"],[3,"ngClass",4,"ngIf"],[3,"styleClass",4,"ngIf"],[3,"styleClass"],[3,"value","showValue"],[1,"p-fileupload-files"],["class","p-fileupload-row",4,"ngFor","ngForOf"],[1,"p-fileupload-row"],[3,"src","width","error",4,"ngIf"],[1,"p-fileupload-filename"],["type","button","pButton","",1,"p-button-icon-only",3,"disabled","click"],[3,"src","width","error"],["ngFor","",3,"ngForOf","ngForTemplate"],[1,"p-fileupload","p-fileupload-basic","p-component"],["tabindex","0","pRipple","",3,"ngClass","ngStyle","mouseup","keydown"],[4,"ngIf","ngIfElse"],["chooseSection",""],["class","p-button-label",4,"ngIf"],["type","file",3,"accept","multiple","disabled","change","focus","blur",4,"ngIf"],["class","p-button-icon p-button-icon-left",3,"ngClass",4,"ngIf"],[1,"p-button-icon","p-button-icon-left",3,"ngClass"],["class","p-button-icon p-button-icon-left pi",3,"ngClass",4,"ngIf"],[1,"p-button-icon","p-button-icon-left","pi",3,"ngClass"],["class","p-button-icon p-button-icon-left pi",4,"ngIf"],[1,"p-button-icon","p-button-icon-left","pi"],["type","file",3,"accept","multiple","disabled","change","focus","blur"],["basicfileinput",""]],template:function(i,o){1&i&&(e.DNE(0,Nc,18,28,"div",0),e.DNE(1,zc,8,15,"div",1)),2&i&&(e.Y8G("ngIf","advanced"===o.mode),e.R7$(1),e.Y8G("ngIf","basic"===o.mode))},dependencies:function(){return[O.YU,O.Sq,O.bT,O.T3,O.B3,Z._f,Z.$n,qs.z,Pi.B,F.n,Xo,Ko,L.A]},styles:[".p-fileupload-content{position:relative}.p-fileupload-row{display:flex;align-items:center}.p-fileupload-row>div{flex:1 1 auto;width:25%}.p-fileupload-row>div:last-child{text-align:right}.p-fileupload-content .p-progressbar{width:100%;position:absolute;top:0;left:0}.p-button.p-fileupload-choose{position:relative;overflow:hidden}.p-button.p-fileupload-choose input[type=file],.p-fileupload-choose.p-fileupload-choose-selected input[type=file]{display:none}.p-fluid .p-fileupload .p-button{width:auto}.p-fileupload-filename{word-break:break-all}\n"],encapsulation:2,changeDetection:0})}return n})(),Kc=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=e.$C({type:n});static \u0275inj=e.G2t({imports:[O.MD,T.q1,b.Gg,Z.tm,qs.d,Pi.h,F.Z,Xo,Ko,L.A,b.Gg,Z.tm,qs.d,Pi.h]})}return n})();const Qc=["uploader"];let Zc=(()=>{class n{constructor(t,i,o,l,r){this.configService=t,this.messageService=i,this.loader=o,this.translate=l,this.fileUploadService=r,this.uploadedFiles=null}ngOnInit(){this.receivedData?.id&&this.checkVoiceImage(this.receivedData.id)}onRemoveFile(){this.uploadedFiles=null}onFileSelected(t){this.messageService.clear("c");const i=t.files[0];i&&(this.uploadedFiles=i)}onUpload(){if(this.uploadedFiles&&this.receivedData?.id){let t=this.receivedData?.id;1==this.isEdit?this.fileUploadService.updateUploadedImage(this.uploadedFiles,t).subscribe({next:i=>{this.messageService.add({severity:"success",summary:"success",detail:i.status}),this.uploadedFiles=null,this.loader.stop(),this.fileInput.clear()},error:i=>{this.loader.stop(),this.messageService.add({severity:"error",summary:"error",detail:i})}}):this.fileUploadService.uploadImage(this.uploadedFiles,t).subscribe({next:i=>{this.messageService.add({severity:"success",summary:"success",detail:i.status}),this.uploadedFiles=null,this.loader.stop(),this.fileInput.clear()},error:i=>{console.log(i),this.loader.stop(),this.messageService.add({severity:"error",summary:"error",detail:i})}})}else this.messageService.add({severity:"warn",summary:"warn",detail:"No Voice ID Selected To Upload Image Or Add File ...!"})}checkVoiceImage(t){this.fileUploadService.getVoiceImage(t).subscribe({next:i=>{i.items.length>0&&(this.isEdit=!0),this.isEdit=!1,this.loader.stop(),console.log(this.isEdit)},error:i=>{console.log(i),this.loader.stop(),this.messageService.add({severity:"error",summary:"error",detail:i})}})}test(){if(!this.uploadedFiles)return void console.error("No file selected");const t=new FileReader;t.onload=()=>{this.fileUploadService.test(this.uploadedFiles).subscribe(o=>{console.log("Image uploaded successfully: "+o.data.url)},o=>{console.error("Upload error",o)})},t.readAsDataURL(this.uploadedFiles)}static#e=this.\u0275fac=function(i){return new(i||n)(e.rXU(g.w),e.rXU(b.bg),e.rXU(G.eD),e.rXU(D.c$),e.rXU(Pa))};static#t=this.\u0275cmp=e.VBU({type:n,selectors:[["app-attach-image"]],viewQuery:function(i,o){if(1&i&&e.GBs(Qc,5),2&i){let l;e.mGM(l=e.lsd())&&(o.fileInput=l.first)}},inputs:{receivedData:"receivedData"},decls:13,vars:6,consts:[[1,"card","py-0","form-card"],[1,"row"],[1,"col-lg-12","p-3","main-info-border","mt-3"],[1,"row","g-4"],[1,"col-xl-12","col-lg-12","col-md-12","col-12"],["name","assessments[]","styleClass","choose-btn","chooseLabel","choose a file or image","chooseIcon","pi pi-paperclip","accept","image/jpeg",1,"control","custom-columen",3,"showUploadButton","showCancelButton","customUpload","onSelect","onClear","onRemove"],["uploader",""],[1,"col-xxl-12","col-xl-12","col-lg-12","col-md-12","col-12","d-flex","align-items-center","justify-content-end","mt-3"],["type","submit",1,"p-element","p-button","p-component","d-flex","justify-content-center",2,"width","10%",3,"click"],[1,"p-button-icon","mx-2","p-button-icon-left","pi","pi-cloud-upload"]],template:function(i,o){1&i&&(e.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"p-fileUpload",5,6),e.bIt("onSelect",function(r){return o.onFileSelected(r)})("onClear",function(){return o.onRemoveFile()})("onRemove",function(){return o.onRemoveFile()}),e.k0s()()(),e.j41(7,"div",1)(8,"div",7)(9,"button",8),e.bIt("click",function(){return o.test()}),e.nrm(10,"i",9),e.EFF(11),e.nI1(12,"translate"),e.k0s()()()()()()),2&i&&(e.R7$(5),e.Y8G("showUploadButton",!1)("showCancelButton",!1)("customUpload",!0),e.R7$(6),e.SpI("",e.bMT(12,4,"common.uploadBtn")," "))},dependencies:[Xc,D.D9]})}return n})();var Zt=function(n){return n.date="date",n.money="money",n.number="number",n}(Zt||{}),Wn=function(n){return n[n.Customer_Satisfied=1]="Customer_Satisfied",n[n.Customer_NotSatisfied=2]="Customer_NotSatisfied",n[n.No_Further_Action=3]="No_Further_Action",n}(Wn||{});let Wc=(()=>{class n{constructor(t){this.http=t,this.TOKEN_KEY="EMRtoken",this.apiUrl=_.c.APIUrl}GetHistoryList(t){return this.http.get(this.apiUrl+"inbound/get_inbound/voice_hist_by_chass/"+t)}static#e=this.\u0275fac=function(i){return new(i||n)(e.KVO(T.Qq))};static#t=this.\u0275prov=e.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var eu=w(8893);const tu=["dataTable"],nu=["filter"];function iu(n,s){if(1&n&&(e.j41(0,"div",12),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&n){const t=e.XpG().$implicit;e.R7$(1),e.SpI(" ",e.bMT(2,1,t.title)," ")}}function su(n,s){if(1&n&&(e.j41(0,"div",13)(1,"div",14)(2,"span",15),e.EFF(3),e.nI1(4,"translate"),e.k0s()()()),2&n){const t=e.XpG().$implicit;e.R7$(3),e.SpI(" ",e.bMT(4,1,t.title),"")}}function ou(n,s){if(1&n&&(e.j41(0,"th",9),e.DNE(1,iu,3,3,"div",10),e.DNE(2,su,5,3,"div",11),e.k0s()),2&n){const t=s.$implicit;e.FS9("pSortableColumn",t.field),e.R7$(1),e.Y8G("ngIf","isActive"==t.field),e.R7$(1),e.Y8G("ngIf","isActive"!=t.field)}}function lu(n,s){if(1&n&&(e.j41(0,"tr")(1,"th",7),e.EFF(2,"#"),e.k0s(),e.DNE(3,ou,3,3,"th",8),e.k0s(),e.nrm(4,"tr")),2&n){const t=e.XpG();e.R7$(3),e.Y8G("ngForOf",t.filteredColumns)}}function ru(n,s){if(1&n&&(e.j41(0,"span",23),e.nI1(1,"date"),e.EFF(2),e.nI1(3,"date"),e.k0s()),2&n){const t=e.XpG(2).$implicit,i=e.XpG().$implicit,o=e.XpG();e.Mz_("pTooltip"," ",e.i5U(1,2,o.getFieldValue(i[t.field]),t.pipeFormat||"dd/MM/yyyy"),""),e.R7$(2),e.SpI(" ",e.i5U(3,5,o.getFieldValue(i[t.field]),t.pipeFormat||"dd/MM/yyyy")," ")}}function au(n,s){if(1&n&&(e.j41(0,"span",23),e.nI1(1,"number"),e.EFF(2),e.nI1(3,"number"),e.k0s()),2&n){const t=e.XpG(2).$implicit,i=e.XpG().$implicit,o=e.XpG();e.FS9("pTooltip",e.brH(1,2,o.getFieldValue(i[t.field]),"1.2-2","en-us")),e.R7$(2),e.SpI(" ",e.brH(3,6,o.getFieldValue(i[t.field]),"1.2-2","en-us")," ")}}function cu(n,s){if(1&n&&(e.j41(0,"span",23),e.nI1(1,"number"),e.EFF(2),e.nI1(3,"number"),e.k0s()),2&n){const t=e.XpG(2).$implicit,i=e.XpG().$implicit,o=e.XpG();e.FS9("pTooltip",e.brH(1,2,o.getFieldValue(i[t.field]),"1.0-1","en-us")),e.R7$(2),e.SpI(" ",e.brH(3,6,o.getFieldValue(i[t.field]),"1.0-1","en-us")," ")}}function uu(n,s){if(1&n&&(e.j41(0,"span"),e.EFF(1),e.k0s()),2&n){const t=e.XpG(2).$implicit,i=e.XpG().$implicit;e.R7$(1),e.SpI(" ",i[t.field]," ")}}const du=function(n,s){return{"text-success":n,"text-danger":s}};function pu(n,s){if(1&n&&(e.j41(0,"span",24),e.EFF(1),e.k0s()),2&n){const t=e.XpG(2).$implicit,i=e.XpG().$implicit,o=e.XpG();e.Y8G("ngClass",e.l_i(2,du,i.action_flg==o.opnionVal.Customer_Satisfied,i.action_flg==o.opnionVal.Customer_NotSatisfied)),e.R7$(1),e.SpI(" ",i[t.field]," ")}}function hu(n,s){if(1&n&&(e.j41(0,"span"),e.EFF(1),e.k0s()),2&n){const t=e.XpG(2).$implicit,i=e.XpG().$implicit;e.R7$(1),e.SpI(" ",i[t.field]," ")}}function fu(n,s){if(1&n&&(e.DNE(0,ru,4,8,"span",20),e.DNE(1,au,4,10,"span",20),e.DNE(2,cu,4,10,"span",20),e.DNE(3,uu,2,1,"span",21),e.DNE(4,pu,2,5,"span",22),e.DNE(5,hu,2,1,"span",21)),2&n){const t=e.XpG().$implicit,i=e.XpG(2);e.Y8G("ngIf",t.pipe===i.Pipes.date),e.R7$(1),e.Y8G("ngIf",t.pipe===i.Pipes.money),e.R7$(1),e.Y8G("ngIf",t.pipe===i.Pipes.number),e.R7$(1),e.Y8G("ngIf",!t.pipe&&"close_remarks"!==t.field),e.R7$(1),e.Y8G("ngIf","close_remarks"===t.field),e.R7$(1),e.Y8G("ngIf","close_remarks"===t.field)}}function mu(n,s){1&n&&(e.j41(0,"td")(1,"p-cellEditor"),e.DNE(2,fu,6,6,"ng-template",19),e.k0s()())}function gu(n,s){if(1&n){const t=e.RV6();e.j41(0,"tr",16),e.bIt("click",function(){const l=e.eBV(t).$implicit,r=e.XpG();return e.Njj(r.onRowInitSelected(l))}),e.j41(1,"td",17),e.EFF(2),e.k0s(),e.DNE(3,mu,3,0,"td",18),e.k0s()}if(2&n){const t=s.rowIndex,i=e.XpG();e.R7$(2),e.SpI(" ",t+1,""),e.R7$(1),e.Y8G("ngForOf",i.filteredColumns)}}function _u(n,s){if(1&n&&(e.j41(0,"tr")(1,"td"),e.EFF(2),e.nI1(3,"translate"),e.k0s()()),2&n){const t=e.XpG();e.R7$(1),e.BMQ("colspan",t.columns.length+2),e.R7$(1),e.SpI(" ",e.bMT(3,2,"common.noDataAvailable"),"")}}function bu(n,s){if(1&n&&(e.j41(0,"tr")(1,"td"),e.EFF(2),e.nI1(3,"translate"),e.k0s()()),2&n){const t=e.XpG();e.R7$(1),e.BMQ("colspan",t.columns.length+2),e.R7$(1),e.JRh(e.bMT(3,2,"common.loading"))}}let $s=(()=>{class n{getFieldValue(t){return t??""}isEmpty(t){return null==t||""===t}get Pipes(){return Zt}toggleStatus(t,i){i.isActive=t,this.onToggleStatusClick.emit(i)}constructor(t,i,o,l){this.translate=t,this.messageService=i,this.confirmationService=o,this.authService=l,this.loading=!0,this.onDeleteClick=new e.bkB,this.onUpdateClick=new e.bkB,this.onRowSelected=new e.bkB,this.onToggleStatusClick=new e.bkB,this.clonedProducts={},this.isEditRowMode=!1,this.isDeleteRowMode=!1}get filteredColumns(){return this.columns.filter(t=>!t.hidden)}ngOnInit(){this.loading=!1}onRowEditInit(t){this.onUpdateClick.emit(t)}onRowDeleteInit(t){this.onDeleteClick.emit(t)}clear(){this.dataTable.clear(),this.filter.nativeElement.value=""}confirmChangeStatus(t,i,o){o.preventDefault(),this.confirmationService.confirm({message:this.translate.instant("messages.changeStatusConfirmation"),header:this.translate.instant("messages.confirmation"),icon:"pi pi-refresh",accept:()=>{i.isActive=t,this.onToggleStatusClick.emit(i)},reject:l=>{},key:"positionDialog"})}onRowInitSelected(t){this.onRowSelected.emit(t)}get opnionVal(){return Wn}static#e=this.\u0275fac=function(i){return new(i||n)(e.rXU(D.c$),e.rXU(b.bg),e.rXU(b.td),e.rXU(eu.u))};static#t=this.\u0275cmp=e.VBU({type:n,selectors:[["app-shared-list"]],viewQuery:function(i,o){if(1&i&&(e.GBs(tu,5),e.GBs(nu,5)),2&i){let l;e.mGM(l=e.lsd())&&(o.dataTable=l.first),e.mGM(l=e.lsd())&&(o.filter=l.first)}},inputs:{loading:"loading",columns:"columns",globalFilterFields:"globalFilterFields",itemsList:"itemsList",selectList:["selectlist","selectList"],HideEditBtn:"HideEditBtn",HideDeleteBtn:"HideDeleteBtn"},outputs:{onDeleteClick:"onDeleteClick",onUpdateClick:"onUpdateClick",onRowSelected:"onRowSelected",onToggleStatusClick:"onToggleStatusClick"},decls:7,vars:8,consts:[[1,"card"],["dataKey","id","selectionMode","single","sortMode","multiple","responsiveLayout","scroll","styleClass","p-datatable-gridlines",3,"value","rows","columns","loading","selection","rowHover","paginator","globalFilterFields","selectionChange"],["dataTable",""],["pTemplate","header"],["pTemplate","body"],["pTemplate","emptymessage"],["pTemplate","loadingbody"],[1,"sort-th"],[3,"pSortableColumn",4,"ngFor","ngForOf"],[3,"pSortableColumn"],["class","text-center",4,"ngIf"],["class","flex justify-content-between align-items-center",4,"ngIf"],[1,"text-center"],[1,"flex","justify-content-between","align-items-center"],[1,"d-flex"],[1,"table-header-text"],[3,"click"],[1,"sort-td"],[4,"ngFor","ngForOf"],["pTemplate","output"],["tooltipPosition","top","class","text-truncate mw-100 d-inline-block",3,"pTooltip",4,"ngIf"],[4,"ngIf"],[3,"ngClass",4,"ngIf"],["tooltipPosition","top",1,"text-truncate","mw-100","d-inline-block",3,"pTooltip"],[3,"ngClass"]],template:function(i,o){1&i&&(e.j41(0,"div",0)(1,"p-table",1,2),e.bIt("selectionChange",function(r){return o.selected=r}),e.DNE(3,lu,5,1,"ng-template",3),e.DNE(4,gu,4,2,"ng-template",4),e.DNE(5,_u,4,4,"ng-template",5),e.DNE(6,bu,4,4,"ng-template",6),e.k0s()()),2&i&&(e.R7$(1),e.Y8G("value",o.itemsList)("rows",10)("columns",o.columns)("loading",o.loading)("selection",o.selected)("rowHover",!0)("paginator",!0)("globalFilterFields",o.globalFilterFields))},dependencies:[O.YU,O.Sq,O.bT,he.XI,b.Ei,he.Tg,he.c5,gt.m,O.QX,O.vh,D.D9],styles:[".product-badge[_ngcontent-%COMP%]{border-radius:var(--border-radius);padding:.25em .5rem;text-transform:uppercase;font-weight:700;font-size:12px;letter-spacing:.3px}.product-badge.status-instock[_ngcontent-%COMP%]{background:#C8E6C9;color:#256029}.product-badge.status-outofstock[_ngcontent-%COMP%]{background:#FFCDD2;color:#c63737}.product-badge.status-lowstock[_ngcontent-%COMP%]{background:#FEEDAF;color:#8a5340}.customer-badge[_ngcontent-%COMP%]{border-radius:var(--border-radius);padding:.25em .5rem;text-transform:uppercase;font-weight:700;font-size:12px;letter-spacing:.3px}.customer-badge.status-qualified[_ngcontent-%COMP%]{background:#C8E6C9;color:#256029}.customer-badge.status-unqualified[_ngcontent-%COMP%]{background:#FFCDD2;color:#c63737}.customer-badge.status-negotiation[_ngcontent-%COMP%]{background:#FEEDAF;color:#8a5340}.customer-badge.status-new[_ngcontent-%COMP%]{background:#B3E5FC;color:#23547b}.customer-badge.status-renewal[_ngcontent-%COMP%]{background:#ECCFFF;color:#694382}.customer-badge.status-proposal[_ngcontent-%COMP%]{background:#FFD8B2;color:#805b36}.order-badge[_ngcontent-%COMP%]{border-radius:var(--border-radius);padding:.25em .5rem;text-transform:uppercase;font-weight:700;font-size:12px;letter-spacing:.3px}.order-badge.order-delivered[_ngcontent-%COMP%]{background:#C8E6C9;color:#256029}.order-badge.order-cancelled[_ngcontent-%COMP%]{background:#FFCDD2;color:#c63737}.order-badge.order-pending[_ngcontent-%COMP%]{background:#FEEDAF;color:#8a5340}.order-badge.order-returned[_ngcontent-%COMP%]{background:#ECCFFF;color:#694382}",".highlight-cell[_ngcontent-%COMP%]{color:red;font-weight:700}","[_nghost-%COMP%]     .p-frozen-column{font-weight:700}[_nghost-%COMP%]     .p-datatable-frozen-tbody{font-weight:700}[_nghost-%COMP%]     .p-progressbar{height:.5rem}"]})}return n})();const vu=["filter"];let yu=(()=>{class n{constructor(t,i,o,l,r){this.configService=t,this.service=i,this.messageService=o,this.loader=l,this.translate=r,this.chaissChanged=new e.bkB,this.loading=!0,this.ShowAddNew=!1,this.d1=!1,this.item={},this.opnionList=Object.keys(Wn).map(c=>({label:Wn[c],value:Number(c)})).filter(c=>!isNaN(Number(c.value)))}ngOnInit(){this.fillColumns(),this.searched&&this.GetServiceList(),this.translate.onLangChange.asObservable().subscribe(i=>{this.fillColumns()})}fillColumns(){this.columns=[{field:"voice_id",title:"history.id",hidden:!1,showTooltip:!0},{field:"voice_type",title:"history.voiceType",hidden:!1,showTooltip:!0},{field:"job_card",title:"history.jobcard",hidden:!1,showTooltip:!0},{field:"action_comments",title:"history.actionComment",hidden:!1,showTooltip:!0},{field:"close_remarks",title:"history.closeRemark",hidden:!1,showTooltip:!0},{field:"close_date",title:"history.closeDate",hidden:!1,showTooltip:!0,pipe:Zt.date},{field:"voice_created_date",title:"history.createDate",hidden:!1,showTooltip:!0,pipe:Zt.date}]}ngOnChanges(t){t.searched&&t.searched.currentValue&&this.GetServiceList()}GetServiceList(){this.loader.start(),this.service.GetHistoryList(this.searched).subscribe({next:t=>{if(!1===t.succeeded)return this.messageService.add({severity:"error",summary:"Error",detail:t.message}),this.loader.stop(),void(this.itemsList=[]);this.itemsList=t.items,this.loader.stop()}})}get opnionVal(){return Wn}onRowSelected(t){this.item=t}static#e=this.\u0275fac=function(i){return new(i||n)(e.rXU(g.w),e.rXU(Wc),e.rXU(b.bg),e.rXU(G.eD),e.rXU(D.c$))};static#t=this.\u0275cmp=e.VBU({type:n,selectors:[["app-history"]],viewQuery:function(i,o){if(1&i&&e.GBs(vu,5),2&i){let l;e.mGM(l=e.lsd())&&(o.filter=l.first)}},inputs:{searched:"searched"},outputs:{columns:"columns",globalFilterFields:"globalFilterFields",chaissChanged:"chaissChanged"},features:[e.OA$],decls:19,vars:14,consts:[[3,"itemsList","columns","onRowSelected"],[1,"card","py-0","form-card","pt-2"],[1,"row"],[1,"col-lg-6","p-3","main-info-border"],[1,"row","g-4"],[1,"col-xl-12","col-lg-12","col-md-12","col-12"],[1,"p-float-label"],["id","customerVoice","rows","4","cols","30","pInputTextarea","",1,"form-control",3,"ngModel","autoResize","readonly","ngModelChange"],["for","customerVoice"],["id","crmFollow","rows","4","cols","30","pInputTextarea","",1,"form-control",3,"ngModel","autoResize","readonly","ngModelChange"],["for","crmFollow"]],template:function(i,o){1&i&&(e.j41(0,"app-shared-list",0),e.bIt("onRowSelected",function(r){return o.onRowSelected(r)}),e.k0s(),e.j41(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"textarea",7),e.bIt("ngModelChange",function(r){return o.item.customer_voice=r}),e.k0s(),e.j41(8,"label",8),e.EFF(9),e.nI1(10,"translate"),e.k0s()()()()(),e.j41(11,"div",3)(12,"div",4)(13,"div",5)(14,"div",6)(15,"textarea",9),e.bIt("ngModelChange",function(r){return o.item.crm_follow_up_remarks=r}),e.k0s(),e.j41(16,"label",10),e.EFF(17),e.nI1(18,"translate"),e.k0s()()()()()()()),2&i&&(e.Y8G("itemsList",o.itemsList)("columns",o.columns),e.R7$(7),e.Y8G("ngModel",o.item.customer_voice)("autoResize",!0)("readonly",!0),e.R7$(2),e.JRh(e.bMT(10,10,"history.customerVoice")),e.R7$(6),e.Y8G("ngModel",o.item.crm_follow_up_remarks)("autoResize",!0)("readonly",!0),e.R7$(2),e.JRh(e.bMT(18,12,"history.crmFollow")))},dependencies:[N.me,N.BC,N.vS,$s,Ve,D.D9],styles:[".highlight-cell[_ngcontent-%COMP%]{color:red;font-weight:700}"]})}return n})(),Tu=(()=>{class n{constructor(t){this.http=t,this.TOKEN_KEY="EMRtoken",this.apiUrl=_.c.APIUrl}GetServiceList(t){return this.http.get(this.apiUrl+"inbound/get_inbound/service_hist_by_chass/"+t)}static#e=this.\u0275fac=function(i){return new(i||n)(e.KVO(T.Qq))};static#t=this.\u0275prov=e.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const Cu=["filter"];let Iu=(()=>{class n{constructor(t,i,o,l,r){this.configService=t,this.service=i,this.messageService=o,this.loader=l,this.translate=r,this.chaissChanged=new e.bkB,this.loading=!0,this.ShowAddNew=!1,this.d1=!1}ngOnInit(){this.fillColumns(),this.searched&&this.GetServiceList(),this.translate.onLangChange.asObservable().subscribe(i=>{this.fillColumns()})}fillColumns(){const t=this.translate.currentLang;this.columns=[{field:"job_card",title:"service.jobNo",hidden:!1,showTooltip:!0},{field:"location_arb",title:"service.location",hidden:"en"==t,showTooltip:!0},{field:"location_eng",title:"service.location",hidden:"ar"==t,showTooltip:!0},{field:"job_name_ara",title:"service.jobName",hidden:"en"==t,showTooltip:!0},{field:"job_name_eng",title:"service.jobName",hidden:"ar"==t,showTooltip:!0},{field:"job_date",title:"service.jobDate",hidden:!1,showTooltip:!0,pipe:Zt.date},{field:"matrl_amount",title:"service.martlAmt",hidden:!1,showTooltip:!0},{field:"lab_amount",title:"service.labAmt",hidden:!1,showTooltip:!0},{field:"invoice_date",title:"service.invoiceDate",hidden:!1,showTooltip:!0,pipe:Zt.date},{field:"speedo_mrt_reading",title:"service.speedMrtRedng",hidden:!1,showTooltip:!0}]}ngOnChanges(t){t.searched&&t.searched.currentValue&&this.GetServiceList()}GetServiceList(){this.loader.start(),this.service.GetServiceList(this.searched).subscribe({next:t=>{if(!1===t.succeeded)return this.messageService.add({severity:"error",summary:"Error",detail:t.message}),this.loader.stop(),void(this.itemsList=[]);this.itemsList=t.items,this.loader.stop()}})}static#e=this.\u0275fac=function(i){return new(i||n)(e.rXU(g.w),e.rXU(Tu),e.rXU(b.bg),e.rXU(G.eD),e.rXU(D.c$))};static#t=this.\u0275cmp=e.VBU({type:n,selectors:[["app-service"]],viewQuery:function(i,o){if(1&i&&e.GBs(Cu,5),2&i){let l;e.mGM(l=e.lsd())&&(o.filter=l.first)}},inputs:{searched:"searched"},outputs:{columns:"columns",globalFilterFields:"globalFilterFields",chaissChanged:"chaissChanged"},features:[e.OA$],decls:8,vars:5,consts:[[1,"row"],[1,"col-lg-12","p-3","mt-1","main-info-border"],[1,"row","g-4"],[1,"col-xl-3","col-lg-3","col-md-6","col-12","ms-auto","text-end"],[1,"p-element","p-button-outlined","p-button","p-component","w-100"],[3,"itemsList","columns"]],template:function(i,o){1&i&&(e.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"button",4),e.EFF(5),e.nI1(6,"translate"),e.k0s()()()()(),e.nrm(7,"app-shared-list",5)),2&i&&(e.R7$(5),e.SpI(" ",e.bMT(6,3,"service.vehicleRepair")," "),e.R7$(2),e.Y8G("itemsList",o.itemsList)("columns",o.columns))},dependencies:[$s,D.D9]})}return n})(),xu=(()=>{class n{constructor(t){this.http=t,this.TOKEN_KEY="EMRtoken",this.apiUrl=_.c.APIUrl}GetComponsationList1(t){return this.http.get(this.apiUrl+"inbound/get_inbound/comp_info1/"+t)}GetComponsationList2(t){return this.http.get(this.apiUrl+"inbound/get_inbound/comp_info2/"+t)}static#e=this.\u0275fac=function(i){return new(i||n)(e.KVO(T.Qq))};static#t=this.\u0275prov=e.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const wu=["filter"];let Eu=(()=>{class n{constructor(t,i,o,l,r){this.configService=t,this.service=i,this.messageService=o,this.loader=l,this.translate=r,this.chaissChanged=new e.bkB,this.loading=!0,this.ShowAddNew=!1,this.d1=!1}ngOnInit(){this.fillColumns1(),this.fillColumns2(),this.searched&&(this.GetServiceList1(),this.GetServiceList2())}fillColumns2(){this.columns2=[{field:"job_card",title:"componsation.jobNo",hidden:!1,showTooltip:!0},{field:"req_id",title:"componsation.reqId",hidden:!1,showTooltip:!0},{field:"status",title:"componsation.status",hidden:!1,showTooltip:!0},{field:"approved_days",title:"componsation.approvedDays",hidden:!1,showTooltip:!0},{field:"process_date",title:"componsation.processDate",hidden:!1,showTooltip:!0,pipe:Zt.date}]}fillColumns1(){this.columns1=[{field:"voice_id",title:"componsation.voiceId",hidden:!1,showTooltip:!0},{field:"created_date",title:"componsation.creDate",hidden:!1,showTooltip:!0,pipe:Zt.date},{field:"days",title:"componsation.days",hidden:!1,showTooltip:!0},{field:"com_status",title:"componsation.completed",hidden:!1,showTooltip:!0},{field:"waiting_cust_doc",title:"componsation.waitedCust",hidden:!1,showTooltip:!0}]}ngOnChanges(t){t.searched&&t.searched.currentValue&&(this.GetServiceList1(),this.GetServiceList2())}GetServiceList1(){this.loader.start(),this.service.GetComponsationList1(this.searched).subscribe({next:t=>{if(!1===t.succeeded)return this.messageService.add({severity:"error",summary:"Error",detail:t.message}),this.loader.stop(),void(this.itemsList1=[]);this.itemsList1=t.items,this.loader.stop()}})}GetServiceList2(){this.loader.start(),this.service.GetComponsationList2(this.searched).subscribe({next:t=>{if(!1===t.succeeded)return this.messageService.add({severity:"error",summary:"Error",detail:t.message}),this.loader.stop(),void(this.itemsList2=[]);this.itemsList2=t.items,this.loader.stop()}})}get opnionVal(){return Wn}static#e=this.\u0275fac=function(i){return new(i||n)(e.rXU(g.w),e.rXU(xu),e.rXU(b.bg),e.rXU(G.eD),e.rXU(D.c$))};static#t=this.\u0275cmp=e.VBU({type:n,selectors:[["app-componsation"]],viewQuery:function(i,o){if(1&i&&e.GBs(wu,5),2&i){let l;e.mGM(l=e.lsd())&&(o.filter=l.first)}},inputs:{searched:"searched"},outputs:{columns1:"columns",columns2:"columns",globalFilterFields:"globalFilterFields",chaissChanged:"chaissChanged"},features:[e.OA$],decls:5,vars:4,consts:[[1,"row"],[1,"col-6"],[3,"itemsList","columns"]],template:function(i,o){1&i&&(e.j41(0,"div",0)(1,"div",1),e.nrm(2,"app-shared-list",2),e.k0s(),e.j41(3,"div",1),e.nrm(4,"app-shared-list",2),e.k0s()()),2&i&&(e.R7$(2),e.Y8G("itemsList",o.itemsList1)("columns",o.columns1),e.R7$(2),e.Y8G("itemsList",o.itemsList2)("columns",o.columns2))},dependencies:[$s]})}return n})();function Su(n,s){if(1&n&&e.nrm(0,"app-attach-image",41),2&n){const t=e.XpG();e.Y8G("receivedData",t.searchedData)}}function ku(n,s){if(1&n&&e.nrm(0,"app-history",42),2&n){const t=e.XpG();e.Y8G("searched",t.searched)}}function Nu(n,s){if(1&n&&e.nrm(0,"app-service",42),2&n){const t=e.XpG();e.Y8G("searched",t.searched)}}function Lu(n,s){if(1&n&&e.nrm(0,"app-componsation",42),2&n){const t=e.XpG();e.Y8G("searched",t.searched)}}function Au(n,s){if(1&n){const t=e.RV6();e.j41(0,"li",48),e.bIt("click",function(){const l=e.eBV(t).$implicit,r=e.XpG(3);return e.Njj(r.onChassisSelect(l))}),e.EFF(1),e.k0s()}if(2&n){const t=s.$implicit;e.R7$(1),e.SpI(" ",t," ")}}function Ru(n,s){if(1&n&&(e.j41(0,"div")(1,"ul"),e.DNE(2,Au,2,1,"li",47),e.k0s()()),2&n){const t=e.XpG().$implicit;e.R7$(2),e.Y8G("ngForOf",t.data.chisses)}}function Ou(n,s){if(1&n&&(e.j41(0,"div",43)(1,"div",44),e.nrm(2,"i",45),e.j41(3,"h5"),e.EFF(4),e.k0s(),e.j41(5,"p"),e.EFF(6),e.k0s()(),e.DNE(7,Ru,3,1,"div",46),e.k0s()),2&n){const t=s.$implicit;e.R7$(4),e.JRh(t.summary),e.R7$(2),e.JRh(t.detail),e.R7$(1),e.Y8G("ngIf",null==t.data||null==t.data.chisses?null:t.data.chisses.length)}}function Du(n,s){if(1&n&&(e.j41(0,"div",49),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&n){const t=s.$implicit;e.R7$(1),e.SpI(" ",e.bMT(2,1,"popSearch.SearchFieldEnum."+t.label)," ")}}function Fu(n,s){if(1&n&&(e.j41(0,"div",50),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&n){const t=s.$implicit;e.R7$(1),e.SpI(" ",e.bMT(2,1,"popSearch.SearchFieldEnum."+t.label)," ")}}function Mu(n,s){1&n&&(e.nrm(0,"p-message",51),e.nI1(1,"translate")),2&n&&e.FS9("text",e.bMT(1,1,"popSearch.valType"))}const ju=function(){return{width:"50vw",height:"220px","min-height":"220px"}},Gu=function(){return{width:"100%"}};let Vs=(()=>{class n{onVoiceInfoDataReceived(t){this.searchedData=t}constructor(t,i,o,l,r,c,d,h,v){this.configService=t,this.voiceService=i,this.messageService=o,this.loader=l,this.translate=r,this.router=c,this.fb=d,this.service=h,this.permission=v,this.voiceInfo=!0,this.action=!1,this.Attach=!1,this.History=!1,this.Service=!1,this.Componsation=!1,this.Query=!1,this.Pending=!1,this.title=this.translate.instant("inBound.voice_information"),this.showSearch=!1,this.formSubmited=!1,this.componentTitleMap={[B.Voice_Info]:"inBound.voice_information",[B.Action]:"inBound.action",[B.Attach]:"inBound.attached_image",[B.History]:"inBound.history",[B.Service]:"inBound.services_history",[B.Componsation]:"inBound.compensation",[B.Pending]:"inBound.pending_for_close",[B.Query]:"inBound.query_ref_no"},this.seaechFieldList=Object.keys(Et).map(E=>({label:Et[E],value:Number(E)})).filter(E=>!isNaN(Number(E.value))),this.showSearch=!1,this.router.paramMap.subscribe(E=>{const A=E.get("email");A?this.getPermission(A):console.warn("No email provided in the URL.")})}getPermission(t){this.permission.fetchAndSetPermission(t)}ngOnInit(){this.translate.onLangChange.subscribe(()=>{this.title=this.componentTitleMap[this.currentComponent]?this.translate.instant(this.componentTitleMap[this.currentComponent]):""}),this.router.paramMap.subscribe(t=>{this.messageService.clear();const i=t.get("inboundId");i&&this.GetInboundData(i)}),this.initForm()}initForm(){this.form=this.fb.group({type:[null,N.k0.required],field:[""]})}GetInboundData(t){this.loader.start(),this.voiceService.GetInboundDataByChass(t).subscribe({next:i=>{if(!1===i.succeeded)return this.messageService.add({severity:"error",summary:"Error",detail:i.message}),void this.loader.stop();if(this.infoData=i,i.items.length>1){const o=i.items.map(l=>l.vm_chassis_no);this.messageService.add({key:"c",severity:"success",summary:this.translate.instant("inBound.note"),sticky:!0,detail:this.translate.instant("inBound.select"),data:{chisses:o}})}else 1==i.items.length?this.searched=i.items[0].vm_chassis_no:this.showSearch=!0;this.loader.stop()},error:i=>{this.messageService.add({severity:"error",summary:"Error",detail:this.translate.instant("messages.connectionFailed")}),this.loader.stop()}})}get Components(){return B}displayComp(t){switch(this.voiceInfo=!1,this.action=!1,this.Attach=!1,this.History=!1,this.Service=!1,this.Componsation=!1,this.Query=!1,this.Pending=!1,this.onVoiceInfoDataReceived(this.searchedData),this.currentComponent=t,this.title=this.componentTitleMap[t]?this.translate.instant(this.componentTitleMap[t]):"",t){case B.Voice_Info:this.voiceInfo=!0;break;case B.Action:this.action=!0;break;case B.Attach:this.Attach=!0;break;case B.History:this.History=!0;break;case B.Service:this.Service=!0;break;case B.Componsation:this.Componsation=!0;break;case B.Pending:this.Pending=!0;break;case B.Query:this.Query=!0}}onChassisSelect(t){this.searched=t}SearchChaiss(){if(null==this.form.get("type").value)return void(this.formSubmited=!0);this.loader.start();const i=this.form.value.type,o=i===Et.Chassis?this.form.get("field").value:null,l=i!==Et.Chassis?this.form.get("field").value:null;this.service.GetChassNum(o,l).subscribe({next:r=>{r?(this.searched=r.items[0].jm_chassis_no,this.showSearch=!1,this.form.reset()):this.messageService.add({severity:"error",summary:"Error",detail:"No Chaiss No..."}),this.formSubmited=!1},error:r=>{this.messageService.add({severity:"error",summary:"Error",detail:"An unexpected error occurred."}),this.formSubmited=!1,this.loader.stop()},complete:()=>{this.formSubmited=!1,this.loader.stop()}})}CloseDialog(){this.form.reset(),this.formSubmited=!1}static#e=this.\u0275fac=function(i){return new(i||n)(e.rXU(g.w),e.rXU(De),e.rXU(b.bg),e.rXU(G.eD),e.rXU(D.c$),e.rXU(de.nX),e.rXU(N.ok),e.rXU(xi),e.rXU(oe.n))};static#t=this.\u0275cmp=e.VBU({type:n,selectors:[["app-main-in-page"]],viewQuery:function(i,o){if(1&i&&e.GBs(qn,5),2&i){let l;e.mGM(l=e.lsd())&&(o.actionRef=l.first)}},decls:106,vars:77,consts:[[1,"row","justify-content-center"],[1,"col-8"],[1,"search-patient","mt-4"],[1,"pi","pi-search"],["type","text","pInputText","",1,"w-100",3,"placeholder","minLength","ngModel","ngModelChange"],[1,"layout-breadcrumb","row","align-items-center","px-0"],[1,"col-lg-8","col-md-7","col-12"],[1,"breadcrumb"],[1,"route-bar-breadcrumb"],[1,"pi","pi-angle-right"],[1,"layout-dashboard"],[1,"row"],[1,"col-12","col-md-12","col-xl-4",3,"click"],[1,"card","card-component","overview-box","blue"],[1,"card-header",2,"padding-bottom","5px","background-color","transparent"],[1,"header-buttons"],[3,"name"],[1,"col-12","col-md-12","col-xl-12","mt-3"],[1,"card"],[3,"hidden","searched","actionRef","dataEmitter"],[3,"hidden","receivedData"],[3,"receivedData",4,"ngIf"],[3,"searched",4,"ngIf"],[1,"flex","justify-content-center"],["position","top-right","key","c",3,"baseZIndex","showTransformOptions","showTransitionOptions","hideTransitionOptions"],["pTemplate","message"],[3,"header","visible","visibleChange","onHide"],[3,"formGroup"],[1,"row","mt-4","justify-content-center"],[1,"col-xl-5","col-lg-5","col-md-5","col-12"],[1,""],["formControlName","type",3,"emptyMessage","filter","options","placeholder","showClear"],["pTemplate","selectedItem"],["pTemplate","item"],["severity","error",3,"text",4,"ngIf"],[1,"p-float-label"],["pInputText","","id","enter","formControlName","field",1,"form-control"],["htmlFor","enter"],[1,"col-xxl-12","col-xl-12","col-lg-12","col-md-12","col-12","d-flex","align-items-center","justify-content-end","mt-3"],["type","button",1,"p-element","p-button","p-component","d-flex","justify-content-center",2,"width","10%",3,"click"],[1,"p-button-icon","mx-2","p-button-icon-left","pi","pi-search"],[3,"receivedData"],[3,"searched"],[1,"flex","flex-column",2,"flex","1"],[1,"text-center","mb-3"],[1,"pi","pi-exclamation-triangle",2,"font-size","3rem"],[4,"ngIf"],["style","cursor: pointer","class","my-2 list-Item",3,"click",4,"ngFor","ngForOf"],[1,"my-2","list-Item",2,"cursor","pointer",3,"click"],[1,"country-item","country-item-value"],[1,"country-item"],["severity","error",3,"text"]],template:function(i,o){1&i&&(e.j41(0,"div",0)(1,"div",1)(2,"div",2),e.nrm(3,"i",3),e.j41(4,"input",4),e.bIt("ngModelChange",function(r){return o.searched=r}),e.nI1(5,"translate"),e.k0s()()()(),e.j41(6,"div",5)(7,"div",6)(8,"div",7)(9,"div",8)(10,"li"),e.EFF(11),e.nI1(12,"translate"),e.k0s(),e.j41(13,"li"),e.nrm(14,"i",9),e.EFF(15),e.k0s()()()()(),e.j41(16,"div",10)(17,"div",11)(18,"div",12),e.bIt("click",function(){return o.displayComp(o.Components.Voice_Info)}),e.j41(19,"div",13)(20,"div",14)(21,"h6"),e.EFF(22),e.nI1(23,"translate"),e.k0s(),e.j41(24,"div",15),e.nrm(25,"svg-icon",16),e.k0s()()()(),e.j41(26,"div",12),e.bIt("click",function(){return o.displayComp(o.Components.Action)}),e.j41(27,"div",13)(28,"div",14)(29,"h6"),e.EFF(30),e.nI1(31,"translate"),e.k0s(),e.j41(32,"div",15),e.nrm(33,"svg-icon",16),e.k0s()()()(),e.j41(34,"div",12),e.bIt("click",function(){return o.displayComp(o.Components.Attach)}),e.j41(35,"div",13)(36,"div",14)(37,"h6"),e.EFF(38),e.nI1(39,"translate"),e.k0s(),e.j41(40,"div",15),e.nrm(41,"svg-icon",16),e.k0s()()()(),e.j41(42,"div",12),e.bIt("click",function(){return o.displayComp(o.Components.History)}),e.j41(43,"div",13)(44,"div",14)(45,"h6"),e.EFF(46),e.nI1(47,"translate"),e.k0s(),e.j41(48,"div",15),e.nrm(49,"svg-icon",16),e.k0s()()()(),e.j41(50,"div",12),e.bIt("click",function(){return o.displayComp(o.Components.Service)}),e.j41(51,"div",13)(52,"div",14)(53,"h6"),e.EFF(54),e.nI1(55,"translate"),e.k0s(),e.j41(56,"div",15),e.nrm(57,"svg-icon",16),e.k0s()()()(),e.j41(58,"div",12),e.bIt("click",function(){return o.displayComp(o.Components.Componsation)}),e.j41(59,"div",13)(60,"div",14)(61,"h6"),e.EFF(62),e.nI1(63,"translate"),e.k0s(),e.j41(64,"div",15),e.nrm(65,"svg-icon",16),e.k0s()()()(),e.j41(66,"div",17)(67,"div",18)(68,"app-voice-info",19),e.bIt("dataEmitter",function(r){return o.onVoiceInfoDataReceived(r)}),e.k0s(),e.nrm(69,"app-action",20),e.DNE(70,Su,1,1,"app-attach-image",21),e.DNE(71,ku,1,1,"app-history",22),e.DNE(72,Nu,1,1,"app-service",22),e.DNE(73,Lu,1,1,"app-componsation",22),e.k0s()()()(),e.nrm(74,"ngx-ui-loader")(75,"p-toast"),e.j41(76,"div",23)(77,"p-toast",24),e.DNE(78,Ou,8,3,"ng-template",25),e.k0s()(),e.j41(79,"p-dialog",26),e.bIt("visibleChange",function(r){return o.showSearch=r})("onHide",function(){return o.CloseDialog()}),e.nI1(80,"translate"),e.j41(81,"form",27)(82,"h5"),e.EFF(83),e.nI1(84,"translate"),e.k0s(),e.j41(85,"div",28)(86,"div",29)(87,"div",30)(88,"p-dropdown",31),e.nI1(89,"translate"),e.nI1(90,"translate"),e.DNE(91,Du,3,3,"ng-template",32),e.DNE(92,Fu,3,3,"ng-template",33),e.k0s()(),e.DNE(93,Mu,2,3,"p-message",34),e.k0s(),e.j41(94,"div",29)(95,"div",35),e.nrm(96,"input",36),e.j41(97,"label",37),e.EFF(98),e.nI1(99,"translate"),e.k0s()()()(),e.j41(100,"div",11)(101,"div",38)(102,"button",39),e.bIt("click",function(){return o.SearchChaiss()}),e.nrm(103,"i",40),e.EFF(104),e.nI1(105,"translate"),e.k0s()()()()()),2&i&&(e.R7$(4),e.FS9("placeholder",e.bMT(5,47,"inBound.search")),e.Y8G("minLength",2)("ngModel",o.searched),e.R7$(7),e.SpI(" ",e.bMT(12,49,"menu.inBound")," "),e.R7$(4),e.SpI(" ",o.title," "),e.R7$(7),e.SpI(" ",e.bMT(23,51,"inBound.voice_information"),""),e.R7$(3),e.Y8G("name","voive-info-icon"),e.R7$(5),e.SpI(" ",e.bMT(31,53,"inBound.action"),""),e.R7$(3),e.Y8G("name","action-icon"),e.R7$(5),e.SpI(" ",e.bMT(39,55,"inBound.attached_image"),""),e.R7$(3),e.Y8G("name","attach-icon"),e.R7$(5),e.SpI(" ",e.bMT(47,57,"inBound.history"),""),e.R7$(3),e.Y8G("name","history-icon"),e.R7$(5),e.SpI(" ",e.bMT(55,59,"inBound.services_history"),""),e.R7$(3),e.Y8G("name","service-icon"),e.R7$(5),e.SpI(" ",e.bMT(63,61,"inBound.compensation"),""),e.R7$(3),e.Y8G("name","componsation-icon"),e.R7$(3),e.Y8G("hidden",!o.voiceInfo)("searched",o.searched)("actionRef",o.actionRef),e.R7$(1),e.Y8G("hidden",!o.action)("receivedData",o.searchedData),e.R7$(1),e.Y8G("ngIf",o.Attach),e.R7$(1),e.Y8G("ngIf",o.History),e.R7$(1),e.Y8G("ngIf",o.Service),e.R7$(1),e.Y8G("ngIf",o.Componsation),e.R7$(4),e.Y8G("baseZIndex",5e3)("showTransformOptions","translateY(100%)")("showTransitionOptions","1000ms")("hideTransitionOptions","1000ms")("showTransformOptions","translateX(100%)"),e.R7$(2),e.Aen(e.lJ4(75,ju)),e.FS9("header",e.bMT(80,63,"popSearch.method")),e.Y8G("visible",o.showSearch),e.R7$(2),e.Y8G("formGroup",o.form),e.R7$(2),e.SpI("",e.bMT(84,65,"popSearch.noChaises")," "),e.R7$(5),e.Aen(e.lJ4(76,Gu)),e.FS9("emptyMessage",e.bMT(89,67,"common.noDataAvailable")),e.FS9("placeholder",e.bMT(90,69,"popSearch.searchType")),e.Y8G("filter",!1)("options",o.seaechFieldList)("showClear",!0),e.R7$(5),e.Y8G("ngIf",(null==o.form.get("type").errors?null:o.form.get("type").errors.required)&&(o.formSubmited||o.form.get("type").touched)),e.R7$(5),e.JRh(e.bMT(99,71,"popSearch.enter")),e.R7$(6),e.SpI("",e.bMT(105,73,"common.searchBtn")," "))},dependencies:[ee.DM,N.qT,N.me,N.BC,N.cb,N.vS,O.Sq,O.bT,N.j4,N.JD,mn.C,b.Ei,ke.S,f.ms,Pt.y8,G.Cv,Ut,Ua,qn,Zc,yu,Iu,Eu,D.D9],styles:[".card-component[_ngcontent-%COMP%]{cursor:pointer!important;border-radius:.375rem;overflow:hidden;box-shadow:0 4px 8px #0003;background:linear-gradient(to top,#ffffff,#4FC0E8);text-align:center;font-family:Arial,sans-serif}.list-Item[_ngcontent-%COMP%]:hover{color:#871645}"]})}return n})();const Bu=[{path:"mainInBound",component:Vs,title:"InBound"},{path:"mainInBound/:inboundId",component:Vs,title:"InBound"},{path:"mainInBound/:inboundId/:email",component:Vs,title:"InBound"}];let qu=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=e.$C({type:n});static#n=this.\u0275inj=e.G2t({imports:[de.iI.forChild(Bu),de.iI]})}return n})();var Qo=w(5404),Us=w(1880),Zo=w(8757);const $u=["container"],Vu=["in"],Uu=["multiIn"],Pu=["multiContainer"],Hu=["ddBtn"],Yu=["items"],zu=["scroller"],Xu=["overlay"],Ku=function(n,s){return{"p-autocomplete-dd-input":n,"p-disabled":s}};function Qu(n,s){if(1&n){const t=e.RV6();e.j41(0,"input",11,12),e.bIt("click",function(o){e.eBV(t);const l=e.XpG();return e.Njj(l.onInputClick(o))})("input",function(o){e.eBV(t);const l=e.XpG();return e.Njj(l.onInput(o))})("keydown",function(o){e.eBV(t);const l=e.XpG();return e.Njj(l.onKeydown(o))})("keyup",function(o){e.eBV(t);const l=e.XpG();return e.Njj(l.onKeyup(o))})("focus",function(o){e.eBV(t);const l=e.XpG();return e.Njj(l.onInputFocus(o))})("blur",function(o){e.eBV(t);const l=e.XpG();return e.Njj(l.onInputBlur(o))})("change",function(o){e.eBV(t);const l=e.XpG();return e.Njj(l.onInputChange(o))})("paste",function(o){e.eBV(t);const l=e.XpG();return e.Njj(l.onInputPaste(o))}),e.k0s()}if(2&n){const t=e.XpG();e.HbH(t.inputStyleClass),e.Y8G("autofocus",t.autofocus)("ngStyle",t.inputStyle)("autocomplete",t.autocomplete)("ngClass",e.l_i(20,Ku,t.dropdown,t.disabled))("value",t.inputFieldValue)("readonly",t.readonly)("disabled",t.disabled),e.BMQ("type",t.type)("id",t.inputId)("required",t.required)("name",t.name)("placeholder",t.placeholder)("size",t.size)("maxlength",t.maxlength)("tabindex",t.tabindex)("aria-label",t.ariaLabel)("aria-labelledby",t.ariaLabelledBy)("aria-required",t.required)}}function Zu(n,s){if(1&n){const t=e.RV6();e.j41(0,"TimesIcon",15),e.bIt("click",function(){e.eBV(t);const o=e.XpG(2);return e.Njj(o.clear())}),e.k0s()}2&n&&e.Y8G("styleClass","p-autocomplete-clear-icon")}function Ju(n,s){}function Wu(n,s){1&n&&e.DNE(0,Ju,0,0,"ng-template")}function ed(n,s){if(1&n){const t=e.RV6();e.j41(0,"span",16),e.bIt("click",function(){e.eBV(t);const o=e.XpG(2);return e.Njj(o.clear())}),e.DNE(1,Wu,1,0,null,8),e.k0s()}if(2&n){const t=e.XpG(2);e.R7$(1),e.Y8G("ngTemplateOutlet",t.clearIconTemplate)}}function td(n,s){if(1&n&&(e.qex(0),e.DNE(1,Zu,1,1,"TimesIcon",13),e.DNE(2,ed,2,1,"span",14),e.bVm()),2&n){const t=e.XpG();e.R7$(1),e.Y8G("ngIf",!t.clearIconTemplate),e.R7$(1),e.Y8G("ngIf",t.clearIconTemplate)}}function nd(n,s){1&n&&e.eu8(0)}function id(n,s){if(1&n&&(e.j41(0,"span",30),e.EFF(1),e.k0s()),2&n){const t=e.XpG().$implicit,i=e.XpG(2);e.R7$(1),e.JRh(i.resolveFieldData(t))}}function sd(n,s){1&n&&e.nrm(0,"TimesCircleIcon",31),2&n&&e.Y8G("styleClass","p-autocomplete-token-icon")}function od(n,s){}function ld(n,s){1&n&&e.DNE(0,od,0,0,"ng-template")}function rd(n,s){if(1&n&&(e.j41(0,"span",32),e.DNE(1,ld,1,0,null,8),e.k0s()),2&n){const t=e.XpG(3);e.R7$(1),e.Y8G("ngTemplateOutlet",t.removeIconTemplate)}}const ds=function(n){return{$implicit:n}};function ad(n,s){if(1&n){const t=e.RV6();e.j41(0,"li",23,24),e.DNE(2,nd,1,0,"ng-container",25),e.DNE(3,id,2,1,"span",26),e.j41(4,"span",27),e.bIt("click",function(){e.eBV(t);const o=e.sdS(1),l=e.XpG(2);return e.Njj(l.removeItem(o))}),e.DNE(5,sd,1,1,"TimesCircleIcon",28),e.DNE(6,rd,2,1,"span",29),e.k0s()()}if(2&n){const t=s.$implicit,i=e.XpG(2);e.R7$(2),e.Y8G("ngTemplateOutlet",i.selectedItemTemplate)("ngTemplateOutletContext",e.eq3(5,ds,t)),e.R7$(1),e.Y8G("ngIf",!i.selectedItemTemplate),e.R7$(2),e.Y8G("ngIf",!i.removeIconTemplate),e.R7$(1),e.Y8G("ngIf",i.removeIconTemplate)}}const cd=function(n,s){return{"p-disabled":n,"p-focus":s}};function ud(n,s){if(1&n){const t=e.RV6();e.j41(0,"ul",17,18),e.bIt("click",function(){e.eBV(t);const o=e.sdS(5);return e.Njj(o.focus())}),e.DNE(2,ad,7,7,"li",19),e.j41(3,"li",20)(4,"input",21,22),e.bIt("input",function(o){e.eBV(t);const l=e.XpG();return e.Njj(l.onInput(o))})("click",function(o){e.eBV(t);const l=e.XpG();return e.Njj(l.onInputClick(o))})("keydown",function(o){e.eBV(t);const l=e.XpG();return e.Njj(l.onKeydown(o))})("keyup",function(o){e.eBV(t);const l=e.XpG();return e.Njj(l.onKeyup(o))})("focus",function(o){e.eBV(t);const l=e.XpG();return e.Njj(l.onInputFocus(o))})("blur",function(o){e.eBV(t);const l=e.XpG();return e.Njj(l.onInputBlur(o))})("change",function(o){e.eBV(t);const l=e.XpG();return e.Njj(l.onInputChange(o))})("paste",function(o){e.eBV(t);const l=e.XpG();return e.Njj(l.onInputPaste(o))}),e.k0s()()()}if(2&n){const t=e.XpG();e.Y8G("ngClass",e.l_i(20,cd,t.disabled,t.focus)),e.R7$(2),e.Y8G("ngForOf",t.value),e.R7$(2),e.HbH(t.inputStyleClass),e.Y8G("autofocus",t.autofocus)("disabled",t.disabled)("readonly",t.readonly)("autocomplete",t.autocomplete)("ngStyle",t.inputStyle),e.BMQ("type",t.type)("id",t.inputId)("placeholder",t.value&&t.value.length?null:t.placeholder)("tabindex",t.tabindex)("maxlength",t.maxlength)("aria-label",t.ariaLabel)("aria-labelledby",t.ariaLabelledBy)("aria-required",t.required)("aria-controls",t.listId)("aria-expanded",t.overlayVisible)("aria-activedescendant","p-highlighted-option")}}function dd(n,s){1&n&&e.nrm(0,"SpinnerIcon",35),2&n&&e.Y8G("styleClass","p-autocomplete-loader")("spin",!0)}function pd(n,s){}function hd(n,s){1&n&&e.DNE(0,pd,0,0,"ng-template")}function fd(n,s){if(1&n&&(e.j41(0,"span",36),e.DNE(1,hd,1,0,null,8),e.k0s()),2&n){const t=e.XpG(2);e.R7$(1),e.Y8G("ngTemplateOutlet",t.loadingIconTemplate)}}function md(n,s){if(1&n&&(e.qex(0),e.DNE(1,dd,1,2,"SpinnerIcon",33),e.DNE(2,fd,2,1,"span",34),e.bVm()),2&n){const t=e.XpG();e.R7$(1),e.Y8G("ngIf",!t.loadingIconTemplate),e.R7$(1),e.Y8G("ngIf",t.loadingIconTemplate)}}function gd(n,s){if(1&n&&e.nrm(0,"span",40),2&n){const t=e.XpG(2);e.Y8G("ngClass",t.dropdownIcon)}}function _d(n,s){1&n&&e.nrm(0,"ChevronDownIcon")}function bd(n,s){}function vd(n,s){1&n&&e.DNE(0,bd,0,0,"ng-template")}function yd(n,s){if(1&n&&(e.qex(0),e.DNE(1,_d,1,0,"ChevronDownIcon",3),e.DNE(2,vd,1,0,null,8),e.bVm()),2&n){const t=e.XpG(2);e.R7$(1),e.Y8G("ngIf",!t.dropdownIconTemplate),e.R7$(1),e.Y8G("ngTemplateOutlet",t.dropdownIconTemplate)}}function Td(n,s){if(1&n){const t=e.RV6();e.j41(0,"button",37,38),e.bIt("click",function(o){e.eBV(t);const l=e.XpG();return e.Njj(l.handleDropdownClick(o))}),e.DNE(2,gd,1,1,"span",39),e.DNE(3,yd,3,2,"ng-container",3),e.k0s()}if(2&n){const t=e.XpG();e.Y8G("disabled",t.disabled),e.BMQ("aria-label",t.dropdownAriaLabel)("tabindex",t.tabindex),e.R7$(2),e.Y8G("ngIf",t.dropdownIcon),e.R7$(1),e.Y8G("ngIf",!t.dropdownIcon)}}function Cd(n,s){1&n&&e.eu8(0)}function Id(n,s){1&n&&e.eu8(0)}const Jo=function(n,s){return{$implicit:n,options:s}};function xd(n,s){if(1&n&&e.DNE(0,Id,1,0,"ng-container",25),2&n){const t=s.$implicit,i=s.options;e.XpG(2);const o=e.sdS(14);e.Y8G("ngTemplateOutlet",o)("ngTemplateOutletContext",e.l_i(2,Jo,t,i))}}function wd(n,s){1&n&&e.eu8(0)}const Ed=function(n){return{options:n}};function Sd(n,s){if(1&n&&e.DNE(0,wd,1,0,"ng-container",25),2&n){const t=s.options,i=e.XpG(3);e.Y8G("ngTemplateOutlet",i.loaderTemplate)("ngTemplateOutletContext",e.eq3(2,Ed,t))}}function kd(n,s){1&n&&(e.qex(0),e.DNE(1,Sd,1,4,"ng-template",44),e.bVm())}const ps=function(n){return{height:n}};function Nd(n,s){if(1&n){const t=e.RV6();e.j41(0,"p-scroller",41,42),e.bIt("onLazyLoad",function(o){e.eBV(t);const l=e.XpG();return e.Njj(l.onLazyLoad.emit(o))}),e.DNE(2,xd,1,5,"ng-template",43),e.DNE(3,kd,2,0,"ng-container",3),e.k0s()}if(2&n){const t=e.XpG();e.Aen(e.eq3(8,ps,t.scrollHeight)),e.Y8G("items",t.suggestions)("itemSize",t.virtualScrollItemSize||t._itemSize)("autoSize",!0)("lazy",t.lazy)("options",t.virtualScrollOptions),e.R7$(3),e.Y8G("ngIf",t.loaderTemplate)}}function Ld(n,s){1&n&&e.eu8(0)}const Ad=function(){return{}};function Rd(n,s){if(1&n&&(e.qex(0),e.DNE(1,Ld,1,0,"ng-container",25),e.bVm()),2&n){const t=e.XpG(),i=e.sdS(14);e.R7$(1),e.Y8G("ngTemplateOutlet",i)("ngTemplateOutletContext",e.l_i(3,Jo,t.suggestions,e.lJ4(2,Ad)))}}function Od(n,s){if(1&n&&(e.j41(0,"span"),e.EFF(1),e.k0s()),2&n){const t=e.XpG().$implicit,i=e.XpG(3);e.R7$(1),e.JRh(i.getOptionGroupLabel(t)||"empty")}}function Dd(n,s){1&n&&e.eu8(0)}function Fd(n,s){1&n&&e.eu8(0)}function Md(n,s){if(1&n&&(e.j41(0,"li",50),e.DNE(1,Od,2,1,"span",3),e.DNE(2,Dd,1,0,"ng-container",25),e.k0s(),e.DNE(3,Fd,1,0,"ng-container",25)),2&n){const t=s.$implicit,i=e.XpG(2).options,o=e.sdS(5),l=e.XpG();e.Y8G("ngStyle",e.eq3(6,ps,i.itemSize+"px")),e.R7$(1),e.Y8G("ngIf",!l.groupTemplate),e.R7$(1),e.Y8G("ngTemplateOutlet",l.groupTemplate)("ngTemplateOutletContext",e.eq3(8,ds,t)),e.R7$(1),e.Y8G("ngTemplateOutlet",o)("ngTemplateOutletContext",e.eq3(10,ds,l.getOptionGroupChildren(t)))}}function jd(n,s){if(1&n&&(e.qex(0),e.DNE(1,Md,4,12,"ng-template",49),e.bVm()),2&n){const t=e.XpG().$implicit;e.R7$(1),e.Y8G("ngForOf",t)}}function Gd(n,s){1&n&&e.eu8(0)}function Bd(n,s){if(1&n&&(e.qex(0),e.DNE(1,Gd,1,0,"ng-container",25),e.bVm()),2&n){const t=e.XpG().$implicit,i=e.sdS(5);e.R7$(1),e.Y8G("ngTemplateOutlet",i)("ngTemplateOutletContext",e.eq3(2,ds,t))}}function qd(n,s){if(1&n&&(e.j41(0,"span"),e.EFF(1),e.k0s()),2&n){const t=e.XpG().$implicit,i=e.XpG(3);e.R7$(1),e.JRh(i.resolveFieldData(t))}}function $d(n,s){1&n&&e.eu8(0)}const Vd=function(n){return{"p-highlight":n}},Ud=function(n,s){return{$implicit:n,index:s}};function Pd(n,s){if(1&n){const t=e.RV6();e.j41(0,"li",52),e.bIt("click",function(){const l=e.eBV(t).$implicit,r=e.XpG(3);return e.Njj(r.selectItem(l))}),e.DNE(1,qd,2,1,"span",3),e.DNE(2,$d,1,0,"ng-container",25),e.k0s()}if(2&n){const t=s.$implicit,i=s.index,o=e.XpG(2).options,l=e.XpG();e.Y8G("ngStyle",e.eq3(6,ps,o.itemSize+"px"))("ngClass",e.eq3(8,Vd,t===l.highlightOption))("id",l.highlightOption==t?"p-highlighted-option":""),e.R7$(1),e.Y8G("ngIf",!l.itemTemplate),e.R7$(1),e.Y8G("ngTemplateOutlet",l.itemTemplate)("ngTemplateOutletContext",e.l_i(10,Ud,t,o.getOptions?o.getOptions(i):i))}}function Hd(n,s){1&n&&e.DNE(0,Pd,3,13,"li",51),2&n&&e.Y8G("ngForOf",s.$implicit)}function Yd(n,s){if(1&n&&(e.qex(0),e.EFF(1),e.bVm()),2&n){const t=e.XpG(3);e.R7$(1),e.SpI(" ",t.emptyMessageLabel," ")}}function zd(n,s){1&n&&e.eu8(0,null,55)}function Xd(n,s){if(1&n&&(e.j41(0,"li",53),e.DNE(1,Yd,2,1,"ng-container",54),e.DNE(2,zd,2,0,"ng-container",8),e.k0s()),2&n){const t=e.XpG().options,i=e.XpG();e.Y8G("ngStyle",e.eq3(4,ps,t.itemSize+"px")),e.R7$(1),e.Y8G("ngIf",!i.emptyTemplate)("ngIfElse",i.empty),e.R7$(1),e.Y8G("ngTemplateOutlet",i.emptyTemplate)}}function Kd(n,s){if(1&n&&(e.j41(0,"ul",45,46),e.DNE(2,jd,2,1,"ng-container",3),e.DNE(3,Bd,2,4,"ng-container",3),e.DNE(4,Hd,1,1,"ng-template",null,47,e.C5r),e.DNE(6,Xd,3,6,"li",48),e.k0s()),2&n){const t=s.options,i=e.XpG();e.Aen(t.contentStyle),e.Y8G("ngClass",t.contentStyleClass),e.BMQ("id",i.listId),e.R7$(2),e.Y8G("ngIf",i.group),e.R7$(1),e.Y8G("ngIf",!i.group),e.R7$(3),e.Y8G("ngIf",i.noResults&&i.showEmptyMessage)}}function Qd(n,s){1&n&&e.eu8(0)}const Zd=function(n,s){return{"p-autocomplete p-component":!0,"p-autocomplete-dd":n,"p-autocomplete-multiple":s}},Jd=function(){return["p-autocomplete-panel p-component"]},Wd={provide:N.kq,useExisting:(0,e.Rfq)(()=>ep),multi:!0};let ep=(()=>{class n{document;el;renderer;cd;differs;config;overlayService;zone;minLength=1;delay=300;style;panelStyle;styleClass;panelStyleClass;inputStyle;inputId;inputStyleClass;placeholder;readonly;disabled;scrollHeight="200px";lazy=!1;virtualScroll;virtualScrollItemSize;virtualScrollOptions;maxlength;name;required;size;appendTo;autoHighlight;forceSelection;type="text";autoZIndex=!0;baseZIndex=0;ariaLabel;dropdownAriaLabel;ariaLabelledBy;dropdownIcon;unique=!0;group;completeOnFocus=!1;showClear=!1;field;dropdown;showEmptyMessage;dropdownMode="blank";multiple;tabindex;dataKey;emptyMessage;showTransitionOptions=".12s cubic-bezier(0, 0, 0.2, 1)";hideTransitionOptions=".1s linear";autofocus;autocomplete="off";optionGroupChildren;optionGroupLabel;overlayOptions;get suggestions(){return this._suggestions}set suggestions(t){this._suggestions=t,this.handleSuggestionsChange()}get itemSize(){return this._itemSize}set itemSize(t){this._itemSize=t,console.warn("The itemSize property is deprecated, use virtualScrollItemSize property instead.")}completeMethod=new e.bkB;onSelect=new e.bkB;onUnselect=new e.bkB;onFocus=new e.bkB;onBlur=new e.bkB;onDropdownClick=new e.bkB;onClear=new e.bkB;onKeyUp=new e.bkB;onShow=new e.bkB;onHide=new e.bkB;onLazyLoad=new e.bkB;containerEL;inputEL;multiInputEl;multiContainerEL;dropdownButton;itemsViewChild;scroller;overlayViewChild;templates;_itemSize;itemsWrapper;itemTemplate;emptyTemplate;headerTemplate;footerTemplate;selectedItemTemplate;groupTemplate;loaderTemplate;removeIconTemplate;loadingIconTemplate;clearIconTemplate;dropdownIconTemplate;value;_suggestions;onModelChange=()=>{};onModelTouched=()=>{};timeout;overlayVisible=!1;suggestionsUpdated;highlightOption;highlightOptionChanged;focus=!1;filled;inputClick;inputKeyDown;noResults;differ;inputFieldValue=null;loading;scrollHandler;documentResizeListener;forceSelectionUpdateModelTimeout;listId;itemClicked;inputValue=null;constructor(t,i,o,l,r,c,d,h){this.document=t,this.el=i,this.renderer=o,this.cd=l,this.differs=r,this.config=c,this.overlayService=d,this.zone=h,this.differ=r.find([]).create(void 0),this.listId=(0,V._Y)()+"_list"}ngAfterViewChecked(){this.suggestionsUpdated&&this.overlayViewChild&&this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.overlayViewChild&&this.overlayViewChild.alignOverlay()},1),this.suggestionsUpdated=!1}),this.highlightOptionChanged&&this.zone.runOutsideAngular(()=>{setTimeout(()=>{if(this.overlayViewChild&&this.itemsWrapper){let t=C.D.findSingle(this.overlayViewChild.overlayViewChild.nativeElement,"li.p-highlight");t&&C.D.scrollInView(this.itemsWrapper,t)}},1),this.highlightOptionChanged=!1})}handleSuggestionsChange(){null!=this._suggestions&&this.loading&&(this.highlightOption=null,this._suggestions.length?(this.noResults=!1,this.show(),this.suggestionsUpdated=!0,this.autoHighlight&&(this.highlightOption=this._suggestions[0])):(this.noResults=!0,this.showEmptyMessage?(this.show(),this.suggestionsUpdated=!0):this.hide()),this.loading=!1)}ngAfterContentInit(){this.templates.forEach(t=>{switch(t.getType()){case"item":default:this.itemTemplate=t.template;break;case"group":this.groupTemplate=t.template;break;case"selectedItem":this.selectedItemTemplate=t.template;break;case"header":this.headerTemplate=t.template;break;case"empty":this.emptyTemplate=t.template;break;case"footer":this.footerTemplate=t.template;break;case"loader":this.loaderTemplate=t.template;break;case"removetokenicon":this.removeIconTemplate=t.template;break;case"loadingicon":this.loadingIconTemplate=t.template;break;case"clearicon":this.clearIconTemplate=t.template;break;case"dropdownicon":this.dropdownIconTemplate=t.template}})}writeValue(t){this.value=t,this.filled=!(!this.value||!this.value.length),this.updateInputField(),this.cd.markForCheck()}getOptionGroupChildren(t){return this.optionGroupChildren?V.BF.resolveFieldData(t,this.optionGroupChildren):t.items}getOptionGroupLabel(t){return this.optionGroupLabel?V.BF.resolveFieldData(t,this.optionGroupLabel):null!=t.label?t.label:t}registerOnChange(t){this.onModelChange=t}registerOnTouched(t){this.onModelTouched=t}setDisabledState(t){this.disabled=t,this.cd.markForCheck()}onInput(t){if(!this.inputKeyDown&&C.D.isIE())return;this.timeout&&clearTimeout(this.timeout);let i=t.target.value;this.inputValue=i,!this.multiple&&!this.forceSelection&&this.onModelChange(i),0===i.length&&!this.multiple&&(this.value=null,this.hide(),this.onClear.emit(t),this.onModelChange(i)),i.length>=this.minLength?this.timeout=setTimeout(()=>{this.search(t,i)},this.delay):this.hide(),this.updateFilledState(),this.inputKeyDown=!1}onInputClick(t){this.inputClick=!0}search(t,i){null!=i&&(this.loading=!0,this.completeMethod.emit({originalEvent:t,query:i}))}selectItem(t,i=!0){this.forceSelectionUpdateModelTimeout&&(clearTimeout(this.forceSelectionUpdateModelTimeout),this.forceSelectionUpdateModelTimeout=null),this.multiple?(this.multiInputEl.nativeElement.value="",this.value=this.value||[],(!this.isSelected(t)||!this.unique)&&(this.value=[...this.value,t],this.onModelChange(this.value))):(this.inputEL.nativeElement.value=this.resolveFieldData(t),this.value=t,this.onModelChange(this.value)),this.onSelect.emit(t),this.updateFilledState(),i&&(this.itemClicked=!0,this.focusInput()),this.hide()}show(t){(this.multiInputEl||this.inputEL)&&!this.overlayVisible&&(this.multiple?this.multiInputEl?.nativeElement.ownerDocument.activeElement==this.multiInputEl?.nativeElement:this.inputEL?.nativeElement.ownerDocument.activeElement==this.inputEL?.nativeElement)&&(this.overlayVisible=!0),this.onShow.emit(t),this.cd.markForCheck()}clear(){this.value=null,this.inputValue=null,this.multiple?this.multiInputEl.nativeElement.value="":(this.inputValue=null,this.inputEL.nativeElement.value=""),this.updateFilledState(),this.onModelChange(this.value),this.onClear.emit()}onOverlayAnimationStart(t){"visible"===t.toState&&(this.itemsWrapper=C.D.findSingle(this.overlayViewChild.overlayViewChild?.nativeElement,this.virtualScroll?".p-scroller":".p-autocomplete-panel"),this.virtualScroll&&this.scroller?.setContentEl(this.itemsViewChild?.nativeElement))}resolveFieldData(t){let i=this.field?V.BF.resolveFieldData(t,this.field):t;return void 0!==i?i:""}hide(t){this.overlayVisible=!1,this.onHide.emit(t),this.cd.markForCheck()}handleDropdownClick(t){if(this.overlayVisible)this.hide();else{this.focusInput();let i=this.multiple?this.multiInputEl.nativeElement.value:this.inputEL.nativeElement.value;"blank"===this.dropdownMode?this.search(t,""):"current"===this.dropdownMode&&this.search(t,i),this.onDropdownClick.emit({originalEvent:t,query:i})}}focusInput(){this.multiple?this.multiInputEl.nativeElement.focus():this.inputEL?.nativeElement.focus()}get emptyMessageLabel(){return this.emptyMessage||this.config.getTranslation(b.Yj.EMPTY_MESSAGE)}removeItem(t){let i=C.D.index(t),o=this.value[i];this.value=this.value.filter((l,r)=>r!=i),this.onModelChange(this.value),this.updateFilledState(),this.onUnselect.emit(o)}onKeydown(t){if(this.overlayVisible)switch(t.which){case 40:if(this.group){let o=this.findOptionGroupIndex(this.highlightOption,this.suggestions);if(-1!==o){let l=o.itemIndex+1;l<this.getOptionGroupChildren(this.suggestions[o.groupIndex]).length?(this.highlightOption=this.getOptionGroupChildren(this.suggestions[o.groupIndex])[l],this.highlightOptionChanged=!0):this.suggestions[o.groupIndex+1]&&(this.highlightOption=this.getOptionGroupChildren(this.suggestions[o.groupIndex+1])[0],this.highlightOptionChanged=!0)}else this.highlightOption=this.getOptionGroupChildren(this.suggestions[0])[0]}else{let o=this.findOptionIndex(this.highlightOption,this.suggestions);if(-1!=o){var i=o+1;i!=this.suggestions.length&&(this.highlightOption=this.suggestions[i],this.highlightOptionChanged=!0)}else this.highlightOption=this.suggestions[0]}t.preventDefault();break;case 38:if(this.group){let o=this.findOptionGroupIndex(this.highlightOption,this.suggestions);if(-1!==o){let l=o.itemIndex-1;if(l>=0)this.highlightOption=this.getOptionGroupChildren(this.suggestions[o.groupIndex])[l],this.highlightOptionChanged=!0;else if(l<0){let r=this.suggestions[o.groupIndex-1];r&&(this.highlightOption=this.getOptionGroupChildren(r)[this.getOptionGroupChildren(r).length-1],this.highlightOptionChanged=!0)}}}else{let o=this.findOptionIndex(this.highlightOption,this.suggestions);o>0&&(this.highlightOption=this.suggestions[o-1],this.highlightOptionChanged=!0)}t.preventDefault();break;case 13:this.highlightOption&&(this.selectItem(this.highlightOption),this.hide()),t.preventDefault();break;case 27:this.hide(),t.preventDefault();break;case 9:this.highlightOption&&this.selectItem(this.highlightOption),this.hide()}else 40===t.which&&this.suggestions?this.search(t,t.target.value):t.ctrlKey&&"z"===t.key&&!this.multiple?(this.inputEL.nativeElement.value=this.resolveFieldData(null),this.value="",this.onModelChange(this.value)):t.ctrlKey&&"z"===t.key&&this.multiple&&(this.value.pop(),this.onModelChange(this.value),this.updateFilledState());if(this.multiple&&8===t.which&&this.value&&this.value.length&&!this.multiInputEl?.nativeElement.value){this.value=[...this.value];const o=this.value.pop();this.onModelChange(this.value),this.updateFilledState(),this.onUnselect.emit(o)}this.inputKeyDown=!0}onKeyup(t){this.onKeyUp.emit(t)}onInputFocus(t){!this.itemClicked&&this.completeOnFocus&&this.search(t,this.multiple?this.multiInputEl?.nativeElement.value:this.inputEL?.nativeElement.value),this.focus=!0,this.onFocus.emit(t),this.itemClicked=!1}onInputBlur(t){this.focus=!1,this.onModelTouched(),this.onBlur.emit(t)}onInputChange(t){if(this.forceSelection){let i=!1,l=t.target.value.trim();if(this.suggestions)for(let r of this.suggestions){let c=this.field?V.BF.resolveFieldData(r,this.field):r;if(c&&l===c.trim()){i=!0,this.forceSelectionUpdateModelTimeout=setTimeout(()=>{this.selectItem(r,!1)},250);break}}i||(this.multiple?this.multiInputEl.nativeElement.value="":(this.value=null,this.inputEL.nativeElement.value=""),this.onClear.emit(t),this.onModelChange(this.value),this.updateFilledState())}}onInputPaste(t){this.onKeydown(t)}isSelected(t){let i=!1;if(this.value&&this.value.length)for(let o=0;o<this.value.length;o++)if(V.BF.equals(this.value[o],t,this.dataKey)){i=!0;break}return i}findOptionIndex(t,i){let o=-1;if(i)for(let l=0;l<i.length;l++)if(V.BF.equals(t,i[l])){o=l;break}return o}findOptionGroupIndex(t,i){let o,l;if(i)for(let r=0;r<i.length&&(o=r,l=this.findOptionIndex(t,this.getOptionGroupChildren(i[r])),-1===l);r++);return-1!==l?{groupIndex:o,itemIndex:l}:-1}updateFilledState(){this.filled=this.multiple?this.value&&this.value.length||this.multiInputEl&&this.multiInputEl.nativeElement&&""!=this.multiInputEl.nativeElement.value:this.inputFieldValue&&""!=this.inputFieldValue||this.inputEL&&this.inputEL.nativeElement&&""!=this.inputEL.nativeElement.value}updateInputField(){let t=this.resolveFieldData(this.value);this.inputFieldValue=t,this.inputEL&&this.inputEL.nativeElement&&(this.inputEL.nativeElement.value=t),this.updateFilledState()}ngOnDestroy(){this.forceSelectionUpdateModelTimeout&&(clearTimeout(this.forceSelectionUpdateModelTimeout),this.forceSelectionUpdateModelTimeout=null),this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null)}static \u0275fac=function(i){return new(i||n)(e.rXU(O.qQ),e.rXU(e.aKT),e.rXU(e.sFG),e.rXU(e.gRc),e.rXU(e._q3),e.rXU(b.r1),e.rXU(b.si),e.rXU(e.SKi))};static \u0275cmp=e.VBU({type:n,selectors:[["p-autoComplete"]],contentQueries:function(i,o,l){if(1&i&&e.wni(l,b.Ei,4),2&i){let r;e.mGM(r=e.lsd())&&(o.templates=r)}},viewQuery:function(i,o){if(1&i&&(e.GBs($u,5),e.GBs(Vu,5),e.GBs(Uu,5),e.GBs(Pu,5),e.GBs(Hu,5),e.GBs(Yu,5),e.GBs(zu,5),e.GBs(Xu,5)),2&i){let l;e.mGM(l=e.lsd())&&(o.containerEL=l.first),e.mGM(l=e.lsd())&&(o.inputEL=l.first),e.mGM(l=e.lsd())&&(o.multiInputEl=l.first),e.mGM(l=e.lsd())&&(o.multiContainerEL=l.first),e.mGM(l=e.lsd())&&(o.dropdownButton=l.first),e.mGM(l=e.lsd())&&(o.itemsViewChild=l.first),e.mGM(l=e.lsd())&&(o.scroller=l.first),e.mGM(l=e.lsd())&&(o.overlayViewChild=l.first)}},hostAttrs:[1,"p-element","p-inputwrapper"],hostVars:6,hostBindings:function(i,o){2&i&&e.AVh("p-inputwrapper-filled",o.filled)("p-inputwrapper-focus",o.focus&&!o.disabled||o.autofocus||o.overlayVisible)("p-autocomplete-clearable",o.showClear&&!o.disabled)},inputs:{minLength:"minLength",delay:"delay",style:"style",panelStyle:"panelStyle",styleClass:"styleClass",panelStyleClass:"panelStyleClass",inputStyle:"inputStyle",inputId:"inputId",inputStyleClass:"inputStyleClass",placeholder:"placeholder",readonly:"readonly",disabled:"disabled",scrollHeight:"scrollHeight",lazy:"lazy",virtualScroll:"virtualScroll",virtualScrollItemSize:"virtualScrollItemSize",virtualScrollOptions:"virtualScrollOptions",maxlength:"maxlength",name:"name",required:"required",size:"size",appendTo:"appendTo",autoHighlight:"autoHighlight",forceSelection:"forceSelection",type:"type",autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",ariaLabel:"ariaLabel",dropdownAriaLabel:"dropdownAriaLabel",ariaLabelledBy:"ariaLabelledBy",dropdownIcon:"dropdownIcon",unique:"unique",group:"group",completeOnFocus:"completeOnFocus",showClear:"showClear",field:"field",dropdown:"dropdown",showEmptyMessage:"showEmptyMessage",dropdownMode:"dropdownMode",multiple:"multiple",tabindex:"tabindex",dataKey:"dataKey",emptyMessage:"emptyMessage",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions",autofocus:"autofocus",autocomplete:"autocomplete",optionGroupChildren:"optionGroupChildren",optionGroupLabel:"optionGroupLabel",overlayOptions:"overlayOptions",suggestions:"suggestions",itemSize:"itemSize"},outputs:{completeMethod:"completeMethod",onSelect:"onSelect",onUnselect:"onUnselect",onFocus:"onFocus",onBlur:"onBlur",onDropdownClick:"onDropdownClick",onClear:"onClear",onKeyUp:"onKeyUp",onShow:"onShow",onHide:"onHide",onLazyLoad:"onLazyLoad"},features:[e.Jv_([Wd])],decls:16,vars:29,consts:[[3,"ngClass","ngStyle"],["container",""],["pAutoFocus","","class","p-autocomplete-input p-inputtext p-component","aria-autocomplete","list","role","searchbox",3,"autofocus","ngStyle","class","autocomplete","ngClass","value","readonly","disabled","click","input","keydown","keyup","focus","blur","change","paste",4,"ngIf"],[4,"ngIf"],["class","p-autocomplete-multiple-container p-component p-inputtext",3,"ngClass","click",4,"ngIf"],["type","button","pButton","","class","p-autocomplete-dropdown p-button-icon-only","pRipple","",3,"disabled","click",4,"ngIf"],[3,"visible","options","target","appendTo","showTransitionOptions","hideTransitionOptions","visibleChange","onAnimationStart","onShow","onHide"],["overlay",""],[4,"ngTemplateOutlet"],[3,"items","style","itemSize","autoSize","lazy","options","onLazyLoad",4,"ngIf"],["buildInItems",""],["pAutoFocus","","aria-autocomplete","list","role","searchbox",1,"p-autocomplete-input","p-inputtext","p-component",3,"autofocus","ngStyle","autocomplete","ngClass","value","readonly","disabled","click","input","keydown","keyup","focus","blur","change","paste"],["in",""],[3,"styleClass","click",4,"ngIf"],["class","p-autocomplete-clear-icon",3,"click",4,"ngIf"],[3,"styleClass","click"],[1,"p-autocomplete-clear-icon",3,"click"],[1,"p-autocomplete-multiple-container","p-component","p-inputtext",3,"ngClass","click"],["multiContainer",""],["class","p-autocomplete-token",4,"ngFor","ngForOf"],[1,"p-autocomplete-input-token"],["pAutoFocus","","aria-autocomplete","list","role","searchbox","aria-haspopup","true",3,"autofocus","disabled","readonly","autocomplete","ngStyle","input","click","keydown","keyup","focus","blur","change","paste"],["multiIn",""],[1,"p-autocomplete-token"],["token",""],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["class","p-autocomplete-token-label",4,"ngIf"],[1,"p-autocomplete-token-icon",3,"click"],[3,"styleClass",4,"ngIf"],["class","p-autocomplete-token-icon",4,"ngIf"],[1,"p-autocomplete-token-label"],[3,"styleClass"],[1,"p-autocomplete-token-icon"],[3,"styleClass","spin",4,"ngIf"],["class","p-autocomplete-loader pi-spin ",4,"ngIf"],[3,"styleClass","spin"],[1,"p-autocomplete-loader","pi-spin"],["type","button","pButton","","pRipple","",1,"p-autocomplete-dropdown","p-button-icon-only",3,"disabled","click"],["ddBtn",""],[3,"ngClass",4,"ngIf"],[3,"ngClass"],[3,"items","itemSize","autoSize","lazy","options","onLazyLoad"],["scroller",""],["pTemplate","content"],["pTemplate","loader"],["role","listbox",1,"p-autocomplete-items",3,"ngClass"],["items",""],["itemslist",""],["class","p-autocomplete-empty-message",3,"ngStyle",4,"ngIf"],["ngFor","",3,"ngForOf"],[1,"p-autocomplete-item-group",3,"ngStyle"],["role","option","class","p-autocomplete-item","pRipple","",3,"ngStyle","ngClass","id","click",4,"ngFor","ngForOf"],["role","option","pRipple","",1,"p-autocomplete-item",3,"ngStyle","ngClass","id","click"],[1,"p-autocomplete-empty-message",3,"ngStyle"],[4,"ngIf","ngIfElse"],["empty",""]],template:function(i,o){1&i&&(e.j41(0,"span",0,1),e.DNE(2,Qu,2,23,"input",2),e.DNE(3,td,3,2,"ng-container",3),e.DNE(4,ud,6,23,"ul",4),e.DNE(5,md,3,2,"ng-container",3),e.DNE(6,Td,4,5,"button",5),e.j41(7,"p-overlay",6,7),e.bIt("visibleChange",function(r){return o.overlayVisible=r})("onAnimationStart",function(r){return o.onOverlayAnimationStart(r)})("onShow",function(r){return o.show(r)})("onHide",function(r){return o.hide(r)}),e.j41(9,"div",0),e.DNE(10,Cd,1,0,"ng-container",8),e.DNE(11,Nd,4,10,"p-scroller",9),e.DNE(12,Rd,2,6,"ng-container",3),e.DNE(13,Kd,7,7,"ng-template",null,10,e.C5r),e.DNE(15,Qd,1,0,"ng-container",8),e.k0s()()()),2&i&&(e.HbH(o.styleClass),e.Y8G("ngClass",e.l_i(25,Zd,o.dropdown,o.multiple))("ngStyle",o.style),e.R7$(2),e.Y8G("ngIf",!o.multiple),e.R7$(1),e.Y8G("ngIf",o.filled&&!o.disabled&&o.showClear),e.R7$(1),e.Y8G("ngIf",o.multiple),e.R7$(1),e.Y8G("ngIf",o.loading),e.R7$(1),e.Y8G("ngIf",o.dropdown),e.R7$(1),e.Y8G("visible",o.overlayVisible)("options",o.virtualScrollOptions)("target","@parent")("appendTo",o.appendTo)("showTransitionOptions",o.showTransitionOptions)("hideTransitionOptions",o.hideTransitionOptions),e.R7$(2),e.HbH(o.panelStyleClass),e.xc7("max-height",o.virtualScroll?"auto":o.scrollHeight),e.Y8G("ngClass",e.lJ4(28,Jd))("ngStyle",o.panelStyle),e.R7$(1),e.Y8G("ngTemplateOutlet",o.headerTemplate),e.R7$(1),e.Y8G("ngIf",o.virtualScroll),e.R7$(1),e.Y8G("ngIf",!o.virtualScroll),e.R7$(3),e.Y8G("ngTemplateOutlet",o.footerTemplate))},dependencies:function(){return[O.YU,O.Sq,O.bT,O.T3,O.B3,Ae.hJ,b.Ei,Z._f,F.n,Ze.H,Us.q,Ht.I,Zo.N,L.A,lt.D]},styles:[".p-autocomplete{display:inline-flex;position:relative}.p-autocomplete-loader{position:absolute;top:50%;margin-top:-.5rem}.p-autocomplete-dd .p-autocomplete-input{flex:1 1 auto;width:1%}.p-autocomplete-dd .p-autocomplete-input,.p-autocomplete-dd .p-autocomplete-multiple-container{border-top-right-radius:0;border-bottom-right-radius:0}.p-autocomplete-dd .p-autocomplete-dropdown{border-top-left-radius:0;border-bottom-left-radius:0}.p-autocomplete-panel{overflow:auto}.p-autocomplete-items{margin:0;padding:0;list-style-type:none}.p-autocomplete-item{cursor:pointer;white-space:nowrap;position:relative;overflow:hidden}.p-autocomplete-multiple-container{margin:0;padding:0;list-style-type:none;cursor:text;overflow:hidden;display:flex;align-items:center;flex-wrap:wrap}.p-autocomplete-token{cursor:default;display:inline-flex;align-items:center;flex:0 0 auto}.p-autocomplete-token-icon{cursor:pointer}.p-autocomplete-input-token{flex:1 1 auto;display:inline-flex}.p-autocomplete-input-token input{border:0 none;outline:0 none;background-color:transparent;margin:0;padding:0;box-shadow:none;border-radius:0;width:100%}.p-fluid .p-autocomplete{display:flex}.p-fluid .p-autocomplete-dd .p-autocomplete-input{width:1%}.p-autocomplete-clear-icon{position:absolute;top:50%;margin-top:-.5rem;cursor:pointer}.p-autocomplete-clearable{position:relative}\n"],encapsulation:2,data:{animation:[(0,m.hZ)("overlayAnimation",[(0,m.kY)(":enter",[(0,m.iF)({opacity:0,transform:"scaleY(0.8)"}),(0,m.i0)("{{showTransitionParams}}")]),(0,m.kY)(":leave",[(0,m.i0)("{{hideTransitionParams}}",(0,m.iF)({opacity:0}))])])]},changeDetection:0})}return n})(),Wo=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=e.$C({type:n});static \u0275inj=e.G2t({imports:[O.MD,Ae.z_,ke.u,Z.tm,b.Gg,F.Z,Ze.h,Us.u,Ht.I,Zo.N,L.A,lt.D,Ae.z_,b.Gg,Ze.h,Us.u]})}return n})();(0,m.lY)([(0,m.iF)({transform:"{{transform}}",opacity:0}),(0,m.i0)("{{transition}}",(0,m.iF)({transform:"none",opacity:1}))]),(0,m.lY)([(0,m.i0)("{{transition}}",(0,m.iF)({transform:"{{transform}}",opacity:0}))]);let el=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=e.$C({type:n});static \u0275inj=e.G2t({imports:[O.MD,Z.tm,F.Z,L.A,kt.S,Z.tm,b.Gg]})}return n})(),tl=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=e.$C({type:n});static \u0275inj=e.G2t({imports:[O.MD,Z.tm,b.Gg,b.Gg]})}return n})();var qp=w(1802),$p=w(8148),Vp=w(8807);let nl=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=e.$C({type:n});static \u0275inj=e.G2t({imports:[O.MD,b.Gg,gt.S,F.Z,L.A,$p.Y,Vp.v,b.Gg]})}return n})();var fh=w(3973),mh=w(8746);const Hi=function bh(n,s){return n===s||n!=n&&s!=s},hs=function vh(n,s){for(var t=n.length;t--;)if(Hi(n[t][0],s))return t;return-1};var Th=Array.prototype.splice;function ei(n){var s=-1,t=null==n?0:n.length;for(this.clear();++s<t;){var i=n[s];this.set(i[0],i[1])}}ei.prototype.clear=function gh(){this.__data__=[],this.size=0},ei.prototype.delete=function Ch(n){var s=this.__data__,t=hs(s,n);return!(t<0||(t==s.length-1?s.pop():Th.call(s,t,1),--this.size,0))},ei.prototype.get=function xh(n){var s=this.__data__,t=hs(s,n);return t<0?void 0:s[t][1]},ei.prototype.has=function Eh(n){return hs(this.__data__,n)>-1},ei.prototype.set=function kh(n,s){var t=this.__data__,i=hs(t,n);return i<0?(++this.size,t.push([n,s])):t[i][1]=s,this};const fs=ei,il="object"==typeof global&&global&&global.Object===Object&&global;var Bh="object"==typeof self&&self&&self.Object===Object&&self;const bt=il||Bh||Function("return this")(),Jt=bt.Symbol;var sl=Object.prototype,Vh=sl.hasOwnProperty,Uh=sl.toString,Yi=Jt?Jt.toStringTag:void 0;var zh=Object.prototype.toString;var ol=Jt?Jt.toStringTag:void 0;const ti=function Jh(n){return null==n?void 0===n?"[object Undefined]":"[object Null]":ol&&ol in Object(n)?function Ph(n){var s=Vh.call(n,Yi),t=n[Yi];try{n[Yi]=void 0;var i=!0}catch{}var o=Uh.call(n);return i&&(s?n[Yi]=t:delete n[Yi]),o}(n):function Xh(n){return zh.call(n)}(n)},Wt=function Wh(n){var s=typeof n;return null!=n&&("object"==s||"function"==s)},Ps=function of(n){if(!Wt(n))return!1;var s=ti(n);return"[object Function]"==s||"[object GeneratorFunction]"==s||"[object AsyncFunction]"==s||"[object Proxy]"==s};var n,lf=bt["__core-js_shared__"],ll=(n=/[^.]+$/.exec(lf&&lf.keys&&lf.keys.IE_PROTO||""))?"Symbol(src)_1."+n:"";var uf=Function.prototype.toString;const Tn=function df(n){if(null!=n){try{return uf.call(n)}catch{}try{return n+""}catch{}}return""};var hf=/^\[object .+?Constructor\]$/,bf=RegExp("^"+Function.prototype.toString.call(Object.prototype.hasOwnProperty).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");const yf=function vf(n){return!(!Wt(n)||function rf(n){return!!ll&&ll in n}(n))&&(Ps(n)?bf:hf).test(Tn(n))},Cn=function If(n,s){var t=function Tf(n,s){return n?.[s]}(n,s);return yf(t)?t:void 0},zi=Cn(bt,"Map"),Xi=Cn(Object,"create");var Rf=Object.prototype.hasOwnProperty;var Mf=Object.prototype.hasOwnProperty;function ni(n){var s=-1,t=null==n?0:n.length;for(this.clear();++s<t;){var i=n[s];this.set(i[0],i[1])}}ni.prototype.clear=function Ef(){this.__data__=Xi?Xi(null):{},this.size=0},ni.prototype.delete=function kf(n){var s=this.has(n)&&delete this.__data__[n];return this.size-=s?1:0,s},ni.prototype.get=function Of(n){var s=this.__data__;if(Xi){var t=s[n];return"__lodash_hash_undefined__"===t?void 0:t}return Rf.call(s,n)?s[n]:void 0},ni.prototype.has=function jf(n){var s=this.__data__;return Xi?void 0!==s[n]:Mf.call(s,n)},ni.prototype.set=function qf(n,s){var t=this.__data__;return this.size+=this.has(n)?0:1,t[n]=Xi&&void 0===s?"__lodash_hash_undefined__":s,this};const rl=ni,ms=function Yf(n,s){var t=n.__data__;return function Pf(n){var s=typeof n;return"string"==s||"number"==s||"symbol"==s||"boolean"==s?"__proto__"!==n:null===n}(s)?t["string"==typeof s?"string":"hash"]:t.map};function ii(n){var s=-1,t=null==n?0:n.length;for(this.clear();++s<t;){var i=n[s];this.set(i[0],i[1])}}ii.prototype.clear=function Vf(){this.size=0,this.__data__={hash:new rl,map:new(zi||fs),string:new rl}},ii.prototype.delete=function zf(n){var s=ms(this,n).delete(n);return this.size-=s?1:0,s},ii.prototype.get=function Kf(n){return ms(this,n).get(n)},ii.prototype.has=function Zf(n){return ms(this,n).has(n)},ii.prototype.set=function Wf(n,s){var t=ms(this,n),i=t.size;return t.set(n,s),this.size+=t.size==i?0:1,this};const al=ii;function si(n){var s=this.__data__=new fs(n);this.size=s.size}si.prototype.clear=function Lh(){this.__data__=new fs,this.size=0},si.prototype.delete=function Rh(n){var s=this.__data__,t=s.delete(n);return this.size=s.size,t},si.prototype.get=function Dh(n){return this.__data__.get(n)},si.prototype.has=function Mh(n){return this.__data__.has(n)},si.prototype.set=function nm(n,s){var t=this.__data__;if(t instanceof fs){var i=t.__data__;if(!zi||i.length<199)return i.push([n,s]),this.size=++t.size,this;t=this.__data__=new al(i)}return t.set(n,s),this.size=t.size,this};const Ki=si;var sm=function(){try{var n=Cn(Object,"defineProperty");return n({},"",{}),n}catch{}}();const gs=sm,Ys=function om(n,s,t){"__proto__"==s&&gs?gs(n,s,{configurable:!0,enumerable:!0,value:t,writable:!0}):n[s]=t},zs=function lm(n,s,t){(void 0!==t&&!Hi(n[s],t)||void 0===t&&!(s in n))&&Ys(n,s,t)};var am=function rm(n){return function(s,t,i){for(var o=-1,l=Object(s),r=i(s),c=r.length;c--;){var d=r[n?c:++o];if(!1===t(l[d],d,l))break}return s}}();const cm=am;var cl="object"==typeof exports&&exports&&!exports.nodeType&&exports,ul=cl&&"object"==typeof module&&module&&!module.nodeType&&module,dl=ul&&ul.exports===cl?bt.Buffer:void 0,pl=dl?dl.allocUnsafe:void 0;const hl=function dm(n,s){if(s)return n.slice();var t=n.length,i=pl?pl(t):new n.constructor(t);return n.copy(i),i},_s=bt.Uint8Array,Xs=function hm(n){var s=new n.constructor(n.byteLength);return new _s(s).set(new _s(n)),s},fl=function fm(n,s){var t=s?Xs(n.buffer):n.buffer;return new n.constructor(t,n.byteOffset,n.length)},ml=function mm(n,s){var t=-1,i=n.length;for(s||(s=Array(i));++t<i;)s[t]=n[t];return s};var gl=Object.create,gm=function(){function n(){}return function(s){if(!Wt(s))return{};if(gl)return gl(s);n.prototype=s;var t=new n;return n.prototype=void 0,t}}();const _m=gm,_l=function bm(n,s){return function(t){return n(s(t))}},Ks=_l(Object.getPrototypeOf,Object);var ym=Object.prototype;const Qs=function Tm(n){var s=n&&n.constructor;return n===("function"==typeof s&&s.prototype||ym)},bl=function Cm(n){return"function"!=typeof n.constructor||Qs(n)?{}:_m(Ks(n))},Ot=function Im(n){return null!=n&&"object"==typeof n},vl=function wm(n){return Ot(n)&&"[object Arguments]"==ti(n)};var yl=Object.prototype,Em=yl.hasOwnProperty,Sm=yl.propertyIsEnumerable,km=vl(function(){return arguments}())?vl:function(n){return Ot(n)&&Em.call(n,"callee")&&!Sm.call(n,"callee")};const Zs=km,In=Array.isArray,Tl=function Am(n){return"number"==typeof n&&n>-1&&n%1==0&&n<=9007199254740991},bs=function Rm(n){return null!=n&&Tl(n.length)&&!Ps(n)};var Cl="object"==typeof exports&&exports&&!exports.nodeType&&exports,Il=Cl&&"object"==typeof module&&module&&!module.nodeType&&module,xl=Il&&Il.exports===Cl?bt.Buffer:void 0;const Qi=(xl?xl.isBuffer:void 0)||function Fm(){return!1};var wl=Function.prototype.toString,Um=Object.prototype.hasOwnProperty,Pm=wl.call(Object);var xe={};xe["[object Float32Array]"]=xe["[object Float64Array]"]=xe["[object Int8Array]"]=xe["[object Int16Array]"]=xe["[object Int32Array]"]=xe["[object Uint8Array]"]=xe["[object Uint8ClampedArray]"]=xe["[object Uint16Array]"]=xe["[object Uint32Array]"]=!0,xe["[object Arguments]"]=xe["[object Array]"]=xe["[object ArrayBuffer]"]=xe["[object Boolean]"]=xe["[object DataView]"]=xe["[object Date]"]=xe["[object Error]"]=xe["[object Function]"]=xe["[object Map]"]=xe["[object Number]"]=xe["[object Object]"]=xe["[object RegExp]"]=xe["[object Set]"]=xe["[object String]"]=xe["[object WeakMap]"]=!1;const Js=function vg(n){return function(s){return n(s)}};var El="object"==typeof exports&&exports&&!exports.nodeType&&exports,Zi=El&&"object"==typeof module&&module&&!module.nodeType&&module,Ws=Zi&&Zi.exports===El&&il.process;const oi=function(){try{return Zi&&Zi.require&&Zi.require("util").types||Ws&&Ws.binding&&Ws.binding("util")}catch{}}();var Sl=oi&&oi.isTypedArray;const eo=Sl?Js(Sl):function _g(n){return Ot(n)&&Tl(n.length)&&!!xe[ti(n)]},to=function Ig(n,s){if(("constructor"!==s||"function"!=typeof n[s])&&"__proto__"!=s)return n[s]};var wg=Object.prototype.hasOwnProperty;const kl=function Eg(n,s,t){var i=n[s];(!wg.call(n,s)||!Hi(i,t)||void 0===t&&!(s in n))&&Ys(n,s,t)},Ji=function Sg(n,s,t,i){var o=!t;t||(t={});for(var l=-1,r=s.length;++l<r;){var c=s[l],d=i?i(t[c],n[c],c,t,n):void 0;void 0===d&&(d=n[c]),o?Ys(t,c,d):kl(t,c,d)}return t};var Ag=/^(?:0|[1-9]\d*)$/;const Nl=function Rg(n,s){var t=typeof n;return!!(s=s??9007199254740991)&&("number"==t||"symbol"!=t&&Ag.test(n))&&n>-1&&n%1==0&&n<s};var Dg=Object.prototype.hasOwnProperty;const Ll=function Fg(n,s){var t=In(n),i=!t&&Zs(n),o=!t&&!i&&Qi(n),l=!t&&!i&&!o&&eo(n),r=t||i||o||l,c=r?function kg(n,s){for(var t=-1,i=Array(n);++t<n;)i[t]=s(t);return i}(n.length,String):[],d=c.length;for(var h in n)(s||Dg.call(n,h))&&(!r||!("length"==h||o&&("offset"==h||"parent"==h)||l&&("buffer"==h||"byteLength"==h||"byteOffset"==h)||Nl(h,d)))&&c.push(h);return c};var Bg=Object.prototype.hasOwnProperty;const $g=function qg(n){if(!Wt(n))return function Mg(n){var s=[];if(null!=n)for(var t in Object(n))s.push(t);return s}(n);var s=Qs(n),t=[];for(var i in n)"constructor"==i&&(s||!Bg.call(n,i))||t.push(i);return t},Wi=function Vg(n){return bs(n)?Ll(n,!0):$g(n)},Yg=function Hg(n,s,t,i,o,l,r){var c=to(n,t),d=to(s,t),h=r.get(d);if(h)zs(n,t,h);else{var v=l?l(c,d,t+"",n,s,r):void 0,E=void 0===v;if(E){var A=In(d),Q=!A&&Qi(d),J=!A&&!Q&&eo(d);v=d,A||Q||J?In(c)?v=c:function Om(n){return Ot(n)&&bs(n)}(c)?v=ml(c):Q?(E=!1,v=hl(d,!0)):J?(E=!1,v=fl(d,!0)):v=[]:function Hm(n){if(!Ot(n)||"[object Object]"!=ti(n))return!1;var s=Ks(n);if(null===s)return!0;var t=Um.call(s,"constructor")&&s.constructor;return"function"==typeof t&&t instanceof t&&wl.call(t)==Pm}(d)||Zs(d)?(v=c,Zs(c)?v=function Ug(n){return Ji(n,Wi(n))}(c):(!Wt(c)||Ps(c))&&(v=bl(d))):E=!1}E&&(r.set(d,v),o(v,d,i,l,r),r.delete(d)),zs(n,t,v)}},zg=function Al(n,s,t,i,o){n!==s&&cm(s,function(l,r){if(o||(o=new Ki),Wt(l))Yg(n,s,r,t,Al,i,o);else{var c=i?i(to(n,r),l,r+"",n,s,o):void 0;void 0===c&&(c=l),zs(n,r,c)}},Wi)},Rl=function Xg(n){return n};var Ol=Math.max;const e_=function Wg(n){return function(){return n}};var t_=gs?function(n,s){return gs(n,"toString",{configurable:!0,enumerable:!1,value:e_(s),writable:!0})}:Rl,o_=Date.now,r_=function l_(n){var s=0,t=0;return function(){var i=o_(),o=16-(i-t);if(t=i,o>0){if(++s>=800)return arguments[0]}else s=0;return n.apply(void 0,arguments)}}(t_);const a_=r_,u_=function c_(n,s){return a_(function Zg(n,s,t){return s=Ol(void 0===s?n.length-1:s,0),function(){for(var i=arguments,o=-1,l=Ol(i.length-s,0),r=Array(l);++o<l;)r[o]=i[s+o];o=-1;for(var c=Array(s+1);++o<s;)c[o]=i[o];return c[s]=t(r),function Kg(n,s,t){switch(t.length){case 0:return n.call(s);case 1:return n.call(s,t[0]);case 2:return n.call(s,t[0],t[1]);case 3:return n.call(s,t[0],t[1],t[2])}return n.apply(s,t)}(n,this,c)}}(n,s,Rl),n+"")};var f_=function h_(n){return u_(function(s,t){var i=-1,o=t.length,l=o>1?t[o-1]:void 0,r=o>2?t[2]:void 0;for(l=n.length>3&&"function"==typeof l?(o--,l):void 0,r&&function d_(n,s,t){if(!Wt(t))return!1;var i=typeof s;return!!("number"==i?bs(t)&&Nl(s,t.length):"string"==i&&s in t)&&Hi(t[s],n)}(t[0],t[1],r)&&(l=o<3?void 0:l,o=1),s=Object(s);++i<o;){var c=t[i];c&&n(s,c,i,l)}return s})}(function(n,s,t){zg(n,s,t)});const en=f_;var P=(n=>(n[n.TYPE=3]="TYPE",n[n.LEVEL=12]="LEVEL",n[n.ATTRIBUTE=13]="ATTRIBUTE",n[n.BLOT=14]="BLOT",n[n.INLINE=7]="INLINE",n[n.BLOCK=11]="BLOCK",n[n.BLOCK_BLOT=10]="BLOCK_BLOT",n[n.INLINE_BLOT=6]="INLINE_BLOT",n[n.BLOCK_ATTRIBUTE=9]="BLOCK_ATTRIBUTE",n[n.INLINE_ATTRIBUTE=5]="INLINE_ATTRIBUTE",n[n.ANY=15]="ANY",n))(P||{});class vt{constructor(s,t,i={}){this.attrName=s,this.keyName=t,this.scope=null!=i.scope?i.scope&P.LEVEL|P.TYPE&P.ATTRIBUTE:P.ATTRIBUTE,null!=i.whitelist&&(this.whitelist=i.whitelist)}static keys(s){return Array.from(s.attributes).map(t=>t.name)}add(s,t){return!!this.canAdd(s,t)&&(s.setAttribute(this.keyName,t),!0)}canAdd(s,t){return null==this.whitelist||("string"==typeof t?this.whitelist.indexOf(t.replace(/["']/g,""))>-1:this.whitelist.indexOf(t)>-1)}remove(s){s.removeAttribute(this.keyName)}value(s){const t=s.getAttribute(this.keyName);return this.canAdd(s,t)&&t?t:""}}class li extends Error{constructor(s){super(s="[Parchment] "+s),this.message=s,this.name=this.constructor.name}}let ri=(()=>{let n=class Uo{constructor(){this.attributes={},this.classes={},this.tags={},this.types={}}static find(t,i=!1){if(null==t)return null;if(this.blots.has(t))return this.blots.get(t)||null;if(i){let o=null;try{o=t.parentNode}catch{return null}return this.find(o,i)}return null}create(t,i,o){const l=this.query(i);if(null==l)throw new li(`Unable to create ${i} blot`);const r=l,c=i instanceof Node||i.nodeType===Node.TEXT_NODE?i:r.create(o),d=new r(t,c,o);return Uo.blots.set(d.domNode,d),d}find(t,i=!1){return Uo.find(t,i)}query(t,i=P.ANY){let o;return"string"==typeof t?o=this.types[t]||this.attributes[t]:t instanceof Text||t.nodeType===Node.TEXT_NODE?o=this.types.text:"number"==typeof t?t&P.LEVEL&P.BLOCK?o=this.types.block:t&P.LEVEL&P.INLINE&&(o=this.types.inline):t instanceof Element&&((t.getAttribute("class")||"").split(/\s+/).some(l=>(o=this.classes[l],!!o)),o=o||this.tags[t.tagName]),null==o?null:"scope"in o&&i&P.LEVEL&o.scope&&i&P.TYPE&o.scope?o:null}register(...t){return t.map(i=>{const o="blotName"in i,l="attrName"in i;if(!o&&!l)throw new li("Invalid definition");if(o&&"abstract"===i.blotName)throw new li("Cannot register abstract class");return this.types[o?i.blotName:l?i.attrName:void 0]=i,l?"string"==typeof i.keyName&&(this.attributes[i.keyName]=i):o&&(i.className&&(this.classes[i.className]=i),i.tagName&&(i.tagName=Array.isArray(i.tagName)?i.tagName.map(c=>c.toUpperCase()):i.tagName.toUpperCase(),(Array.isArray(i.tagName)?i.tagName:[i.tagName]).forEach(c=>{(null==this.tags[c]||null==i.className)&&(this.tags[c]=i)}))),i})}};return n.blots=new WeakMap,n})();function Dl(n,s){return(n.getAttribute("class")||"").split(/\s+/).filter(t=>0===t.indexOf(`${s}-`))}const dt=class m_ extends vt{static keys(s){return(s.getAttribute("class")||"").split(/\s+/).map(t=>t.split("-").slice(0,-1).join("-"))}add(s,t){return!!this.canAdd(s,t)&&(this.remove(s),s.classList.add(`${this.keyName}-${t}`),!0)}remove(s){Dl(s,this.keyName).forEach(t=>{s.classList.remove(t)}),0===s.classList.length&&s.removeAttribute("class")}value(s){const t=(Dl(s,this.keyName)[0]||"").slice(this.keyName.length+1);return this.canAdd(s,t)?t:""}};function no(n){const s=n.split("-"),t=s.slice(1).map(i=>i[0].toUpperCase()+i.slice(1)).join("");return s[0]+t}const tn=class g_ extends vt{static keys(s){return(s.getAttribute("style")||"").split(";").map(t=>t.split(":")[0].trim())}add(s,t){return!!this.canAdd(s,t)&&(s.style[no(this.keyName)]=t,!0)}remove(s){s.style[no(this.keyName)]="",s.getAttribute("style")||s.removeAttribute("style")}value(s){const t=s.style[no(this.keyName)];return this.canAdd(s,t)?t:""}},vs=class __{constructor(s){this.attributes={},this.domNode=s,this.build()}attribute(s,t){t?s.add(this.domNode,t)&&(null!=s.value(this.domNode)?this.attributes[s.attrName]=s:delete this.attributes[s.attrName]):(s.remove(this.domNode),delete this.attributes[s.attrName])}build(){this.attributes={};const s=ri.find(this.domNode);if(null==s)return;const t=vt.keys(this.domNode),i=dt.keys(this.domNode),o=tn.keys(this.domNode);t.concat(i).concat(o).forEach(l=>{const r=s.scroll.query(l,P.ATTRIBUTE);r instanceof vt&&(this.attributes[r.attrName]=r)})}copy(s){Object.keys(this.attributes).forEach(t=>{const i=this.attributes[t].value(this.domNode);s.format(t,i)})}move(s){this.copy(s),Object.keys(this.attributes).forEach(t=>{this.attributes[t].remove(this.domNode)}),this.attributes={}}values(){return Object.keys(this.attributes).reduce((s,t)=>(s[t]=this.attributes[t].value(this.domNode),s),{})}},Fl=class{constructor(s,t){this.scroll=s,this.domNode=t,ri.blots.set(t,this),this.prev=null,this.next=null}static create(s){if(null==this.tagName)throw new li("Blot definition missing tagName");let t,i;return Array.isArray(this.tagName)?("string"==typeof s?(i=s.toUpperCase(),parseInt(i,10).toString()===i&&(i=parseInt(i,10))):"number"==typeof s&&(i=s),t="number"==typeof i?document.createElement(this.tagName[i-1]):i&&this.tagName.indexOf(i)>-1?document.createElement(i):document.createElement(this.tagName[0])):t=document.createElement(this.tagName),this.className&&t.classList.add(this.className),t}get statics(){return this.constructor}attach(){}clone(){const s=this.domNode.cloneNode(!1);return this.scroll.create(s)}detach(){null!=this.parent&&this.parent.removeChild(this),ri.blots.delete(this.domNode)}deleteAt(s,t){this.isolate(s,t).remove()}formatAt(s,t,i,o){const l=this.isolate(s,t);if(null!=this.scroll.query(i,P.BLOT)&&o)l.wrap(i,o);else if(null!=this.scroll.query(i,P.ATTRIBUTE)){const r=this.scroll.create(this.statics.scope);l.wrap(r),r.format(i,o)}}insertAt(s,t,i){const o=null==i?this.scroll.create("text",t):this.scroll.create(t,i),l=this.split(s);this.parent.insertBefore(o,l||void 0)}isolate(s,t){const i=this.split(s);if(null==i)throw new Error("Attempt to isolate at end");return i.split(t),i}length(){return 1}offset(s=this.parent){return null==this.parent||this===s?0:this.parent.children.offset(this)+this.parent.offset(s)}optimize(s){this.statics.requiredContainer&&!(this.parent instanceof this.statics.requiredContainer)&&this.wrap(this.statics.requiredContainer.blotName)}remove(){null!=this.domNode.parentNode&&this.domNode.parentNode.removeChild(this.domNode),this.detach()}replaceWith(s,t){const i="string"==typeof s?this.scroll.create(s,t):s;return null!=this.parent&&(this.parent.insertBefore(i,this.next||void 0),this.remove()),i}split(s,t){return 0===s?this:this.next}update(s,t){}wrap(s,t){const i="string"==typeof s?this.scroll.create(s,t):s;if(null!=this.parent&&this.parent.insertBefore(i,this.next||void 0),"function"!=typeof i.appendChild)throw new li(`Cannot wrap ${s}`);return i.appendChild(this),i}};Fl.blotName="abstract";let Ml=Fl;const jl=class extends Ml{static value(s){return!0}index(s,t){return this.domNode===s||this.domNode.compareDocumentPosition(s)&Node.DOCUMENT_POSITION_CONTAINED_BY?Math.min(t,1):-1}position(s,t){let i=Array.from(this.parent.domNode.childNodes).indexOf(this.domNode);return s>0&&(i+=1),[this.parent.domNode,i]}value(){return{[this.statics.blotName]:this.statics.value(this.domNode)||!0}}};jl.scope=P.INLINE_BLOT;const $e=jl;class b_{constructor(){this.head=null,this.tail=null,this.length=0}append(...s){if(this.insertBefore(s[0],null),s.length>1){const t=s.slice(1);this.append(...t)}}at(s){const t=this.iterator();let i=t();for(;i&&s>0;)s-=1,i=t();return i}contains(s){const t=this.iterator();let i=t();for(;i;){if(i===s)return!0;i=t()}return!1}indexOf(s){const t=this.iterator();let i=t(),o=0;for(;i;){if(i===s)return o;o+=1,i=t()}return-1}insertBefore(s,t){null!=s&&(this.remove(s),s.next=t,null!=t?(s.prev=t.prev,null!=t.prev&&(t.prev.next=s),t.prev=s,t===this.head&&(this.head=s)):null!=this.tail?(this.tail.next=s,s.prev=this.tail,this.tail=s):(s.prev=null,this.head=this.tail=s),this.length+=1)}offset(s){let t=0,i=this.head;for(;null!=i;){if(i===s)return t;t+=i.length(),i=i.next}return-1}remove(s){this.contains(s)&&(null!=s.prev&&(s.prev.next=s.next),null!=s.next&&(s.next.prev=s.prev),s===this.head&&(this.head=s.next),s===this.tail&&(this.tail=s.prev),this.length-=1)}iterator(s=this.head){return()=>{const t=s;return null!=s&&(s=s.next),t}}find(s,t=!1){const i=this.iterator();let o=i();for(;o;){const l=o.length();if(s<l||t&&s===l&&(null==o.next||0!==o.next.length()))return[o,s];s-=l,o=i()}return[null,0]}forEach(s){const t=this.iterator();let i=t();for(;i;)s(i),i=t()}forEachAt(s,t,i){if(t<=0)return;const[o,l]=this.find(s);let r=s-l;const c=this.iterator(o);let d=c();for(;d&&r<s+t;){const h=d.length();s>r?i(d,s-r,Math.min(t,r+h-s)):i(d,0,Math.min(h,s+t-r)),r+=h,d=c()}}map(s){return this.reduce((t,i)=>(t.push(s(i)),t),[])}reduce(s,t){const i=this.iterator();let o=i();for(;o;)t=s(t,o),o=i();return t}}function Gl(n,s){const t=s.find(n);if(t)return t;try{return s.create(n)}catch{const i=s.create(P.INLINE);return Array.from(n.childNodes).forEach(o=>{i.domNode.appendChild(o)}),n.parentNode&&n.parentNode.replaceChild(i.domNode,n),i.attach(),i}}const pt=(()=>{let n=class ln extends Ml{constructor(t,i){super(t,i),this.uiNode=null,this.build()}appendChild(t){this.insertBefore(t)}attach(){super.attach(),this.children.forEach(t=>{t.attach()})}attachUI(t){null!=this.uiNode&&this.uiNode.remove(),this.uiNode=t,ln.uiClass&&this.uiNode.classList.add(ln.uiClass),this.uiNode.setAttribute("contenteditable","false"),this.domNode.insertBefore(this.uiNode,this.domNode.firstChild)}build(){this.children=new b_,Array.from(this.domNode.childNodes).filter(t=>t!==this.uiNode).reverse().forEach(t=>{try{const i=Gl(t,this.scroll);this.insertBefore(i,this.children.head||void 0)}catch(i){if(i instanceof li)return;throw i}})}deleteAt(t,i){if(0===t&&i===this.length())return this.remove();this.children.forEachAt(t,i,(o,l,r)=>{o.deleteAt(l,r)})}descendant(t,i=0){const[o,l]=this.children.find(i);return null==t.blotName&&t(o)||null!=t.blotName&&o instanceof t?[o,l]:o instanceof ln?o.descendant(t,l):[null,-1]}descendants(t,i=0,o=Number.MAX_VALUE){let l=[],r=o;return this.children.forEachAt(i,o,(c,d,h)=>{(null==t.blotName&&t(c)||null!=t.blotName&&c instanceof t)&&l.push(c),c instanceof ln&&(l=l.concat(c.descendants(t,d,r))),r-=h}),l}detach(){this.children.forEach(t=>{t.detach()}),super.detach()}enforceAllowedChildren(){let t=!1;this.children.forEach(i=>{t||this.statics.allowedChildren.some(o=>i instanceof o)||(i.statics.scope===P.BLOCK_BLOT?(null!=i.next&&this.splitAfter(i),null!=i.prev&&this.splitAfter(i.prev),i.parent.unwrap(),t=!0):i instanceof ln?i.unwrap():i.remove())})}formatAt(t,i,o,l){this.children.forEachAt(t,i,(r,c,d)=>{r.formatAt(c,d,o,l)})}insertAt(t,i,o){const[l,r]=this.children.find(t);if(l)l.insertAt(r,i,o);else{const c=null==o?this.scroll.create("text",i):this.scroll.create(i,o);this.appendChild(c)}}insertBefore(t,i){null!=t.parent&&t.parent.children.remove(t);let o=null;this.children.insertBefore(t,i||null),t.parent=this,null!=i&&(o=i.domNode),(this.domNode.parentNode!==t.domNode||this.domNode.nextSibling!==o)&&this.domNode.insertBefore(t.domNode,o),t.attach()}length(){return this.children.reduce((t,i)=>t+i.length(),0)}moveChildren(t,i){this.children.forEach(o=>{t.insertBefore(o,i)})}optimize(t){if(super.optimize(t),this.enforceAllowedChildren(),null!=this.uiNode&&this.uiNode!==this.domNode.firstChild&&this.domNode.insertBefore(this.uiNode,this.domNode.firstChild),0===this.children.length)if(null!=this.statics.defaultChild){const i=this.scroll.create(this.statics.defaultChild.blotName);this.appendChild(i)}else this.remove()}path(t,i=!1){const[o,l]=this.children.find(t,i),r=[[this,t]];return o instanceof ln?r.concat(o.path(l,i)):(null!=o&&r.push([o,l]),r)}removeChild(t){this.children.remove(t)}replaceWith(t,i){const o="string"==typeof t?this.scroll.create(t,i):t;return o instanceof ln&&this.moveChildren(o),super.replaceWith(o)}split(t,i=!1){if(!i){if(0===t)return this;if(t===this.length())return this.next}const o=this.clone();return this.parent&&this.parent.insertBefore(o,this.next||void 0),this.children.forEachAt(t,this.length(),(l,r,c)=>{const d=l.split(r,i);null!=d&&o.appendChild(d)}),o}splitAfter(t){const i=this.clone();for(;null!=t.next;)i.appendChild(t.next);return this.parent&&this.parent.insertBefore(i,this.next||void 0),i}unwrap(){this.parent&&this.moveChildren(this.parent,this.next||void 0),this.remove()}update(t,i){const o=[],l=[];t.forEach(r=>{r.target===this.domNode&&"childList"===r.type&&(o.push(...r.addedNodes),l.push(...r.removedNodes))}),l.forEach(r=>{if(null!=r.parentNode&&"IFRAME"!==r.tagName&&document.body.compareDocumentPosition(r)&Node.DOCUMENT_POSITION_CONTAINED_BY)return;const c=this.scroll.find(r);null!=c&&(null==c.domNode.parentNode||c.domNode.parentNode===this.domNode)&&c.detach()}),o.filter(r=>r.parentNode===this.domNode&&r!==this.uiNode).sort((r,c)=>r===c?0:r.compareDocumentPosition(c)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1).forEach(r=>{let c=null;null!=r.nextSibling&&(c=this.scroll.find(r.nextSibling));const d=Gl(r,this.scroll);(d.next!==c||null==d.next)&&(null!=d.parent&&d.parent.removeChild(this),this.insertBefore(d,c||void 0))}),this.enforceAllowedChildren()}};return n.uiClass="",n})(),ai=class fi extends pt{static create(s){return super.create(s)}static formats(s,t){const i=t.query(fi.blotName);if(null==i||s.tagName!==i.tagName){if("string"==typeof this.tagName)return!0;if(Array.isArray(this.tagName))return s.tagName.toLowerCase()}}constructor(s,t){super(s,t),this.attributes=new vs(this.domNode)}format(s,t){if(s!==this.statics.blotName||t){const i=this.scroll.query(s,P.INLINE);if(null==i)return;i instanceof vt?this.attributes.attribute(i,t):t&&(s!==this.statics.blotName||this.formats()[s]!==t)&&this.replaceWith(s,t)}else this.children.forEach(i=>{i instanceof fi||(i=i.wrap(fi.blotName,!0)),this.attributes.copy(i)}),this.unwrap()}formats(){const s=this.attributes.values(),t=this.statics.formats(this.domNode,this.scroll);return null!=t&&(s[this.statics.blotName]=t),s}formatAt(s,t,i,o){null!=this.formats()[i]||this.scroll.query(i,P.ATTRIBUTE)?this.isolate(s,t).format(i,o):super.formatAt(s,t,i,o)}optimize(s){super.optimize(s);const t=this.formats();if(0===Object.keys(t).length)return this.unwrap();const i=this.next;i instanceof fi&&i.prev===this&&function v_(n,s){if(Object.keys(n).length!==Object.keys(s).length)return!1;for(const t in n)if(n[t]!==s[t])return!1;return!0}(t,i.formats())&&(i.moveChildren(this),i.remove())}replaceWith(s,t){const i=super.replaceWith(s,t);return this.attributes.copy(i),i}update(s,t){super.update(s,t),s.some(i=>i.target===this.domNode&&"attributes"===i.type)&&this.attributes.build()}wrap(s,t){const i=super.wrap(s,t);return i instanceof fi&&this.attributes.move(i),i}};ai.allowedChildren=[ai,$e],ai.blotName="inline",ai.scope=P.INLINE_BLOT,ai.tagName="SPAN";const io=ai,ci=class Po extends pt{static create(s){return super.create(s)}static formats(s,t){const i=t.query(Po.blotName);if(null==i||s.tagName!==i.tagName){if("string"==typeof this.tagName)return!0;if(Array.isArray(this.tagName))return s.tagName.toLowerCase()}}constructor(s,t){super(s,t),this.attributes=new vs(this.domNode)}format(s,t){const i=this.scroll.query(s,P.BLOCK);null!=i&&(i instanceof vt?this.attributes.attribute(i,t):s!==this.statics.blotName||t?t&&(s!==this.statics.blotName||this.formats()[s]!==t)&&this.replaceWith(s,t):this.replaceWith(Po.blotName))}formats(){const s=this.attributes.values(),t=this.statics.formats(this.domNode,this.scroll);return null!=t&&(s[this.statics.blotName]=t),s}formatAt(s,t,i,o){null!=this.scroll.query(i,P.BLOCK)?this.format(i,o):super.formatAt(s,t,i,o)}insertAt(s,t,i){if(null==i||null!=this.scroll.query(t,P.INLINE))super.insertAt(s,t,i);else{const o=this.split(s);if(null==o)throw new Error("Attempt to insertAt after block boundaries");{const l=this.scroll.create(t,i);o.parent.insertBefore(l,o)}}}replaceWith(s,t){const i=super.replaceWith(s,t);return this.attributes.copy(i),i}update(s,t){super.update(s,t),s.some(i=>i.target===this.domNode&&"attributes"===i.type)&&this.attributes.build()}};ci.blotName="block",ci.scope=P.BLOCK_BLOT,ci.tagName="P",ci.allowedChildren=[io,ci,$e];const es=ci,so=class extends pt{checkMerge(){return null!==this.next&&this.next.statics.blotName===this.statics.blotName}deleteAt(s,t){super.deleteAt(s,t),this.enforceAllowedChildren()}formatAt(s,t,i,o){super.formatAt(s,t,i,o),this.enforceAllowedChildren()}insertAt(s,t,i){super.insertAt(s,t,i),this.enforceAllowedChildren()}optimize(s){super.optimize(s),this.children.length>0&&null!=this.next&&this.checkMerge()&&(this.next.moveChildren(this),this.next.remove())}};so.blotName="container",so.scope=P.BLOCK_BLOT;const ys=so,Xe=class y_ extends $e{static formats(s,t){}format(s,t){super.formatAt(0,this.length(),s,t)}formatAt(s,t,i,o){0===s&&t===this.length()?this.format(i,o):super.formatAt(s,t,i,o)}formats(){return this.statics.formats(this.domNode,this.scroll)}},T_={attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0},ui=class extends pt{constructor(s,t){super(null,t),this.registry=s,this.scroll=this,this.build(),this.observer=new MutationObserver(i=>{this.update(i)}),this.observer.observe(this.domNode,T_),this.attach()}create(s,t){return this.registry.create(this,s,t)}find(s,t=!1){const i=this.registry.find(s,t);return i?i.scroll===this?i:t?this.find(i.scroll.domNode.parentNode,!0):null:null}query(s,t=P.ANY){return this.registry.query(s,t)}register(...s){return this.registry.register(...s)}build(){null!=this.scroll&&super.build()}detach(){super.detach(),this.observer.disconnect()}deleteAt(s,t){this.update(),0===s&&t===this.length()?this.children.forEach(i=>{i.remove()}):super.deleteAt(s,t)}formatAt(s,t,i,o){this.update(),super.formatAt(s,t,i,o)}insertAt(s,t,i){this.update(),super.insertAt(s,t,i)}optimize(s=[],t={}){super.optimize(t);const i=t.mutationsMap||new WeakMap;let o=Array.from(this.observer.takeRecords());for(;o.length>0;)s.push(o.pop());const l=(d,h=!0)=>{null==d||d===this||null!=d.domNode.parentNode&&(i.has(d.domNode)||i.set(d.domNode,[]),h&&l(d.parent))},r=d=>{i.has(d.domNode)&&(d instanceof pt&&d.children.forEach(r),i.delete(d.domNode),d.optimize(t))};let c=s;for(let d=0;c.length>0;d+=1){if(d>=100)throw new Error("[Parchment] Maximum optimize iterations reached");for(c.forEach(h=>{const v=this.find(h.target,!0);null!=v&&(v.domNode===h.target&&("childList"===h.type?(l(this.find(h.previousSibling,!1)),Array.from(h.addedNodes).forEach(E=>{const A=this.find(E,!1);l(A,!1),A instanceof pt&&A.children.forEach(Q=>{l(Q,!1)})})):"attributes"===h.type&&l(v.prev)),l(v))}),this.children.forEach(r),c=Array.from(this.observer.takeRecords()),o=c.slice();o.length>0;)s.push(o.pop())}}update(s,t={}){s=s||this.observer.takeRecords();const i=new WeakMap;s.map(o=>{const l=this.find(o.target,!0);return null==l?null:i.has(l.domNode)?(i.get(l.domNode).push(o),null):(i.set(l.domNode,[o]),l)}).forEach(o=>{null!=o&&o!==this&&i.has(o.domNode)&&o.update(i.get(o.domNode)||[],t)}),t.mutationsMap=i,i.has(this.domNode)&&super.update(i.get(this.domNode),t),this.optimize(s,t)}};ui.blotName="scroll",ui.defaultChild=es,ui.allowedChildren=[es,ys],ui.scope=P.BLOCK_BLOT,ui.tagName="DIV";const oo=ui,lo=class na extends $e{static create(s){return document.createTextNode(s)}static value(s){return s.data}constructor(s,t){super(s,t),this.text=this.statics.value(this.domNode)}deleteAt(s,t){this.domNode.data=this.text=this.text.slice(0,s)+this.text.slice(s+t)}index(s,t){return this.domNode===s?t:-1}insertAt(s,t,i){null==i?(this.text=this.text.slice(0,s)+t+this.text.slice(s),this.domNode.data=this.text):super.insertAt(s,t,i)}length(){return this.text.length}optimize(s){super.optimize(s),this.text=this.statics.value(this.domNode),0===this.text.length?this.remove():this.next instanceof na&&this.next.prev===this&&(this.insertAt(this.length(),this.next.value()),this.next.remove())}position(s,t=!1){return[this.domNode,s]}split(s,t=!1){if(!t){if(0===s)return this;if(s===this.length())return this.next}const i=this.scroll.create(this.domNode.splitText(s));return this.parent.insertBefore(i,this.next||void 0),this.text=this.statics.value(this.domNode),i}update(s,t){s.some(i=>"characterData"===i.type&&i.target===this.domNode)&&(this.text=this.statics.value(this.domNode))}value(){return this.text}};lo.blotName="text",lo.scope=P.INLINE_BLOT;const Ts=lo;var M=w(2577);const E_=_l(Object.keys,Object);var k_=Object.prototype.hasOwnProperty;const ro=function A_(n){return bs(n)?Ll(n):function N_(n){if(!Qs(n))return E_(n);var s=[];for(var t in Object(n))k_.call(n,t)&&"constructor"!=t&&s.push(t);return s}(n)},Bl=function G_(){return[]};var q_=Object.prototype.propertyIsEnumerable,ql=Object.getOwnPropertySymbols,$_=ql?function(n){return null==n?[]:(n=Object(n),function M_(n,s){for(var t=-1,i=null==n?0:n.length,o=0,l=[];++t<i;){var r=n[t];s(r,t,n)&&(l[o++]=r)}return l}(ql(n),function(s){return q_.call(n,s)}))}:Bl;const ao=$_,$l=function P_(n,s){for(var t=-1,i=s.length,o=n.length;++t<i;)n[o+t]=s[t];return n};var Y_=Object.getOwnPropertySymbols?function(n){for(var s=[];n;)$l(s,ao(n)),n=Ks(n);return s}:Bl;const Vl=Y_,Ul=function K_(n,s,t){var i=s(n);return In(n)?i:$l(i,t(n))},co=function Q_(n){return Ul(n,ro,ao)},J_=function Z_(n){return Ul(n,Wi,Vl)},uo=Cn(bt,"DataView"),po=Cn(bt,"Promise"),ho=Cn(bt,"Set"),fo=Cn(bt,"WeakMap");var Pl="[object Map]",Hl="[object Promise]",Yl="[object Set]",zl="[object WeakMap]",Xl="[object DataView]",o1=Tn(uo),l1=Tn(zi),r1=Tn(po),a1=Tn(ho),c1=Tn(fo),xn=ti;(uo&&xn(new uo(new ArrayBuffer(1)))!=Xl||zi&&xn(new zi)!=Pl||po&&xn(po.resolve())!=Hl||ho&&xn(new ho)!=Yl||fo&&xn(new fo)!=zl)&&(xn=function(n){var s=ti(n),t="[object Object]"==s?n.constructor:void 0,i=t?Tn(t):"";if(i)switch(i){case o1:return Xl;case l1:return Pl;case r1:return Hl;case a1:return Yl;case c1:return zl}return s});const ts=xn;var d1=Object.prototype.hasOwnProperty;var g1=/\w*$/;var Kl=Jt?Jt.prototype:void 0,Ql=Kl?Kl.valueOf:void 0;const $1=function q1(n,s,t){var i=n.constructor;switch(s){case"[object ArrayBuffer]":return Xs(n);case"[object Boolean]":case"[object Date]":return new i(+n);case"[object DataView]":return function f1(n,s){var t=s?Xs(n.buffer):n.buffer;return new n.constructor(t,n.byteOffset,n.byteLength)}(n,t);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return fl(n,t);case"[object Map]":case"[object Set]":return new i;case"[object Number]":case"[object String]":return new i(n);case"[object RegExp]":return function _1(n){var s=new n.constructor(n.source,g1.exec(n));return s.lastIndex=n.lastIndex,s}(n);case"[object Symbol]":return function v1(n){return Ql?Object(Ql.call(n)):{}}(n)}};var Zl=oi&&oi.isMap;const Y1=Zl?Js(Zl):function U1(n){return Ot(n)&&"[object Map]"==ts(n)};var Jl=oi&&oi.isSet;const Z1=Jl?Js(Jl):function X1(n){return Ot(n)&&"[object Set]"==ts(n)};var Wl="[object Arguments]",er="[object Function]",tr="[object Object]",Ie={};Ie[Wl]=Ie["[object Array]"]=Ie["[object ArrayBuffer]"]=Ie["[object DataView]"]=Ie["[object Boolean]"]=Ie["[object Date]"]=Ie["[object Float32Array]"]=Ie["[object Float64Array]"]=Ie["[object Int8Array]"]=Ie["[object Int16Array]"]=Ie["[object Int32Array]"]=Ie["[object Map]"]=Ie["[object Number]"]=Ie[tr]=Ie["[object RegExp]"]=Ie["[object Set]"]=Ie["[object String]"]=Ie["[object Symbol]"]=Ie["[object Uint8Array]"]=Ie["[object Uint8ClampedArray]"]=Ie["[object Uint16Array]"]=Ie["[object Uint32Array]"]=!0,Ie["[object Error]"]=Ie[er]=Ie["[object WeakMap]"]=!1;const w0=function Cs(n,s,t,i,o,l){var r,c=1&s,d=2&s,h=4&s;if(t&&(r=o?t(n,i,o,l):t(n)),void 0!==r)return r;if(!Wt(n))return n;var v=In(n);if(v){if(r=function p1(n){var s=n.length,t=new n.constructor(s);return s&&"string"==typeof n[0]&&d1.call(n,"index")&&(t.index=n.index,t.input=n.input),t}(n),!c)return ml(n,r)}else{var E=ts(n),A=E==er||"[object GeneratorFunction]"==E;if(Qi(n))return hl(n,c);if(E==tr||E==Wl||A&&!o){if(r=d||A?{}:bl(n),!c)return d?function z_(n,s){return Ji(n,Vl(n),s)}(n,function D_(n,s){return n&&Ji(s,Wi(s),n)}(r,n)):function V_(n,s){return Ji(n,ao(n),s)}(n,function R_(n,s){return n&&Ji(s,ro(s),n)}(r,n))}else{if(!Ie[E])return o?n:{};r=$1(n,E,c)}}l||(l=new Ki);var Q=l.get(n);if(Q)return Q;l.set(n,r),Z1(n)?n.forEach(function(ve){r.add(Cs(ve,s,t,ve,n,l))}):Y1(n)&&n.forEach(function(ve,W){r.set(W,Cs(ve,s,t,W,n,l))});var ae=v?void 0:(h?d?J_:co:d?Wi:ro)(n);return function I_(n,s){for(var t=-1,i=null==n?0:n.length;++t<i&&!1!==s(n[t],t,n););}(ae||n,function(ve,W){ae&&(ve=n[W=ve]),kl(r,W,Cs(ve,s,t,W,n,l))}),r},di=function k0(n){return w0(n,5)};function Is(n){var s=-1,t=null==n?0:n.length;for(this.__data__=new al;++s<t;)this.add(n[s])}Is.prototype.add=Is.prototype.push=function L0(n){return this.__data__.set(n,"__lodash_hash_undefined__"),this},Is.prototype.has=function R0(n){return this.__data__.has(n)};const D0=Is,M0=function F0(n,s){for(var t=-1,i=null==n?0:n.length;++t<i;)if(s(n[t],t,n))return!0;return!1},G0=function j0(n,s){return n.has(s)},nr=function $0(n,s,t,i,o,l){var r=1&t,c=n.length,d=s.length;if(c!=d&&!(r&&d>c))return!1;var h=l.get(n),v=l.get(s);if(h&&v)return h==s&&v==n;var E=-1,A=!0,Q=2&t?new D0:void 0;for(l.set(n,s),l.set(s,n);++E<c;){var J=n[E],ae=s[E];if(i)var ve=r?i(ae,J,E,s,n,l):i(J,ae,E,n,s,l);if(void 0!==ve){if(ve)continue;A=!1;break}if(Q){if(!M0(s,function(W,Oe){if(!G0(Q,Oe)&&(J===W||o(J,W,t,i,l)))return Q.push(Oe)})){A=!1;break}}else if(J!==ae&&!o(J,ae,t,i,l)){A=!1;break}}return l.delete(n),l.delete(s),A},U0=function V0(n){var s=-1,t=Array(n.size);return n.forEach(function(i,o){t[++s]=[o,i]}),t},H0=function P0(n){var s=-1,t=Array(n.size);return n.forEach(function(i){t[++s]=i}),t};var ir=Jt?Jt.prototype:void 0,mo=ir?ir.valueOf:void 0;var cb=Object.prototype.hasOwnProperty;var sr="[object Arguments]",or="[object Array]",xs="[object Object]",lr=Object.prototype.hasOwnProperty;const mb=function fb(n,s,t,i,o,l){var r=In(n),c=In(s),d=r?or:ts(n),h=c?or:ts(s),v=(d=d==sr?xs:d)==xs,E=(h=h==sr?xs:h)==xs,A=d==h;if(A&&Qi(n)){if(!Qi(s))return!1;r=!0,v=!1}if(A&&!v)return l||(l=new Ki),r||eo(n)?nr(n,s,t,i,o,l):function ob(n,s,t,i,o,l,r){switch(t){case"[object DataView]":if(n.byteLength!=s.byteLength||n.byteOffset!=s.byteOffset)return!1;n=n.buffer,s=s.buffer;case"[object ArrayBuffer]":return!(n.byteLength!=s.byteLength||!l(new _s(n),new _s(s)));case"[object Boolean]":case"[object Date]":case"[object Number]":return Hi(+n,+s);case"[object Error]":return n.name==s.name&&n.message==s.message;case"[object RegExp]":case"[object String]":return n==s+"";case"[object Map]":var c=U0;case"[object Set]":if(c||(c=H0),n.size!=s.size&&!(1&i))return!1;var h=r.get(n);if(h)return h==s;i|=2,r.set(n,s);var v=nr(c(n),c(s),i,o,l,r);return r.delete(n),v;case"[object Symbol]":if(mo)return mo.call(n)==mo.call(s)}return!1}(n,s,d,t,i,o,l);if(!(1&t)){var Q=v&&lr.call(n,"__wrapped__"),J=E&&lr.call(s,"__wrapped__");if(Q||J){var ae=Q?n.value():n,ve=J?s.value():s;return l||(l=new Ki),o(ae,ve,t,i,l)}}return!!A&&(l||(l=new Ki),function ub(n,s,t,i,o,l){var r=1&t,c=co(n),d=c.length;if(d!=co(s).length&&!r)return!1;for(var E=d;E--;){var A=c[E];if(!(r?A in s:cb.call(s,A)))return!1}var Q=l.get(n),J=l.get(s);if(Q&&J)return Q==s&&J==n;var ae=!0;l.set(n,s),l.set(s,n);for(var ve=r;++E<d;){var W=n[A=c[E]],Oe=s[A];if(i)var ta=r?i(Oe,W,A,s,n,l):i(W,Oe,A,n,s,l);if(!(void 0===ta?W===Oe||o(W,Oe,t,i,l):ta)){ae=!1;break}ve||(ve="constructor"==A)}if(ae&&!ve){var js=n.constructor,Gs=s.constructor;js!=Gs&&"constructor"in n&&"constructor"in s&&!("function"==typeof js&&js instanceof js&&"function"==typeof Gs&&Gs instanceof Gs)&&(ae=!1)}return l.delete(n),l.delete(s),ae}(n,s,t,i,o,l))},gb=function rr(n,s,t,i,o){return n===s||(null==n||null==s||!Ot(n)&&!Ot(s)?n!=n&&s!=s:mb(n,s,t,i,rr,o))},go=function _b(n,s){return gb(n,s)},Dt=(()=>{class n extends Xe{static value(){}optimize(){(this.prev||this.next)&&this.remove()}length(){return 0}value(){return""}}return n.blotName="break",n.tagName="BR",n})();class ht extends Ts{}function ws(n){return n.replace(/[&<>"']/g,s=>({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"}[s]))}const nn=(()=>{class n extends io{static allowedChildren=[n,Dt,Xe,ht];static order=["cursor","inline","link","underline","strike","italic","bold","script","code"];static compare(t,i){const o=n.order.indexOf(t),l=n.order.indexOf(i);return o>=0||l>=0?o-l:t===i?0:t<i?-1:1}formatAt(t,i,o,l){if(n.compare(this.statics.blotName,o)<0&&this.scroll.query(o,P.BLOT)){const r=this.isolate(t,i);l&&r.wrap(o,l)}else super.formatAt(t,i,o,l)}optimize(t){if(super.optimize(t),this.parent instanceof n&&n.compare(this.statics.blotName,this.parent.statics.blotName)>0){const i=this.parent.isolate(this.offset(),this.length());this.moveChildren(i),i.wrap(this)}}}return n})();let Ke=(()=>{class n extends es{cache={};delta(){return null==this.cache.delta&&(this.cache.delta=cr(this)),this.cache.delta}deleteAt(t,i){super.deleteAt(t,i),this.cache={}}formatAt(t,i,o,l){i<=0||(this.scroll.query(o,P.BLOCK)?t+i===this.length()&&this.format(o,l):super.formatAt(t,Math.min(i,this.length()-t-1),o,l),this.cache={})}insertAt(t,i,o){if(null!=o)return super.insertAt(t,i,o),void(this.cache={});if(0===i.length)return;const l=i.split("\n"),r=l.shift();r.length>0&&(t<this.length()-1||null==this.children.tail?super.insertAt(Math.min(t,this.length()-1),r):this.children.tail.insertAt(this.children.tail.length(),r),this.cache={});let c=this;l.reduce((d,h)=>(c=c.split(d,!0),c.insertAt(0,h),h.length),t+r.length)}insertBefore(t,i){const{head:o}=this.children;super.insertBefore(t,i),o instanceof Dt&&o.remove(),this.cache={}}length(){return null==this.cache.length&&(this.cache.length=super.length()+1),this.cache.length}moveChildren(t,i){super.moveChildren(t,i),this.cache={}}optimize(t){super.optimize(t),this.cache={}}path(t){return super.path(t,!0)}removeChild(t){super.removeChild(t),this.cache={}}split(t){let i=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(i&&(0===t||t>=this.length()-1)){const l=this.clone();return 0===t?(this.parent.insertBefore(l,this),this):(this.parent.insertBefore(l,this.next),l)}const o=super.split(t,i);return this.cache={},o}}return n.blotName="block",n.tagName="P",n.defaultChild=Dt,n.allowedChildren=[Dt,nn,Xe,ht],n})();class tt extends Xe{attach(){super.attach(),this.attributes=new vs(this.domNode)}delta(){return(new M).insert(this.value(),{...this.formats(),...this.attributes.values()})}format(s,t){const i=this.scroll.query(s,P.BLOCK_ATTRIBUTE);null!=i&&this.attributes.attribute(i,t)}formatAt(s,t,i,o){this.format(i,o)}insertAt(s,t,i){if(null!=i)return void super.insertAt(s,t,i);const o=t.split("\n"),l=o.pop(),r=o.map(d=>{const h=this.scroll.create(Ke.blotName);return h.insertAt(0,d),h}),c=this.split(s);r.forEach(d=>{this.parent.insertBefore(d,c)}),l&&this.parent.insertBefore(this.scroll.create("text",l),c)}}function cr(n){let s=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return n.descendants($e).reduce((t,i)=>0===i.length()?t:t.insert(i.value(),nt(i,{},s)),new M).insert("\n",nt(n))}function nt(n){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return null==n||("formats"in n&&"function"==typeof n.formats&&(s={...s,...n.formats()},t&&delete s["code-token"]),null==n.parent||"scroll"===n.parent.statics.blotName||n.parent.statics.scope!==n.statics.scope)?s:nt(n.parent,s,t)}tt.scope=P.BLOCK_BLOT;const Es=(()=>{class n extends Xe{static blotName="cursor";static className="ql-cursor";static tagName="span";static CONTENTS="\ufeff";static value(){}constructor(t,i,o){super(t,i),this.selection=o,this.textNode=document.createTextNode(n.CONTENTS),this.domNode.appendChild(this.textNode),this.savedLength=0}detach(){null!=this.parent&&this.parent.removeChild(this)}format(t,i){if(0!==this.savedLength)return void super.format(t,i);let o=this,l=0;for(;null!=o&&o.statics.scope!==P.BLOCK_BLOT;)l+=o.offset(o.parent),o=o.parent;null!=o&&(this.savedLength=n.CONTENTS.length,o.optimize(),o.formatAt(l,n.CONTENTS.length,t,i),this.savedLength=0)}index(t,i){return t===this.textNode?0:super.index(t,i)}length(){return this.savedLength}position(){return[this.textNode,this.textNode.data.length]}remove(){super.remove(),this.parent=null}restore(){if(this.selection.composing||null==this.parent)return null;const t=this.selection.getNativeRange();for(;null!=this.domNode.lastChild&&this.domNode.lastChild!==this.textNode;)this.domNode.parentNode.insertBefore(this.domNode.lastChild,this.domNode);const i=this.prev instanceof ht?this.prev:null,o=i?i.length():0,l=this.next instanceof ht?this.next:null,r=l?l.text:"",{textNode:c}=this,d=c.data.split(n.CONTENTS).join("");let h;if(c.data=n.CONTENTS,i)h=i,(d||l)&&(i.insertAt(i.length(),d+r),l&&l.remove());else if(l)h=l,l.insertAt(0,d);else{const v=document.createTextNode(d);h=this.scroll.create(v),this.parent.insertBefore(h,this)}if(this.remove(),t){const v=(Q,J)=>i&&Q===i.domNode?J:Q===c?o+J-1:l&&Q===l.domNode?o+d.length+J:null,E=v(t.start.node,t.start.offset),A=v(t.end.node,t.end.offset);if(null!==E&&null!==A)return{startNode:h.domNode,startOffset:E,endNode:h.domNode,endOffset:A}}return null}update(t,i){if(t.some(o=>"characterData"===o.type&&o.target===this.textNode)){const o=this.restore();o&&(i.range=o)}}optimize(t){super.optimize(t);let{parent:i}=this;for(;i;){if("A"===i.domNode.tagName){this.savedLength=n.CONTENTS.length,i.isolate(this.offset(i),this.length()).unwrap(),this.savedLength=0;break}i=i.parent}}value(){return""}}return n})();var bb=w(9280);const _o=new WeakMap,bo=["error","warn","log","info"];let vo="warn";function ur(n){if(vo&&bo.indexOf(n)<=bo.indexOf(vo)){for(var s=arguments.length,t=new Array(s>1?s-1:0),i=1;i<s;i++)t[i-1]=arguments[i];console[n](...t)}}function yo(n){return bo.reduce((s,t)=>(s[t]=ur.bind(console,t,n),s),{})}yo.level=n=>{vo=n},ur.level=yo.level;const wn=yo,To=wn("quill:events");["selectionchange","mousedown","mouseup","click"].forEach(n=>{document.addEventListener(n,function(){for(var s=arguments.length,t=new Array(s),i=0;i<s;i++)t[i]=arguments[i];Array.from(document.querySelectorAll(".ql-container")).forEach(o=>{const l=_o.get(o);l&&l.emitter&&l.emitter.handleDOM(...t)})})});const $=(()=>class n extends bb{static events={EDITOR_CHANGE:"editor-change",SCROLL_BEFORE_UPDATE:"scroll-before-update",SCROLL_BLOT_MOUNT:"scroll-blot-mount",SCROLL_BLOT_UNMOUNT:"scroll-blot-unmount",SCROLL_OPTIMIZE:"scroll-optimize",SCROLL_UPDATE:"scroll-update",SCROLL_EMBED_UPDATE:"scroll-embed-update",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change",COMPOSITION_BEFORE_START:"composition-before-start",COMPOSITION_START:"composition-start",COMPOSITION_BEFORE_END:"composition-before-end",COMPOSITION_END:"composition-end"};static sources={API:"api",SILENT:"silent",USER:"user"};constructor(){super(),this.domListeners={},this.on("error",To.error)}emit(){for(var t=arguments.length,i=new Array(t),o=0;o<t;o++)i[o]=arguments[o];return To.log.call(To,...i),super.emit(...i)}handleDOM(t){for(var i=arguments.length,o=new Array(i>1?i-1:0),l=1;l<i;l++)o[l-1]=arguments[l];(this.domListeners[t.type]||[]).forEach(r=>{let{node:c,handler:d}=r;(t.target===c||c.contains(t.target))&&d(t,...o)})}listenDOM(t,i,o){this.domListeners[t]||(this.domListeners[t]=[]),this.domListeners[t].push({node:i,handler:o})}})(),Co=wn("quill:selection");class En{constructor(s){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this.index=s,this.length=t}}function Io(n,s){return n.contains(s)}const Tb=/^[ -~]*$/;function pi(n,s,t){if(0===n.length){const[Q]=xo(t.pop());return s<=0?`</li></${Q}>`:`</li></${Q}>${pi([],s-1,t)}`}const[{child:i,offset:o,length:l,indent:r,type:c},...d]=n,[h,v]=xo(c);if(r>s)return t.push(c),r===s+1?`<${h}><li${v}>${ns(i,o,l)}${pi(d,r,t)}`:`<${h}><li>${pi(n,s+1,t)}`;if(r===s&&c===t[t.length-1])return`</li><li${v}>${ns(i,o,l)}${pi(d,r,t)}`;const[A]=xo(t.pop());return`</li></${A}>${pi(n,s-1,t)}`}function ns(n,s,t){let i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if("html"in n&&"function"==typeof n.html)return n.html(s,t);if(n instanceof ht)return ws(n.value().slice(s,s+t));if(n instanceof pt){if("list-container"===n.statics.blotName){const h=[];return n.children.forEachAt(s,t,(v,E,A)=>{const Q="formats"in v&&"function"==typeof v.formats?v.formats():{};h.push({child:v,offset:E,length:A,indent:Q.indent||0,type:Q.list})}),pi(h,-1,[])}const o=[];if(n.children.forEachAt(s,t,(h,v,E)=>{o.push(ns(h,v,E))}),i||"list"===n.statics.blotName)return o.join("");const{outerHTML:l,innerHTML:r}=n.domNode,[c,d]=l.split(`>${r}<`);return"<table"===c?`<table style="border: 1px solid #000;">${o.join("")}<${d}`:`${c}>${o.join("")}<${d}`}return n.domNode instanceof Element?n.domNode.outerHTML:""}function Ib(n,s){return Object.keys(s).reduce((t,i)=>{if(null==n[i])return t;const o=s[i];return t[i]=o===n[i]?o:Array.isArray(o)?o.indexOf(n[i])<0?o.concat([n[i]]):o:[o,n[i]],t},{})}function xo(n){const s="ordered"===n?"ol":"ul";switch(n){case"checked":return[s,' data-list="checked"'];case"unchecked":return[s,' data-list="unchecked"'];default:return[s,""]}}function dr(n){return n.reduce((s,t)=>{if("string"==typeof t.insert){const i=t.insert.replace(/\r\n/g,"\n").replace(/\r/g,"\n");return s.insert(i,t.attributes)}return s.push(t)},new M)}function pr(n,s){let{index:t,length:i}=n;return new En(t+s,i)}const yt=(()=>class n{static DEFAULTS={};constructor(t){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.quill=t,this.options=i}})(),wo=class Eb extends Xe{constructor(s,t){super(s,t),this.contentNode=document.createElement("span"),this.contentNode.setAttribute("contenteditable","false"),Array.from(this.domNode.childNodes).forEach(i=>{this.contentNode.appendChild(i)}),this.leftGuard=document.createTextNode("\ufeff"),this.rightGuard=document.createTextNode("\ufeff"),this.domNode.appendChild(this.leftGuard),this.domNode.appendChild(this.contentNode),this.domNode.appendChild(this.rightGuard)}index(s,t){return s===this.leftGuard?0:s===this.rightGuard?1:super.index(s,t)}restore(s){let i,t=null;const o=s.data.split("\ufeff").join("");if(s===this.leftGuard)if(this.prev instanceof ht){const l=this.prev.length();this.prev.insertAt(l,o),t={startNode:this.prev.domNode,startOffset:l+o.length}}else i=document.createTextNode(o),this.parent.insertBefore(this.scroll.create(i),this),t={startNode:i,startOffset:o.length};else s===this.rightGuard&&(this.next instanceof ht?(this.next.insertAt(0,o),t={startNode:this.next.domNode,startOffset:o.length}):(i=document.createTextNode(o),this.parent.insertBefore(this.scroll.create(i),this.next),t={startNode:i,startOffset:o.length}));return s.data="\ufeff",t}update(s,t){s.forEach(i=>{if("characterData"===i.type&&(i.target===this.leftGuard||i.target===this.rightGuard)){const o=this.restore(i.target);o&&(t.range=o)}})}},ks=(()=>{class n{static DEFAULTS={modules:{}};static themes={default:n};modules={};constructor(t,i){this.quill=t,this.options=i}init(){Object.keys(this.options.modules).forEach(t=>{null==this.modules[t]&&this.addModule(t)})}addModule(t){const i=this.quill.constructor.import(`modules/${t}`);return this.modules[t]=new i(this.quill,this.options.modules[t]||{}),this.modules[t]}}return n})(),Nb=n=>n.parentElement||n.getRootNode().host||null,Lb=n=>{const s=n.getBoundingClientRect(),t="offsetWidth"in n&&Math.abs(s.width)/n.offsetWidth||1,i="offsetHeight"in n&&Math.abs(s.height)/n.offsetHeight||1;return{top:s.top,right:s.left+n.clientWidth*t,bottom:s.top+n.clientHeight*i,left:s.left}},Ns=n=>{const s=parseInt(n,10);return Number.isNaN(s)?0:s},hr=(n,s,t,i,o,l)=>n<t&&s>i?0:n<t?-(t-n+o):s>i?s-n>i-t?n+o-t:s-i+l:0,Ob=["block","break","cursor","inline","scroll","text"],hi=wn("quill"),Ls=new ri;pt.uiClass="ql-ui";class I{static DEFAULTS={bounds:null,modules:{clipboard:!0,keyboard:!0,history:!0,uploader:!0},placeholder:"",readOnly:!1,registry:Ls,theme:"default"};static events=$.events;static sources=$.sources;static version="2.0.2";static imports={delta:M,parchment:ie,"core/module":yt,"core/theme":ks};static debug(s){!0===s&&(s="log"),wn.level(s)}static find(s){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return _o.get(s)||Ls.find(s,t)}static import(s){return null==this.imports[s]&&hi.error(`Cannot import ${s}. Are you sure it was registered?`),this.imports[s]}static register(){if("string"!=typeof(arguments.length<=0?void 0:arguments[0])){const s=arguments.length<=0?void 0:arguments[0],t=!(arguments.length<=1||!arguments[1]),i="attrName"in s?s.attrName:s.blotName;"string"==typeof i?this.register(`formats/${i}`,s,t):Object.keys(s).forEach(o=>{this.register(o,s[o],t)})}else{const s=arguments.length<=0?void 0:arguments[0],t=arguments.length<=1?void 0:arguments[1];null!=this.imports[s]&&!(!(arguments.length<=2)&&arguments[2])&&hi.warn(`Overwriting ${s} with`,t),this.imports[s]=t,(s.startsWith("blots/")||s.startsWith("formats/"))&&t&&"boolean"!=typeof t&&"abstract"!==t.blotName&&Ls.register(t),"function"==typeof t.register&&t.register(Ls)}}constructor(s){if(this.options=function Fb(n,s){const t=fr(n);if(!t)throw new Error("Invalid Quill container");const o=s.theme&&s.theme!==I.DEFAULTS.theme?I.import(`themes/${s.theme}`):ks;if(!o)throw new Error(`Invalid theme ${s.theme}. Did you register it?`);const{modules:l,...r}=I.DEFAULTS,{modules:c,...d}=o.DEFAULTS;let h=Eo(s.modules);null!=h&&h.toolbar&&h.toolbar.constructor!==Object&&(h={...h,toolbar:{container:h.toolbar}});const v=en({},Eo(l),Eo(c),h),E={...r,...mr(d),...mr(s)};let A=s.registry;return A?s.formats&&hi.warn('Ignoring "formats" option because "registry" is specified'):A=s.formats?((n,s,t)=>{const i=new ri;return Ob.forEach(o=>{const l=s.query(o);l&&i.register(l)}),n.forEach(o=>{let l=s.query(o);l||t.error(`Cannot register "${o}" specified in "formats" config. Are you sure it was registered?`);let r=0;for(;l;)if(i.register(l),l="blotName"in l?l.requiredContainer??null:null,r+=1,r>100){t.error(`Cycle detected in registering blot requiredContainer: "${o}"`);break}}),i})(s.formats,E.registry,hi):E.registry,{...E,registry:A,container:t,theme:o,modules:Object.entries(v).reduce((Q,J)=>{let[ae,ve]=J;if(!ve)return Q;const W=I.import(`modules/${ae}`);return null==W?(hi.error(`Cannot load ${ae} module. Are you sure you registered it?`),Q):{...Q,[ae]:en({},W.DEFAULTS||{},ve)}},{}),bounds:fr(E.bounds)}}(s,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}),this.container=this.options.container,null==this.container)return void hi.error("Invalid Quill container",s);this.options.debug&&I.debug(this.options.debug);const i=this.container.innerHTML.trim();this.container.classList.add("ql-container"),this.container.innerHTML="",_o.set(this.container,this),this.root=this.addContainer("ql-editor"),this.root.classList.add("ql-blank"),this.emitter=new $;const o=oo.blotName,l=this.options.registry.query(o);if(!l||!("blotName"in l))throw new Error(`Cannot initialize Quill without "${o}" blot`);if(this.scroll=new l(this.options.registry,this.root,{emitter:this.emitter}),this.editor=new class Cb{constructor(s){this.scroll=s,this.delta=this.getDelta()}applyDelta(s){this.scroll.update();let t=this.scroll.length();this.scroll.batchStart();const i=dr(s),o=new M;return function xb(n){const s=[];return n.forEach(t=>{"string"==typeof t.insert?t.insert.split("\n").forEach((o,l)=>{l&&s.push({insert:"\n",attributes:t.attributes}),o&&s.push({insert:o,attributes:t.attributes})}):s.push(t)}),s}(i.ops.slice()).reduce((r,c)=>{const d=M.Op.length(c);let h=c.attributes||{},v=!1,E=!1;if(null!=c.insert){if(o.retain(d),"string"==typeof c.insert){const J=c.insert;E=!J.endsWith("\n")&&(t<=r||!!this.scroll.descendant(tt,r)[0]),this.scroll.insertAt(r,J);const[ae,ve]=this.scroll.line(r);let W=en({},nt(ae));if(ae instanceof Ke){const[Oe]=ae.descendant($e,ve);Oe&&(W=en(W,nt(Oe)))}h=M.AttributeMap.diff(W,h)||{}}else if("object"==typeof c.insert){const J=Object.keys(c.insert)[0];if(null==J)return r;const ae=null!=this.scroll.query(J,P.INLINE);if(ae)(t<=r||this.scroll.descendant(tt,r)[0])&&(E=!0);else if(r>0){const[ve,W]=this.scroll.descendant($e,r-1);ve instanceof ht?"\n"!==ve.value()[W]&&(v=!0):ve instanceof Xe&&ve.statics.scope===P.INLINE_BLOT&&(v=!0)}if(this.scroll.insertAt(r,J,c.insert[J]),ae){const[ve]=this.scroll.descendant($e,r);if(ve){const W=en({},nt(ve));h=M.AttributeMap.diff(W,h)||{}}}}t+=d}else if(o.push(c),null!==c.retain&&"object"==typeof c.retain){const J=Object.keys(c.retain)[0];if(null==J)return r;this.scroll.updateEmbedAt(r,J,c.retain[J])}Object.keys(h).forEach(J=>{this.scroll.formatAt(r,d,J,h[J])});const A=v?1:0,Q=E?1:0;return t+=A+Q,o.retain(A),o.delete(Q),r+d+A+Q},0),o.reduce((r,c)=>"number"==typeof c.delete?(this.scroll.deleteAt(r,c.delete),r):r+M.Op.length(c),0),this.scroll.batchEnd(),this.scroll.optimize(),this.update(i)}deleteText(s,t){return this.scroll.deleteAt(s,t),this.update((new M).retain(s).delete(t))}formatLine(s,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.scroll.update(),Object.keys(i).forEach(l=>{this.scroll.lines(s,Math.max(t,1)).forEach(r=>{r.format(l,i[l])})}),this.scroll.optimize();const o=(new M).retain(s).retain(t,di(i));return this.update(o)}formatText(s,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.keys(i).forEach(l=>{this.scroll.formatAt(s,t,l,i[l])});const o=(new M).retain(s).retain(t,di(i));return this.update(o)}getContents(s,t){return this.delta.slice(s,s+t)}getDelta(){return this.scroll.lines().reduce((s,t)=>s.concat(t.delta()),new M)}getFormat(s){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=[],o=[];0===t?this.scroll.path(s).forEach(c=>{const[d]=c;d instanceof Ke?i.push(d):d instanceof $e&&o.push(d)}):(i=this.scroll.lines(s,t),o=this.scroll.descendants($e,s,t));const[l,r]=[i,o].map(c=>{const d=c.shift();if(null==d)return{};let h=nt(d);for(;Object.keys(h).length>0;){const v=c.shift();if(null==v)return h;h=Ib(nt(v),h)}return h});return{...l,...r}}getHTML(s,t){const[i,o]=this.scroll.line(s);if(i){const l=i.length();return i.length()>=o+t&&(0!==o||t!==l)?ns(i,o,t,!0):ns(this.scroll,s,t,!0)}return""}getText(s,t){return this.getContents(s,t).filter(i=>"string"==typeof i.insert).map(i=>i.insert).join("")}insertContents(s,t){const i=dr(t),o=(new M).retain(s).concat(i);return this.scroll.insertContents(s,i),this.update(o)}insertEmbed(s,t,i){return this.scroll.insertAt(s,t,i),this.update((new M).retain(s).insert({[t]:i}))}insertText(s,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return t=t.replace(/\r\n/g,"\n").replace(/\r/g,"\n"),this.scroll.insertAt(s,t),Object.keys(i).forEach(o=>{this.scroll.formatAt(s,t.length,o,i[o])}),this.update((new M).retain(s).insert(t,di(i)))}isBlank(){if(0===this.scroll.children.length)return!0;if(this.scroll.children.length>1)return!1;const s=this.scroll.children.head;return s?.statics.blotName===Ke.blotName&&!(s.children.length>1)&&s.children.head instanceof Dt}removeFormat(s,t){const i=this.getText(s,t),[o,l]=this.scroll.line(s+t);let r=0,c=new M;null!=o&&(r=o.length()-l,c=o.delta().slice(l,l+r-1).insert("\n"));const h=this.getContents(s,t+r).diff((new M).insert(i).concat(c)),v=(new M).retain(s).concat(h);return this.applyDelta(v)}update(s){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;const o=this.delta;if(1===t.length&&"characterData"===t[0].type&&t[0].target.data.match(Tb)&&this.scroll.find(t[0].target)){const l=this.scroll.find(t[0].target),r=nt(l),c=l.offset(this.scroll),d=t[0].oldValue.replace(Es.CONTENTS,""),h=(new M).insert(d),v=(new M).insert(l.value()),E=i&&{oldRange:pr(i.oldRange,-c),newRange:pr(i.newRange,-c)};s=(new M).retain(c).concat(h.diff(v,E)).reduce((Q,J)=>J.insert?Q.insert(J.insert,r):Q.push(J),new M),this.delta=o.compose(s)}else this.delta=this.getDelta(),(!s||!go(o.compose(s),this.delta))&&(s=o.diff(this.delta,i));return s}}(this.scroll),this.selection=new class vb{constructor(s,t){this.emitter=t,this.scroll=s,this.composing=!1,this.mouseDown=!1,this.root=this.scroll.domNode,this.cursor=this.scroll.create("cursor",this),this.savedRange=new En(0,0),this.lastRange=this.savedRange,this.lastNative=null,this.handleComposition(),this.handleDragging(),this.emitter.listenDOM("selectionchange",document,()=>{!this.mouseDown&&!this.composing&&setTimeout(this.update.bind(this,$.sources.USER),1)}),this.emitter.on($.events.SCROLL_BEFORE_UPDATE,()=>{if(!this.hasFocus())return;const i=this.getNativeRange();null!=i&&i.start.node!==this.cursor.textNode&&this.emitter.once($.events.SCROLL_UPDATE,(o,l)=>{try{this.root.contains(i.start.node)&&this.root.contains(i.end.node)&&this.setNativeRange(i.start.node,i.start.offset,i.end.node,i.end.offset);const r=l.some(c=>"characterData"===c.type||"childList"===c.type||"attributes"===c.type&&c.target===this.root);this.update(r?$.sources.SILENT:o)}catch{}})}),this.emitter.on($.events.SCROLL_OPTIMIZE,(i,o)=>{if(o.range){const{startNode:l,startOffset:r,endNode:c,endOffset:d}=o.range;this.setNativeRange(l,r,c,d),this.update($.sources.SILENT)}}),this.update($.sources.SILENT)}handleComposition(){this.emitter.on($.events.COMPOSITION_BEFORE_START,()=>{this.composing=!0}),this.emitter.on($.events.COMPOSITION_END,()=>{if(this.composing=!1,this.cursor.parent){const s=this.cursor.restore();if(!s)return;setTimeout(()=>{this.setNativeRange(s.startNode,s.startOffset,s.endNode,s.endOffset)},1)}})}handleDragging(){this.emitter.listenDOM("mousedown",document.body,()=>{this.mouseDown=!0}),this.emitter.listenDOM("mouseup",document.body,()=>{this.mouseDown=!1,this.update($.sources.USER)})}focus(){this.hasFocus()||(this.root.focus({preventScroll:!0}),this.setRange(this.savedRange))}format(s,t){this.scroll.update();const i=this.getNativeRange();if(null!=i&&i.native.collapsed&&!this.scroll.query(s,P.BLOCK)){if(i.start.node!==this.cursor.textNode){const o=this.scroll.find(i.start.node,!1);if(null==o)return;if(o instanceof $e){const l=o.split(i.start.offset);o.parent.insertBefore(this.cursor,l)}else o.insertBefore(this.cursor,i.start.node);this.cursor.attach()}this.cursor.format(s,t),this.scroll.optimize(),this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length),this.update()}}getBounds(s){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const i=this.scroll.length();s=Math.min(s,i-1),t=Math.min(s+t,i-1)-s;let o,[l,r]=this.scroll.leaf(s);if(null==l)return null;if(t>0&&r===l.length()){const[v]=this.scroll.leaf(s+1);if(v){const[E]=this.scroll.line(s),[A]=this.scroll.line(s+1);E===A&&(l=v,r=0)}}[o,r]=l.position(r,!0);const c=document.createRange();if(t>0)return c.setStart(o,r),[l,r]=this.scroll.leaf(s+t),null==l?null:([o,r]=l.position(r,!0),c.setEnd(o,r),c.getBoundingClientRect());let h,d="left";if(o instanceof Text){if(!o.data.length)return null;r<o.data.length?(c.setStart(o,r),c.setEnd(o,r+1)):(c.setStart(o,r-1),c.setEnd(o,r),d="right"),h=c.getBoundingClientRect()}else{if(!(l.domNode instanceof Element))return null;h=l.domNode.getBoundingClientRect(),r>0&&(d="right")}return{bottom:h.top+h.height,height:h.height,left:h[d],right:h[d],top:h.top,width:0}}getNativeRange(){const s=document.getSelection();if(null==s||s.rangeCount<=0)return null;const t=s.getRangeAt(0);if(null==t)return null;const i=this.normalizeNative(t);return Co.info("getNativeRange",i),i}getRange(){const s=this.scroll.domNode;if("isConnected"in s&&!s.isConnected)return[null,null];const t=this.getNativeRange();return null==t?[null,null]:[this.normalizedToRange(t),t]}hasFocus(){return document.activeElement===this.root||null!=document.activeElement&&Io(this.root,document.activeElement)}normalizedToRange(s){const t=[[s.start.node,s.start.offset]];s.native.collapsed||t.push([s.end.node,s.end.offset]);const i=t.map(r=>{const[c,d]=r,h=this.scroll.find(c,!0),v=h.offset(this.scroll);return 0===d?v:h instanceof $e?v+h.index(c,d):v+h.length()}),o=Math.min(Math.max(...i),this.scroll.length()-1),l=Math.min(o,...i);return new En(l,o-l)}normalizeNative(s){if(!Io(this.root,s.startContainer)||!s.collapsed&&!Io(this.root,s.endContainer))return null;const t={start:{node:s.startContainer,offset:s.startOffset},end:{node:s.endContainer,offset:s.endOffset},native:s};return[t.start,t.end].forEach(i=>{let{node:o,offset:l}=i;for(;!(o instanceof Text)&&o.childNodes.length>0;)if(o.childNodes.length>l)o=o.childNodes[l],l=0;else{if(o.childNodes.length!==l)break;o=o.lastChild,l=o instanceof Text?o.data.length:o.childNodes.length>0?o.childNodes.length:o.childNodes.length+1}i.node=o,i.offset=l}),t}rangeToNative(s){const t=this.scroll.length(),i=(o,l)=>{o=Math.min(t-1,o);const[r,c]=this.scroll.leaf(o);return r?r.position(c,l):[null,-1]};return[...i(s.index,!1),...i(s.index+s.length,!0)]}setNativeRange(s,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:s,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t,l=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(Co.info("setNativeRange",s,t,i,o),null!=s&&(null==this.root.parentNode||null==s.parentNode||null==i.parentNode))return;const r=document.getSelection();if(null!=r)if(null!=s){this.hasFocus()||this.root.focus({preventScroll:!0});const{native:c}=this.getNativeRange()||{};if(null==c||l||s!==c.startContainer||t!==c.startOffset||i!==c.endContainer||o!==c.endOffset){s instanceof Element&&"BR"===s.tagName&&(t=Array.from(s.parentNode.childNodes).indexOf(s),s=s.parentNode),i instanceof Element&&"BR"===i.tagName&&(o=Array.from(i.parentNode.childNodes).indexOf(i),i=i.parentNode);const d=document.createRange();d.setStart(s,t),d.setEnd(i,o),r.removeAllRanges(),r.addRange(d)}}else r.removeAllRanges(),this.root.blur()}setRange(s){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:$.sources.API;if("string"==typeof t&&(i=t,t=!1),Co.info("setRange",s),null!=s){const o=this.rangeToNative(s);this.setNativeRange(...o,t)}else this.setNativeRange(null);this.update(i)}update(){let s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$.sources.USER;const t=this.lastRange,[i,o]=this.getRange();if(this.lastRange=i,this.lastNative=o,null!=this.lastRange&&(this.savedRange=this.lastRange),!go(t,this.lastRange)){if(!this.composing&&null!=o&&o.native.collapsed&&o.start.node!==this.cursor.textNode){const r=this.cursor.restore();r&&this.setNativeRange(r.startNode,r.startOffset,r.endNode,r.endOffset)}const l=[$.events.SELECTION_CHANGE,di(this.lastRange),di(t),s];this.emitter.emit($.events.EDITOR_CHANGE,...l),s!==$.sources.SILENT&&this.emitter.emit(...l)}}}(this.scroll,this.emitter),this.composition=new class Sb{isComposing=!1;constructor(s,t){this.scroll=s,this.emitter=t,this.setupListeners()}setupListeners(){this.scroll.domNode.addEventListener("compositionstart",s=>{this.isComposing||this.handleCompositionStart(s)}),this.scroll.domNode.addEventListener("compositionend",s=>{this.isComposing&&queueMicrotask(()=>{this.handleCompositionEnd(s)})})}handleCompositionStart(s){const t=s.target instanceof Node?this.scroll.find(s.target,!0):null;t&&!(t instanceof wo)&&(this.emitter.emit($.events.COMPOSITION_BEFORE_START,s),this.scroll.batchStart(),this.emitter.emit($.events.COMPOSITION_START,s),this.isComposing=!0)}handleCompositionEnd(s){this.emitter.emit($.events.COMPOSITION_BEFORE_END,s),this.scroll.batchEnd(),this.emitter.emit($.events.COMPOSITION_END,s),this.isComposing=!1}}(this.scroll,this.emitter),this.theme=new this.options.theme(this,this.options),this.keyboard=this.theme.addModule("keyboard"),this.clipboard=this.theme.addModule("clipboard"),this.history=this.theme.addModule("history"),this.uploader=this.theme.addModule("uploader"),this.theme.addModule("input"),this.theme.addModule("uiNode"),this.theme.init(),this.emitter.on($.events.EDITOR_CHANGE,r=>{r===$.events.TEXT_CHANGE&&this.root.classList.toggle("ql-blank",this.editor.isBlank())}),this.emitter.on($.events.SCROLL_UPDATE,(r,c)=>{const d=this.selection.lastRange,[h]=this.selection.getRange(),v=d&&h?{oldRange:d,newRange:h}:void 0;ft.call(this,()=>this.editor.update(null,c,v),r)}),this.emitter.on($.events.SCROLL_EMBED_UPDATE,(r,c)=>{const d=this.selection.lastRange,[h]=this.selection.getRange(),v=d&&h?{oldRange:d,newRange:h}:void 0;ft.call(this,()=>{const E=(new M).retain(r.offset(this)).retain({[r.statics.blotName]:c});return this.editor.update(E,[],v)},I.sources.USER)}),i){const r=this.clipboard.convert({html:`${i}<p><br></p>`,text:"\n"});this.setContents(r)}this.history.clear(),this.options.placeholder&&this.root.setAttribute("data-placeholder",this.options.placeholder),this.options.readOnly&&this.disable(),this.allowReadOnlyEdits=!1}addContainer(s){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if("string"==typeof s){const i=s;(s=document.createElement("div")).classList.add(i)}return this.container.insertBefore(s,t),s}blur(){this.selection.setRange(null)}deleteText(s,t,i){return[s,t,,i]=Ft(s,t,i),ft.call(this,()=>this.editor.deleteText(s,t),i,s,-1*t)}disable(){this.enable(!1)}editReadOnly(s){this.allowReadOnlyEdits=!0;const t=s();return this.allowReadOnlyEdits=!1,t}enable(){let s=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.scroll.enable(s),this.container.classList.toggle("ql-disabled",!s)}focus(){let s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.selection.focus(),s.preventScroll||this.scrollSelectionIntoView()}format(s,t){return ft.call(this,()=>{const o=this.getSelection(!0);let l=new M;if(null==o)return l;if(this.scroll.query(s,P.BLOCK))l=this.editor.formatLine(o.index,o.length,{[s]:t});else{if(0===o.length)return this.selection.format(s,t),l;l=this.editor.formatText(o.index,o.length,{[s]:t})}return this.setSelection(o,$.sources.SILENT),l},arguments.length>2&&void 0!==arguments[2]?arguments[2]:$.sources.API)}formatLine(s,t,i,o,l){let r;return[s,t,r,l]=Ft(s,t,i,o,l),ft.call(this,()=>this.editor.formatLine(s,t,r),l,s,0)}formatText(s,t,i,o,l){let r;return[s,t,r,l]=Ft(s,t,i,o,l),ft.call(this,()=>this.editor.formatText(s,t,r),l,s,0)}getBounds(s){let i=null;if(i="number"==typeof s?this.selection.getBounds(s,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0):this.selection.getBounds(s.index,s.length),!i)return null;const o=this.container.getBoundingClientRect();return{bottom:i.bottom-o.top,height:i.height,left:i.left-o.left,right:i.right-o.left,top:i.top-o.top,width:i.width}}getContents(){let s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.getLength()-s;return[s,t]=Ft(s,t),this.editor.getContents(s,t)}getFormat(){let s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.getSelection(!0);return"number"==typeof s?this.editor.getFormat(s,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0):this.editor.getFormat(s.index,s.length)}getIndex(s){return s.offset(this.scroll)}getLength(){return this.scroll.length()}getLeaf(s){return this.scroll.leaf(s)}getLine(s){return this.scroll.line(s)}getLines(){let s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.MAX_VALUE;return"number"!=typeof s?this.scroll.lines(s.index,s.length):this.scroll.lines(s,t)}getModule(s){return this.theme.modules[s]}getSelection(){return arguments.length>0&&void 0!==arguments[0]&&arguments[0]&&this.focus(),this.update(),this.selection.getRange()[0]}getSemanticHTML(){let s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0;return"number"==typeof s&&(t=t??this.getLength()-s),[s,t]=Ft(s,t),this.editor.getHTML(s,t)}getText(){let s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0;return"number"==typeof s&&(t=t??this.getLength()-s),[s,t]=Ft(s,t),this.editor.getText(s,t)}hasFocus(){return this.selection.hasFocus()}insertEmbed(s,t,i){return ft.call(this,()=>this.editor.insertEmbed(s,t,i),arguments.length>3&&void 0!==arguments[3]?arguments[3]:I.sources.API,s)}insertText(s,t,i,o,l){let r;return[s,,r,l]=Ft(s,0,i,o,l),ft.call(this,()=>this.editor.insertText(s,t,r),l,s,t.length)}isEnabled(){return this.scroll.isEnabled()}off(){return this.emitter.off(...arguments)}on(){return this.emitter.on(...arguments)}once(){return this.emitter.once(...arguments)}removeFormat(s,t,i){return[s,t,,i]=Ft(s,t,i),ft.call(this,()=>this.editor.removeFormat(s,t),i,s)}scrollRectIntoView(s){((n,s)=>{const t=n.ownerDocument;let i=s,o=n;for(;o;){const l=o===t.body,r=l?{top:0,right:window.visualViewport?.width??t.documentElement.clientWidth,bottom:window.visualViewport?.height??t.documentElement.clientHeight,left:0}:Lb(o),c=getComputedStyle(o),d=hr(i.left,i.right,r.left,r.right,Ns(c.scrollPaddingLeft),Ns(c.scrollPaddingRight)),h=hr(i.top,i.bottom,r.top,r.bottom,Ns(c.scrollPaddingTop),Ns(c.scrollPaddingBottom));if(d||h)if(l)t.defaultView?.scrollBy(d,h);else{const{scrollLeft:v,scrollTop:E}=o;h&&(o.scrollTop+=h),d&&(o.scrollLeft+=d);const A=o.scrollLeft-v,Q=o.scrollTop-E;i={left:i.left-A,top:i.top-Q,right:i.right-A,bottom:i.bottom-Q}}o=l||"fixed"===c.position?null:Nb(o)}})(this.root,s)}scrollIntoView(){console.warn("Quill#scrollIntoView() has been deprecated and will be removed in the near future. Please use Quill#scrollSelectionIntoView() instead."),this.scrollSelectionIntoView()}scrollSelectionIntoView(){const s=this.selection.lastRange,t=s&&this.selection.getBounds(s.index,s.length);t&&this.scrollRectIntoView(t)}setContents(s){return ft.call(this,()=>{s=new M(s);const i=this.getLength(),o=this.editor.deleteText(0,i),l=this.editor.insertContents(0,s),r=this.editor.deleteText(this.getLength()-1,1);return o.compose(l).compose(r)},arguments.length>1&&void 0!==arguments[1]?arguments[1]:$.sources.API)}setSelection(s,t,i){null==s?this.selection.setRange(null,t||I.sources.API):([s,t,,i]=Ft(s,t,i),this.selection.setRange(new En(Math.max(0,s),t),i),i!==$.sources.SILENT&&this.scrollSelectionIntoView())}setText(s){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:$.sources.API;const i=(new M).insert(s);return this.setContents(i,t)}update(){let s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$.sources.USER;const t=this.scroll.update(s);return this.selection.update(s),t}updateContents(s){return ft.call(this,()=>(s=new M(s),this.editor.applyDelta(s)),arguments.length>1&&void 0!==arguments[1]?arguments[1]:$.sources.API,!0)}}function fr(n){return"string"==typeof n?document.querySelector(n):n}function Eo(n){return Object.entries(n??{}).reduce((s,t)=>{let[i,o]=t;return{...s,[i]:!0===o?{}:o}},{})}function mr(n){return Object.fromEntries(Object.entries(n).filter(s=>void 0!==s[1]))}function ft(n,s,t,i){if(!this.isEnabled()&&s===$.sources.USER&&!this.allowReadOnlyEdits)return new M;let o=null==t?null:this.getSelection();const l=this.editor.delta,r=n();if(null!=o&&(!0===t&&(t=o.index),null==i?o=gr(o,r,s):0!==i&&(o=gr(o,t,i,s)),this.setSelection(o,$.sources.SILENT)),r.length()>0){const c=[$.events.TEXT_CHANGE,r,l,s];this.emitter.emit($.events.EDITOR_CHANGE,...c),s!==$.sources.SILENT&&this.emitter.emit(...c)}return r}function Ft(n,s,t,i,o){let l={};return"number"==typeof n.index&&"number"==typeof n.length?"number"!=typeof s?(o=i,i=t,t=s,s=n.length,n=n.index):(s=n.length,n=n.index):"number"!=typeof s&&(o=i,i=t,t=s,s=0),"object"==typeof t?(l=t,o=i):"string"==typeof t&&(null!=i?l[t]=i:o=t),[n,s,l,o=o||$.sources.API]}function gr(n,s,t,i){const o="number"==typeof t?t:0;if(null==n)return null;let l,r;return[l,r]=[n.index,n.index+n.length].map(s&&"function"==typeof s.transformPosition?c=>s.transformPosition(c,i!==$.sources.USER):c=>c<s||c===s&&i===$.sources.USER?c:o>=0?c+o:Math.max(s,c+o)),new En(l,r-l)}const Sn=class Mb extends ys{};function _r(n){return n instanceof Ke||n instanceof tt}function br(n){return"function"==typeof n.updateContent}function So(n,s,t){t.reduce((i,o)=>{const l=M.Op.length(o);let r=o.attributes||{};if(null!=o.insert)if("string"==typeof o.insert){n.insertAt(i,o.insert);const[d]=n.descendant($e,i),h=nt(d);r=M.AttributeMap.diff(h,r)||{}}else if("object"==typeof o.insert){const c=Object.keys(o.insert)[0];if(null==c)return i;if(n.insertAt(i,c,o.insert[c]),null!=n.scroll.query(c,P.INLINE)){const[h]=n.descendant($e,i),v=nt(h);r=M.AttributeMap.diff(v,r)||{}}}return Object.keys(r).forEach(c=>{n.formatAt(i,l,c,r[c])}),i+l},s)}const Gb=(()=>class n extends oo{static blotName="scroll";static className="ql-editor";static tagName="DIV";static defaultChild=Ke;static allowedChildren=[Ke,tt,Sn];constructor(t,i,o){let{emitter:l}=o;super(t,i),this.emitter=l,this.batch=!1,this.optimize(),this.enable(),this.domNode.addEventListener("dragstart",r=>this.handleDragStart(r))}batchStart(){Array.isArray(this.batch)||(this.batch=[])}batchEnd(){if(!this.batch)return;const t=this.batch;this.batch=!1,this.update(t)}emitMount(t){this.emitter.emit($.events.SCROLL_BLOT_MOUNT,t)}emitUnmount(t){this.emitter.emit($.events.SCROLL_BLOT_UNMOUNT,t)}emitEmbedUpdate(t,i){this.emitter.emit($.events.SCROLL_EMBED_UPDATE,t,i)}deleteAt(t,i){const[o,l]=this.line(t),[r]=this.line(t+i);if(super.deleteAt(t,i),null!=r&&o!==r&&l>0){if(o instanceof tt||r instanceof tt)return void this.optimize();o.moveChildren(r,r.children.head instanceof Dt?null:r.children.head),o.remove()}this.optimize()}enable(){this.domNode.setAttribute("contenteditable",arguments.length>0&&void 0!==arguments[0]&&!arguments[0]?"false":"true")}formatAt(t,i,o,l){super.formatAt(t,i,o,l),this.optimize()}insertAt(t,i,o){if(t>=this.length())if(null==o||null==this.scroll.query(i,P.BLOCK)){const l=this.scroll.create(this.statics.defaultChild.blotName);this.appendChild(l),null==o&&i.endsWith("\n")?l.insertAt(0,i.slice(0,-1),o):l.insertAt(0,i,o)}else{const l=this.scroll.create(i,o);this.appendChild(l)}else super.insertAt(t,i,o);this.optimize()}insertBefore(t,i){if(t.statics.scope===P.INLINE_BLOT){const o=this.scroll.create(this.statics.defaultChild.blotName);o.appendChild(t),super.insertBefore(o,i)}else super.insertBefore(t,i)}insertContents(t,i){const o=this.deltaToRenderBlocks(i.concat((new M).insert("\n"))),l=o.pop();if(null==l)return;this.batchStart();const r=o.shift();if(r){const h="block"===r.type&&(0===r.delta.length()||!this.descendant(tt,t)[0]&&t<this.length()),v="block"===r.type?r.delta:(new M).insert({[r.key]:r.value});So(this,t,v);const E="block"===r.type?1:0,A=t+v.length()+E;h&&this.insertAt(A-1,"\n");const Q=nt(this.line(t)[0]),J=M.AttributeMap.diff(Q,r.attributes)||{};Object.keys(J).forEach(ae=>{this.formatAt(A-1,1,ae,J[ae])}),t=A}let[c,d]=this.children.find(t);o.length&&(c&&(c=c.split(d),d=0),o.forEach(h=>{if("block"===h.type)So(this.createBlock(h.attributes,c||void 0),0,h.delta);else{const v=this.create(h.key,h.value);this.insertBefore(v,c||void 0),Object.keys(h.attributes).forEach(E=>{v.format(E,h.attributes[E])})}})),"block"===l.type&&l.delta.length()&&So(this,c?c.offset(c.scroll)+d:this.length(),l.delta),this.batchEnd(),this.optimize()}isEnabled(){return"true"===this.domNode.getAttribute("contenteditable")}leaf(t){const i=this.path(t).pop();if(!i)return[null,-1];const[o,l]=i;return o instanceof $e?[o,l]:[null,-1]}line(t){return t===this.length()?this.line(t-1):this.descendant(_r,t)}lines(){const o=(l,r,c)=>{let d=[],h=c;return l.children.forEachAt(r,c,(v,E,A)=>{_r(v)?d.push(v):v instanceof ys&&(d=d.concat(o(v,E,h))),h-=A}),d};return o(this,arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.MAX_VALUE)}optimize(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.batch||(super.optimize(t,i),t.length>0&&this.emitter.emit($.events.SCROLL_OPTIMIZE,t,i))}path(t){return super.path(t).slice(1)}remove(){}update(t){if(this.batch)return void(Array.isArray(t)&&(this.batch=this.batch.concat(t)));let i=$.sources.USER;"string"==typeof t&&(i=t),Array.isArray(t)||(t=this.observer.takeRecords()),(t=t.filter(o=>{let{target:l}=o;const r=this.find(l,!0);return r&&!br(r)})).length>0&&this.emitter.emit($.events.SCROLL_BEFORE_UPDATE,i,t),super.update(t.concat([])),t.length>0&&this.emitter.emit($.events.SCROLL_UPDATE,i,t)}updateEmbedAt(t,i,o){const[l]=this.descendant(r=>r instanceof tt,t);l&&l.statics.blotName===i&&br(l)&&l.updateContent(o)}handleDragStart(t){t.preventDefault()}deltaToRenderBlocks(t){const i=[];let o=new M;return t.forEach(l=>{const r=l?.insert;if(r)if("string"==typeof r){const c=r.split("\n");c.slice(0,-1).forEach(h=>{o.insert(h,l.attributes),i.push({type:"block",delta:o,attributes:l.attributes??{}}),o=new M});const d=c[c.length-1];d&&o.insert(d,l.attributes)}else{const c=Object.keys(r)[0];if(!c)return;this.query(c,P.INLINE)?o.push(l):(o.length()&&i.push({type:"block",delta:o,attributes:{}}),o=new M,i.push({type:"blockEmbed",key:c,value:r[c],attributes:l.attributes??{}}))}}),o.length()&&i.push({type:"block",delta:o,attributes:{}}),i}createBlock(t,i){let o;const l={};Object.entries(t).forEach(d=>{let[h,v]=d;null!=this.query(h,P.BLOCK&P.BLOT)?o=h:l[h]=v});const r=this.create(o||this.statics.defaultChild.blotName,o?t[o]:void 0);this.insertBefore(r,i||void 0);const c=r.length();return Object.entries(l).forEach(d=>{let[h,v]=d;r.formatAt(0,c,h,v)}),r}})(),ko={scope:P.BLOCK,whitelist:["right","center","justify"]},Bb=new vt("align","align",ko),vr=new dt("align","ql-align",ko),yr=new tn("align","text-align",ko);class Tr extends tn{value(s){let t=super.value(s);return t.startsWith("rgb(")?(t=t.replace(/^[^\d]+/,"").replace(/[^\d]+$/,""),`#${t.split(",").map(o=>`00${parseInt(o,10).toString(16)}`.slice(-2)).join("")}`):t}}const qb=new dt("color","ql-color",{scope:P.INLINE}),No=new Tr("color","color",{scope:P.INLINE}),$b=new dt("background","ql-bg",{scope:P.INLINE}),Lo=new Tr("background","background-color",{scope:P.INLINE});class kn extends Sn{static create(s){const t=super.create(s);return t.setAttribute("spellcheck","false"),t}code(s,t){return this.children.map(i=>i.length()<=1?"":i.domNode.innerText).join("\n").slice(s,s+t)}html(s,t){return`<pre>\n${ws(this.code(s,t))}\n</pre>`}}let Pe=(()=>class n extends Ke{static TAB="  ";static register(){I.register(kn)}})(),Vb=(()=>{class n extends nn{}return n.blotName="code",n.tagName="CODE",n})();Pe.blotName="code-block",Pe.className="ql-code-block",Pe.tagName="DIV",kn.blotName="code-block-container",kn.className="ql-code-block-container",kn.tagName="DIV",kn.allowedChildren=[Pe],Pe.allowedChildren=[ht,Dt,Es],Pe.requiredContainer=kn;const Ao={scope:P.BLOCK,whitelist:["rtl"]},Cr=new vt("direction","dir",Ao),Ir=new dt("direction","ql-direction",Ao),xr=new tn("direction","direction",Ao),wr={scope:P.INLINE,whitelist:["serif","monospace"]},Er=new dt("font","ql-font",wr),Sr=new class Ub extends tn{value(s){return super.value(s).replace(/["']/g,"")}}("font","font-family",wr),kr=new dt("size","ql-size",{scope:P.INLINE,whitelist:["small","large","huge"]}),Nr=new tn("size","font-size",{scope:P.INLINE,whitelist:["10px","18px","32px"]}),Pb=wn("quill:keyboard"),Hb=/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey";class As extends yt{static match(s,t){return!["altKey","ctrlKey","metaKey","shiftKey"].some(i=>!!t[i]!==s[i]&&null!==t[i])&&(t.key===s.key||t.key===s.which)}constructor(s,t){super(s,t),this.bindings={},Object.keys(this.options.bindings).forEach(i=>{this.options.bindings[i]&&this.addBinding(this.options.bindings[i])}),this.addBinding({key:"Enter",shiftKey:null},this.handleEnter),this.addBinding({key:"Enter",metaKey:null,ctrlKey:null,altKey:null},()=>{}),/Firefox/i.test(navigator.userAgent)?(this.addBinding({key:"Backspace"},{collapsed:!0},this.handleBackspace),this.addBinding({key:"Delete"},{collapsed:!0},this.handleDelete)):(this.addBinding({key:"Backspace"},{collapsed:!0,prefix:/^.?$/},this.handleBackspace),this.addBinding({key:"Delete"},{collapsed:!0,suffix:/^.?$/},this.handleDelete)),this.addBinding({key:"Backspace"},{collapsed:!1},this.handleDeleteRange),this.addBinding({key:"Delete"},{collapsed:!1},this.handleDeleteRange),this.addBinding({key:"Backspace",altKey:null,ctrlKey:null,metaKey:null,shiftKey:null},{collapsed:!0,offset:0},this.handleBackspace),this.listen()}addBinding(s){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const o=function zb(n){if("string"==typeof n||"number"==typeof n)n={key:n};else{if("object"!=typeof n)return null;n=di(n)}return n.shortKey&&(n[Hb]=n.shortKey,delete n.shortKey),n}(s);null!=o?("function"==typeof t&&(t={handler:t}),"function"==typeof i&&(i={handler:i}),(Array.isArray(o.key)?o.key:[o.key]).forEach(r=>{const c={...o,key:r,...t,...i};this.bindings[c.key]=this.bindings[c.key]||[],this.bindings[c.key].push(c)})):Pb.warn("Attempted to add invalid keyboard binding",o)}listen(){this.quill.root.addEventListener("keydown",s=>{if(s.defaultPrevented||s.isComposing||229===s.keyCode&&("Enter"===s.key||"Backspace"===s.key))return;const o=(this.bindings[s.key]||[]).concat(this.bindings[s.which]||[]).filter(W=>As.match(s,W));if(0===o.length)return;const l=I.find(s.target,!0);if(l&&l.scroll!==this.quill.scroll)return;const r=this.quill.getSelection();if(null==r||!this.quill.hasFocus())return;const[c,d]=this.quill.getLine(r.index),[h,v]=this.quill.getLeaf(r.index),[E,A]=0===r.length?[h,v]:this.quill.getLeaf(r.index+r.length),Q=h instanceof Ts?h.value().slice(0,v):"",J=E instanceof Ts?E.value().slice(A):"",ae={collapsed:0===r.length,empty:0===r.length&&c.length()<=1,format:this.quill.getFormat(r),line:c,offset:d,prefix:Q,suffix:J,event:s};o.some(W=>{if(null!=W.collapsed&&W.collapsed!==ae.collapsed||null!=W.empty&&W.empty!==ae.empty||null!=W.offset&&W.offset!==ae.offset)return!1;if(Array.isArray(W.format)){if(W.format.every(Oe=>null==ae.format[Oe]))return!1}else if("object"==typeof W.format&&!Object.keys(W.format).every(Oe=>!0===W.format[Oe]?null!=ae.format[Oe]:!1===W.format[Oe]?null==ae.format[Oe]:go(W.format[Oe],ae.format[Oe])))return!1;return!(null!=W.prefix&&!W.prefix.test(ae.prefix)||null!=W.suffix&&!W.suffix.test(ae.suffix))&&!0!==W.handler.call(this,r,ae,W)})&&s.preventDefault()})}handleBackspace(s,t){const i=/[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test(t.prefix)?2:1;if(0===s.index||this.quill.getLength()<=1)return;let o={};const[l]=this.quill.getLine(s.index);let r=(new M).retain(s.index-i).delete(i);if(0===t.offset){const[c]=this.quill.getLine(s.index-1);if(c&&!("block"===c.statics.blotName&&c.length()<=1)){const h=l.formats(),v=this.quill.getFormat(s.index-1,1);if(o=M.AttributeMap.diff(h,v)||{},Object.keys(o).length>0){const E=(new M).retain(s.index+l.length()-2).retain(1,o);r=r.compose(E)}}}this.quill.updateContents(r,I.sources.USER),this.quill.focus()}handleDelete(s,t){const i=/^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test(t.suffix)?2:1;if(s.index>=this.quill.getLength()-i)return;let o={};const[l]=this.quill.getLine(s.index);let r=(new M).retain(s.index).delete(i);if(t.offset>=l.length()-1){const[c]=this.quill.getLine(s.index+1);if(c){const d=l.formats(),h=this.quill.getFormat(s.index,1);o=M.AttributeMap.diff(d,h)||{},Object.keys(o).length>0&&(r=r.retain(c.length()-1).retain(1,o))}}this.quill.updateContents(r,I.sources.USER),this.quill.focus()}handleDeleteRange(s){Oo({range:s,quill:this.quill}),this.quill.focus()}handleEnter(s,t){const i=Object.keys(t.format).reduce((l,r)=>(this.quill.scroll.query(r,P.BLOCK)&&!Array.isArray(t.format[r])&&(l[r]=t.format[r]),l),{}),o=(new M).retain(s.index).delete(s.length).insert("\n",i);this.quill.updateContents(o,I.sources.USER),this.quill.setSelection(s.index+1,I.sources.SILENT),this.quill.focus()}}const Yb={bindings:{bold:Ro("bold"),italic:Ro("italic"),underline:Ro("underline"),indent:{key:"Tab",format:["blockquote","indent","list"],handler(n,s){return!(!s.collapsed||0===s.offset)||(this.quill.format("indent","+1",I.sources.USER),!1)}},outdent:{key:"Tab",shiftKey:!0,format:["blockquote","indent","list"],handler(n,s){return!(!s.collapsed||0===s.offset)||(this.quill.format("indent","-1",I.sources.USER),!1)}},"outdent backspace":{key:"Backspace",collapsed:!0,shiftKey:null,metaKey:null,ctrlKey:null,altKey:null,format:["indent","list"],offset:0,handler(n,s){null!=s.format.indent?this.quill.format("indent","-1",I.sources.USER):null!=s.format.list&&this.quill.format("list",!1,I.sources.USER)}},"indent code-block":Lr(!0),"outdent code-block":Lr(!1),"remove tab":{key:"Tab",shiftKey:!0,collapsed:!0,prefix:/\t$/,handler(n){this.quill.deleteText(n.index-1,1,I.sources.USER)}},tab:{key:"Tab",handler(n,s){if(s.format.table)return!0;this.quill.history.cutoff();const t=(new M).retain(n.index).delete(n.length).insert("\t");return this.quill.updateContents(t,I.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(n.index+1,I.sources.SILENT),!1}},"blockquote empty enter":{key:"Enter",collapsed:!0,format:["blockquote"],empty:!0,handler(){this.quill.format("blockquote",!1,I.sources.USER)}},"list empty enter":{key:"Enter",collapsed:!0,format:["list"],empty:!0,handler(n,s){const t={list:!1};s.format.indent&&(t.indent=!1),this.quill.formatLine(n.index,n.length,t,I.sources.USER)}},"checklist enter":{key:"Enter",collapsed:!0,format:{list:"checked"},handler(n){const[s,t]=this.quill.getLine(n.index),i={...s.formats(),list:"checked"},o=(new M).retain(n.index).insert("\n",i).retain(s.length()-t-1).retain(1,{list:"unchecked"});this.quill.updateContents(o,I.sources.USER),this.quill.setSelection(n.index+1,I.sources.SILENT),this.quill.scrollSelectionIntoView()}},"header enter":{key:"Enter",collapsed:!0,format:["header"],suffix:/^$/,handler(n,s){const[t,i]=this.quill.getLine(n.index),o=(new M).retain(n.index).insert("\n",s.format).retain(t.length()-i-1).retain(1,{header:null});this.quill.updateContents(o,I.sources.USER),this.quill.setSelection(n.index+1,I.sources.SILENT),this.quill.scrollSelectionIntoView()}},"table backspace":{key:"Backspace",format:["table"],collapsed:!0,offset:0,handler(){}},"table delete":{key:"Delete",format:["table"],collapsed:!0,suffix:/^$/,handler(){}},"table enter":{key:"Enter",shiftKey:null,format:["table"],handler(n){const s=this.quill.getModule("table");if(s){const[t,i,o,l]=s.getTable(n),r=function Xb(n,s,t,i){return null==s.prev&&null==s.next?null==t.prev&&null==t.next?0===i?-1:1:null==t.prev?-1:1:null==s.prev?-1:null==s.next?1:null}(0,i,o,l);if(null==r)return;let c=t.offset();if(r<0){const d=(new M).retain(c).insert("\n");this.quill.updateContents(d,I.sources.USER),this.quill.setSelection(n.index+1,n.length,I.sources.SILENT)}else if(r>0){c+=t.length();const d=(new M).retain(c).insert("\n");this.quill.updateContents(d,I.sources.USER),this.quill.setSelection(c,I.sources.USER)}}}},"table tab":{key:"Tab",shiftKey:null,format:["table"],handler(n,s){const{event:t,line:i}=s,o=i.offset(this.quill.scroll);this.quill.setSelection(t.shiftKey?o-1:o+i.length(),I.sources.USER)}},"list autofill":{key:" ",shiftKey:null,collapsed:!0,format:{"code-block":!1,blockquote:!1,table:!1},prefix:/^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,handler(n,s){if(null==this.quill.scroll.query("list"))return!0;const{length:t}=s.prefix,[i,o]=this.quill.getLine(n.index);if(o>t)return!0;let l;switch(s.prefix.trim()){case"[]":case"[ ]":l="unchecked";break;case"[x]":l="checked";break;case"-":case"*":l="bullet";break;default:l="ordered"}this.quill.insertText(n.index," ",I.sources.USER),this.quill.history.cutoff();const r=(new M).retain(n.index-o).delete(t+1).retain(i.length()-2-o).retain(1,{list:l});return this.quill.updateContents(r,I.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(n.index-t,I.sources.SILENT),!1}},"code exit":{key:"Enter",collapsed:!0,format:["code-block"],prefix:/^$/,suffix:/^\s*$/,handler(n){const[s,t]=this.quill.getLine(n.index);let i=2,o=s;for(;null!=o&&o.length()<=1&&o.formats()["code-block"];)if(o=o.prev,i-=1,i<=0){const l=(new M).retain(n.index+s.length()-t-2).retain(1,{"code-block":null}).delete(1);return this.quill.updateContents(l,I.sources.USER),this.quill.setSelection(n.index-1,I.sources.SILENT),!1}return!0}},"embed left":Rs("ArrowLeft",!1),"embed left shift":Rs("ArrowLeft",!0),"embed right":Rs("ArrowRight",!1),"embed right shift":Rs("ArrowRight",!0),"table down":Ar(!1),"table up":Ar(!0)}};function Lr(n){return{key:"Tab",shiftKey:!n,format:{"code-block":!0},handler(s,t){let{event:i}=t;const o=this.quill.scroll.query("code-block"),{TAB:l}=o;if(0===s.length&&!i.shiftKey)return this.quill.insertText(s.index,l,I.sources.USER),void this.quill.setSelection(s.index+l.length,I.sources.SILENT);const r=0===s.length?this.quill.getLines(s.index,1):this.quill.getLines(s);let{index:c,length:d}=s;r.forEach((h,v)=>{n?(h.insertAt(0,l),0===v?c+=l.length:d+=l.length):h.domNode.textContent.startsWith(l)&&(h.deleteAt(0,l.length),0===v?c-=l.length:d-=l.length)}),this.quill.update(I.sources.USER),this.quill.setSelection(c,d,I.sources.SILENT)}}}function Rs(n,s){return{key:n,shiftKey:s,altKey:null,["ArrowLeft"===n?"prefix":"suffix"]:/^$/,handler(i){let{index:o}=i;"ArrowRight"===n&&(o+=i.length+1);const[l]=this.quill.getLeaf(o);return!(l instanceof Xe&&("ArrowLeft"===n?s?this.quill.setSelection(i.index-1,i.length+1,I.sources.USER):this.quill.setSelection(i.index-1,I.sources.USER):s?this.quill.setSelection(i.index,i.length+1,I.sources.USER):this.quill.setSelection(i.index+i.length+1,I.sources.USER),1))}}}function Ro(n){return{key:n[0],shortKey:!0,handler(s,t){this.quill.format(n,!t.format[n],I.sources.USER)}}}function Ar(n){return{key:n?"ArrowUp":"ArrowDown",collapsed:!0,format:["table"],handler(s,t){const i=n?"prev":"next",o=t.line,l=o.parent[i];if(null!=l){if("table-row"===l.statics.blotName){let r=l.children.head,c=o;for(;null!=c.prev;)c=c.prev,r=r.next;const d=r.offset(this.quill.scroll)+Math.min(t.offset,r.length()-1);this.quill.setSelection(d,0,I.sources.USER)}}else{const r=o.table()[i];null!=r&&this.quill.setSelection(n?r.offset(this.quill.scroll)+r.length()-1:r.offset(this.quill.scroll),0,I.sources.USER)}return!1}}}function Oo(n){let{quill:s,range:t}=n;const i=s.getLines(t);let o={};if(i.length>1){const l=i[0].formats(),r=i[i.length-1].formats();o=M.AttributeMap.diff(r,l)||{}}s.deleteText(t,I.sources.USER),Object.keys(o).length>0&&s.formatLine(t.index,1,o,I.sources.USER),s.setSelection(t.index,I.sources.SILENT)}As.DEFAULTS=Yb;const Kb=/font-weight:\s*normal/,Qb=["P","OL","UL"],Rr=n=>n&&Qb.includes(n.tagName),ev=/\bmso-list:[^;]*ignore/i,tv=/\bmso-list:[^;]*\bl(\d+)/i,nv=/\bmso-list:[^;]*\blevel(\d+)/i,lv=[function ov(n){"urn:schemas-microsoft-com:office:word"===n.documentElement.getAttribute("xmlns:w")&&(n=>{const s=Array.from(n.querySelectorAll("[style*=mso-list]")),t=[],i=[];s.forEach(r=>{(r.getAttribute("style")||"").match(ev)?t.push(r):i.push(r)}),t.forEach(r=>r.parentNode?.removeChild(r));const o=n.documentElement.innerHTML,l=i.map(r=>((n,s)=>{const t=n.getAttribute("style"),i=t?.match(tv);if(!i)return null;const o=Number(i[1]),l=t?.match(nv),r=l?Number(l[1]):1,c=new RegExp(`@list l${o}:level${r}\\s*\\{[^\\}]*mso-level-number-format:\\s*([\\w-]+)`,"i"),d=s.match(c);return{id:o,indent:r,type:d&&"bullet"===d[1]?"bullet":"ordered",element:n}})(r,o)).filter(r=>r);for(;l.length;){const r=[];let c=l.shift();for(;c;)r.push(c),c=l.length&&l[0]?.element===c.element.nextElementSibling&&l[0].id===c.id?l.shift():null;const d=document.createElement("ul");r.forEach(E=>{const A=document.createElement("li");A.setAttribute("data-list",E.type),E.indent>1&&A.setAttribute("class","ql-indent-"+(E.indent-1)),A.innerHTML=E.element.innerHTML,d.appendChild(A)});const h=r[0]?.element,{parentNode:v}=h??{};h&&v?.replaceChild(d,h),r.slice(1).forEach(E=>{let{element:A}=E;v?.removeChild(A)})}})(n)},function Wb(n){n.querySelector('[id^="docs-internal-guid-"]')&&((n=>{Array.from(n.querySelectorAll('b[style*="font-weight"]')).filter(s=>s.getAttribute("style")?.match(Kb)).forEach(s=>{const t=n.createDocumentFragment();t.append(...s.childNodes),s.parentNode?.replaceChild(t,s)})})(n),(n=>{Array.from(n.querySelectorAll("br")).filter(s=>Rr(s.previousElementSibling)&&Rr(s.nextElementSibling)).forEach(s=>{s.parentNode?.removeChild(s)})})(n))}],av=wn("quill:clipboard"),cv=[[Node.TEXT_NODE,function Cv(n,s,t){let i=n.data;if("O:P"===n.parentElement?.tagName)return s.insert(i.trim());if(!Dr(n)){if(0===i.trim().length&&i.includes("\n")&&!function pv(n,s){return n.previousElementSibling&&n.nextElementSibling&&!sn(n.previousElementSibling,s)&&!sn(n.nextElementSibling,s)}(n,t))return s;const o=(l,r)=>{const c=r.replace(/[^\u00a0]/g,"");return c.length<1&&l?" ":c};i=i.replace(/\r\n/g," ").replace(/\n/g," "),i=i.replace(/\s\s+/g,o.bind(o,!0)),(null==n.previousSibling&&null!=n.parentElement&&sn(n.parentElement,t)||n.previousSibling instanceof Element&&sn(n.previousSibling,t))&&(i=i.replace(/^\s+/,o.bind(o,!1))),(null==n.nextSibling&&null!=n.parentElement&&sn(n.parentElement,t)||n.nextSibling instanceof Element&&sn(n.nextSibling,t))&&(i=i.replace(/\s+$/,o.bind(o,!1)))}return s.insert(i)}],[Node.TEXT_NODE,Fr],["br",function mv(n,s){return is(s,"\n")||s.insert("\n"),s}],[Node.ELEMENT_NODE,Fr],[Node.ELEMENT_NODE,function fv(n,s,t){const i=t.query(n);if(null==i)return s;if(i.prototype instanceof Xe){const o={},l=i.value(n);if(null!=l)return o[i.blotName]=l,(new M).insert(o,i.formats(n,t))}else if(i.prototype instanceof es&&!is(s,"\n")&&s.insert("\n"),"blotName"in i&&"formats"in i&&"function"==typeof i.formats)return Nn(s,i.blotName,i.formats(n,t),t);return s}],[Node.ELEMENT_NODE,function hv(n,s,t){const i=vt.keys(n),o=dt.keys(n),l=tn.keys(n),r={};return i.concat(o).concat(l).forEach(c=>{let d=t.query(c,P.ATTRIBUTE);null!=d&&(r[d.attrName]=d.value(n),r[d.attrName])||(d=uv[c],null!=d&&(d.attrName===c||d.keyName===c)&&(r[d.attrName]=d.value(n)||void 0),d=Or[c],null!=d&&(d.attrName===c||d.keyName===c)&&(d=Or[c],r[d.attrName]=d.value(n)||void 0))}),Object.entries(r).reduce((c,d)=>{let[h,v]=d;return Nn(c,h,v,t)},s)}],[Node.ELEMENT_NODE,function yv(n,s,t){const i={},o=n.style||{};return"italic"===o.fontStyle&&(i.italic=!0),"underline"===o.textDecoration&&(i.underline=!0),"line-through"===o.textDecoration&&(i.strike=!0),(o.fontWeight?.startsWith("bold")||parseInt(o.fontWeight,10)>=700)&&(i.bold=!0),s=Object.entries(i).reduce((l,r)=>{let[c,d]=r;return Nn(l,c,d,t)},s),parseFloat(o.textIndent||0)>0?(new M).insert("\t").concat(s):s}],["li",function bv(n,s,t){const i=t.query(n);if(null==i||"list"!==i.blotName||!is(s,"\n"))return s;let o=-1,l=n.parentNode;for(;null!=l;)["OL","UL"].includes(l.tagName)&&(o+=1),l=l.parentNode;return o<=0?s:s.reduce((r,c)=>c.insert?c.attributes&&"number"==typeof c.attributes.indent?r.push(c):r.insert(c.insert,{indent:o,...c.attributes||{}}):r,new M)}],["ol, ul",function vv(n,s,t){let o="OL"===n.tagName?"ordered":"bullet";const l=n.getAttribute("data-checked");return l&&(o="true"===l?"checked":"unchecked"),Nn(s,"list",o,t)}],["pre",function gv(n,s,t){const i=t.query("code-block");return Nn(s,"code-block",!i||!("formats"in i)||"function"!=typeof i.formats||i.formats(n,t),t)}],["tr",function Tv(n,s,t){const i="TABLE"===n.parentElement?.tagName?n.parentElement:n.parentElement?.parentElement;return null!=i?Nn(s,"table",Array.from(i.querySelectorAll("tr")).indexOf(n)+1,t):s}],["b",Fo("bold")],["i",Fo("italic")],["strike",Fo("strike")],["style",function _v(){return new M}]],uv=[Bb,Cr].reduce((n,s)=>(n[s.keyName]=s,n),{}),Or=[yr,Lo,No,xr,Sr,Nr].reduce((n,s)=>(n[s.keyName]=s,n),{});let dv=(()=>class n extends yt{static DEFAULTS={matchers:[]};constructor(t,i){super(t,i),this.quill.root.addEventListener("copy",o=>this.onCaptureCopy(o,!1)),this.quill.root.addEventListener("cut",o=>this.onCaptureCopy(o,!0)),this.quill.root.addEventListener("paste",this.onCapturePaste.bind(this)),this.matchers=[],cv.concat(this.options.matchers??[]).forEach(o=>{let[l,r]=o;this.addMatcher(l,r)})}addMatcher(t,i){this.matchers.push([t,i])}convert(t){let{html:i,text:o}=t,l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(l[Pe.blotName])return(new M).insert(o||"",{[Pe.blotName]:l[Pe.blotName]});if(!i)return(new M).insert(o||"",l);const r=this.convertHTML(i);return is(r,"\n")&&(null==r.ops[r.ops.length-1].attributes||l.table)?r.compose((new M).retain(r.length()-1).delete(1)):r}normalizeHTML(t){(n=>{n.documentElement&&lv.forEach(s=>{s(n)})})(t)}convertHTML(t){const i=(new DOMParser).parseFromString(t,"text/html");this.normalizeHTML(i);const o=i.body,l=new WeakMap,[r,c]=this.prepareMatching(o,l);return Do(this.quill.scroll,o,r,c,l)}dangerouslyPasteHTML(t,i){let o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:I.sources.API;if("string"==typeof t){const l=this.convert({html:t,text:""});this.quill.setContents(l,i),this.quill.setSelection(0,I.sources.SILENT)}else{const l=this.convert({html:i,text:""});this.quill.updateContents((new M).retain(t).concat(l),o),this.quill.setSelection(t+l.length(),I.sources.SILENT)}}onCaptureCopy(t){let i=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(t.defaultPrevented)return;t.preventDefault();const[o]=this.quill.selection.getRange();if(null==o)return;const{html:l,text:r}=this.onCopy(o,i);t.clipboardData?.setData("text/plain",r),t.clipboardData?.setData("text/html",l),i&&Oo({range:o,quill:this.quill})}normalizeURIList(t){return t.split(/\r?\n/).filter(i=>"#"!==i[0]).join("\n")}onCapturePaste(t){if(t.defaultPrevented||!this.quill.isEnabled())return;t.preventDefault();const i=this.quill.getSelection(!0);if(null==i)return;const o=t.clipboardData?.getData("text/html");let l=t.clipboardData?.getData("text/plain");if(!o&&!l){const c=t.clipboardData?.getData("text/uri-list");c&&(l=this.normalizeURIList(c))}const r=Array.from(t.clipboardData?.files||[]);if(!o&&r.length>0)this.quill.uploader.upload(i,r);else{if(o&&r.length>0){const c=(new DOMParser).parseFromString(o,"text/html");if(1===c.body.childElementCount&&"IMG"===c.body.firstElementChild?.tagName)return void this.quill.uploader.upload(i,r)}this.onPaste(i,{html:o,text:l})}}onCopy(t){const i=this.quill.getText(t);return{html:this.quill.getSemanticHTML(t),text:i}}onPaste(t,i){let{text:o,html:l}=i;const r=this.quill.getFormat(t.index),c=this.convert({text:o,html:l},r);av.log("onPaste",c,{text:o,html:l});const d=(new M).retain(t.index).delete(t.length).concat(c);this.quill.updateContents(d,I.sources.USER),this.quill.setSelection(d.length()-t.length,I.sources.SILENT),this.quill.scrollSelectionIntoView()}prepareMatching(t,i){const o=[],l=[];return this.matchers.forEach(r=>{const[c,d]=r;switch(c){case Node.TEXT_NODE:l.push(d);break;case Node.ELEMENT_NODE:o.push(d);break;default:Array.from(t.querySelectorAll(c)).forEach(h=>{i.has(h)?i.get(h)?.push(d):i.set(h,[d])})}}),[o,l]}})();function Nn(n,s,t,i){return i.query(s)?n.reduce((o,l)=>l.insert?l.attributes&&l.attributes[s]?o.push(l):o.insert(l.insert,{...t?{[s]:t}:{},...l.attributes}):o,new M):n}function is(n,s){let t="";for(let i=n.ops.length-1;i>=0&&t.length<s.length;--i){const o=n.ops[i];if("string"!=typeof o.insert)break;t=o.insert+t}return t.slice(-1*s.length)===s}function sn(n,s){if(!(n instanceof Element))return!1;const t=s.query(n);return!(t&&t.prototype instanceof Xe)&&["address","article","blockquote","canvas","dd","div","dl","dt","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","iframe","li","main","nav","ol","output","p","pre","section","table","td","tr","ul","video"].includes(n.tagName.toLowerCase())}const Os=new WeakMap;function Dr(n){return null!=n&&(Os.has(n)||Os.set(n,"PRE"===n.tagName||Dr(n.parentNode)),Os.get(n))}function Do(n,s,t,i,o){return s.nodeType===s.TEXT_NODE?i.reduce((l,r)=>r(s,l,n),new M):s.nodeType===s.ELEMENT_NODE?Array.from(s.childNodes||[]).reduce((l,r)=>{let c=Do(n,r,t,i,o);return r.nodeType===s.ELEMENT_NODE&&(c=t.reduce((d,h)=>h(r,d,n),c),c=(o.get(r)||[]).reduce((d,h)=>h(r,d,n),c)),l.concat(c)},new M):new M}function Fo(n){return(s,t,i)=>Nn(t,n,!0,i)}function Fr(n,s,t){if(!is(s,"\n")){if(sn(n,t)&&(n.childNodes.length>0||n instanceof HTMLParagraphElement))return s.insert("\n");if(s.length()>0&&n.nextSibling){let i=n.nextSibling;for(;null!=i;){if(sn(i,t))return s.insert("\n");const o=t.query(i);if(o&&o.prototype instanceof tt)return s.insert("\n");i=i.firstChild}}}return s}let Iv=(()=>class n extends yt{static DEFAULTS={delay:1e3,maxStack:100,userOnly:!1};lastRecorded=0;ignoreChange=!1;stack={undo:[],redo:[]};currentRange=null;constructor(t,i){super(t,i),this.quill.on(I.events.EDITOR_CHANGE,(o,l,r,c)=>{o===I.events.SELECTION_CHANGE?l&&c!==I.sources.SILENT&&(this.currentRange=l):o===I.events.TEXT_CHANGE&&(this.ignoreChange||(this.options.userOnly&&c!==I.sources.USER?this.transform(l):this.record(l,r)),this.currentRange=Mo(this.currentRange,l))}),this.quill.keyboard.addBinding({key:"z",shortKey:!0},this.undo.bind(this)),this.quill.keyboard.addBinding({key:["z","Z"],shortKey:!0,shiftKey:!0},this.redo.bind(this)),/Win/i.test(navigator.platform)&&this.quill.keyboard.addBinding({key:"y",shortKey:!0},this.redo.bind(this)),this.quill.root.addEventListener("beforeinput",o=>{"historyUndo"===o.inputType?(this.undo(),o.preventDefault()):"historyRedo"===o.inputType&&(this.redo(),o.preventDefault())})}change(t,i){if(0===this.stack[t].length)return;const o=this.stack[t].pop();if(!o)return;const l=this.quill.getContents(),r=o.delta.invert(l);this.stack[i].push({delta:r,range:Mo(o.range,r)}),this.lastRecorded=0,this.ignoreChange=!0,this.quill.updateContents(o.delta,I.sources.USER),this.ignoreChange=!1,this.restoreSelection(o)}clear(){this.stack={undo:[],redo:[]}}cutoff(){this.lastRecorded=0}record(t,i){if(0===t.ops.length)return;this.stack.redo=[];let o=t.invert(i),l=this.currentRange;const r=Date.now();if(this.lastRecorded+this.options.delay>r&&this.stack.undo.length>0){const c=this.stack.undo.pop();c&&(o=o.compose(c.delta),l=c.range)}else this.lastRecorded=r;0!==o.length()&&(this.stack.undo.push({delta:o,range:l}),this.stack.undo.length>this.options.maxStack&&this.stack.undo.shift())}redo(){this.change("redo","undo")}transform(t){Mr(this.stack.undo,t),Mr(this.stack.redo,t)}undo(){this.change("undo","redo")}restoreSelection(t){if(t.range)this.quill.setSelection(t.range,I.sources.USER);else{const i=function wv(n,s){const t=s.reduce((o,l)=>o+(l.delete||0),0);let i=s.length()-t;return function xv(n,s){const t=s.ops[s.ops.length-1];return null!=t&&(null!=t.insert?"string"==typeof t.insert&&t.insert.endsWith("\n"):null!=t.attributes&&Object.keys(t.attributes).some(i=>null!=n.query(i,P.BLOCK)))}(n,s)&&(i-=1),i}(this.quill.scroll,t.delta);this.quill.setSelection(i,I.sources.USER)}}})();function Mr(n,s){let t=s;for(let i=n.length-1;i>=0;i-=1){const o=n[i];n[i]={delta:t.transform(o.delta,!0),range:o.range&&Mo(o.range,t)},t=o.delta.transform(t),0===n[i].delta.length()&&n.splice(i,1)}}function Mo(n,s){if(!n)return n;const t=s.transformPosition(n.index);return{index:t,length:s.transformPosition(n.index+n.length)-t}}const Ev=(()=>{class n extends yt{constructor(t,i){super(t,i),t.root.addEventListener("drop",o=>{o.preventDefault();let l=null;if(document.caretRangeFromPoint)l=document.caretRangeFromPoint(o.clientX,o.clientY);else if(document.caretPositionFromPoint){const c=document.caretPositionFromPoint(o.clientX,o.clientY);l=document.createRange(),l.setStart(c.offsetNode,c.offset),l.setEnd(c.offsetNode,c.offset)}const r=l&&t.selection.normalizeNative(l);if(r){const c=t.selection.normalizedToRange(r);o.dataTransfer?.files&&this.upload(c,o.dataTransfer.files)}})}upload(t,i){const o=[];Array.from(i).forEach(l=>{l&&this.options.mimetypes?.includes(l.type)&&o.push(l)}),o.length>0&&this.options.handler.call(this,t,o)}}return n.DEFAULTS={mimetypes:["image/png","image/jpeg"],handler(s,t){if(!this.quill.scroll.query("image"))return;const i=t.map(o=>new Promise(l=>{const r=new FileReader;r.onload=()=>{l(r.result)},r.readAsDataURL(o)}));Promise.all(i).then(o=>{const l=o.reduce((r,c)=>r.insert({image:c}),(new M).retain(s.index).delete(s.length));this.quill.updateContents(l,$.sources.USER),this.quill.setSelection(s.index+o.length,$.sources.SILENT)})}},n})(),Sv=["insertText","insertReplacementText"],Av=/Mac/i.test(navigator.platform);I.register({"blots/block":Ke,"blots/block/embed":tt,"blots/break":Dt,"blots/container":Sn,"blots/cursor":Es,"blots/embed":wo,"blots/inline":nn,"blots/scroll":Gb,"blots/text":ht,"modules/clipboard":dv,"modules/history":Iv,"modules/keyboard":As,"modules/uploader":Ev,"modules/input":class kv extends yt{constructor(s,t){super(s,t),s.root.addEventListener("beforeinput",i=>{this.handleBeforeInput(i)}),/Android/i.test(navigator.userAgent)||s.on(I.events.COMPOSITION_BEFORE_START,()=>{this.handleCompositionStart()})}deleteRange(s){Oo({range:s,quill:this.quill})}replaceText(s){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(0===s.length)return!1;if(t){const i=this.quill.getFormat(s.index,1);this.deleteRange(s),this.quill.updateContents((new M).retain(s.index).insert(t,i),I.sources.USER)}else this.deleteRange(s);return this.quill.setSelection(s.index+t.length,0,I.sources.SILENT),!0}handleBeforeInput(s){if(this.quill.composition.isComposing||s.defaultPrevented||!Sv.includes(s.inputType))return;const t=s.getTargetRanges?s.getTargetRanges()[0]:null;if(!t||!0===t.collapsed)return;const i=function Nv(n){return"string"==typeof n.data?n.data:n.dataTransfer?.types.includes("text/plain")?n.dataTransfer.getData("text/plain"):null}(s);if(null==i)return;const o=this.quill.selection.normalizeNative(t),l=o?this.quill.selection.normalizedToRange(o):null;l&&this.replaceText(l,i)&&s.preventDefault()}handleCompositionStart(){const s=this.quill.getSelection();s&&this.replaceText(s)}},"modules/uiNode":class Dv extends yt{isListening=!1;selectionChangeDeadline=0;constructor(s,t){super(s,t),this.handleArrowKeys(),this.handleNavigationShortcuts()}handleArrowKeys(){this.quill.keyboard.addBinding({key:["ArrowLeft","ArrowRight"],offset:0,shiftKey:null,handler(s,t){let{line:i,event:o}=t;if(!(i instanceof pt&&i.uiNode))return!0;const l="rtl"===getComputedStyle(i.domNode).direction;return!!(l&&"ArrowRight"!==o.key||!l&&"ArrowLeft"!==o.key)||(this.quill.setSelection(s.index-1,s.length+(o.shiftKey?1:0),I.sources.USER),!1)}})}handleNavigationShortcuts(){this.quill.root.addEventListener("keydown",s=>{!s.defaultPrevented&&(n=>!!("ArrowLeft"===n.key||"ArrowRight"===n.key||"ArrowUp"===n.key||"ArrowDown"===n.key||"Home"===n.key||Av&&"a"===n.key&&!0===n.ctrlKey))(s)&&this.ensureListeningToSelectionChange()})}ensureListeningToSelectionChange(){this.selectionChangeDeadline=Date.now()+100,this.isListening||(this.isListening=!0,document.addEventListener("selectionchange",()=>{this.isListening=!1,Date.now()<=this.selectionChangeDeadline&&this.handleSelectionChange()},{once:!0}))}handleSelectionChange(){const s=document.getSelection();if(!s)return;const t=s.getRangeAt(0);if(!0!==t.collapsed||0!==t.startOffset)return;const i=this.quill.scroll.find(t.startContainer);if(!(i instanceof pt&&i.uiNode))return;const o=document.createRange();o.setStartAfter(i.uiNode),o.setEndAfter(i.uiNode),s.removeAllRanges(),s.addRange(o)}}});const jo=I,jv=new class Mv extends dt{add(s,t){let i=0;if("+1"===t||"-1"===t){const o=this.value(s)||0;i="+1"===t?o+1:o-1}else"number"==typeof t&&(i=t);return 0===i?(this.remove(s),!0):super.add(s,i.toString())}canAdd(s,t){return super.canAdd(s,t)||super.canAdd(s,parseInt(t,10))}value(s){return parseInt(super.value(s),10)||void 0}}("indent","ql-indent",{scope:P.BLOCK,whitelist:[1,2,3,4,5,6,7,8]}),Gv=(()=>class n extends Ke{static blotName="blockquote";static tagName="blockquote"})(),Bv=(()=>class n extends Ke{static blotName="header";static tagName=["H1","H2","H3","H4","H5","H6"];static formats(t){return this.tagName.indexOf(t.tagName)+1}})();let Go=(()=>{class n extends Sn{}return n.blotName="list-container",n.tagName="OL",n})(),Bo=(()=>{class n extends Ke{static create(t){const i=super.create();return i.setAttribute("data-list",t),i}static formats(t){return t.getAttribute("data-list")||void 0}static register(){I.register(Go)}constructor(t,i){super(t,i);const o=i.ownerDocument.createElement("span"),l=r=>{if(!t.isEnabled())return;const c=this.statics.formats(i,t);"checked"===c?(this.format("list","unchecked"),r.preventDefault()):"unchecked"===c&&(this.format("list","checked"),r.preventDefault())};o.addEventListener("mousedown",l),o.addEventListener("touchstart",l),this.attachUI(o)}format(t,i){t===this.statics.blotName&&i?this.domNode.setAttribute("data-list",i):super.format(t,i)}}return n.blotName="list",n.tagName="LI",n})();Go.allowedChildren=[Bo],Bo.requiredContainer=Go;const qo=(()=>class n extends nn{static blotName="bold";static tagName=["STRONG","B"];static create(){return super.create()}static formats(){return!0}optimize(t){super.optimize(t),this.domNode.tagName!==this.statics.tagName[0]&&this.replaceWith(this.statics.blotName)}})(),qv=(()=>class n extends qo{static blotName="italic";static tagName=["EM","I"]})();let Ds=(()=>class n extends nn{static blotName="link";static tagName="A";static SANITIZED_URL="about:blank";static PROTOCOL_WHITELIST=["http","https","mailto","tel","sms"];static create(t){const i=super.create(t);return i.setAttribute("href",this.sanitize(t)),i.setAttribute("rel","noopener noreferrer"),i.setAttribute("target","_blank"),i}static formats(t){return t.getAttribute("href")}static sanitize(t){return jr(t,this.PROTOCOL_WHITELIST)?t:this.SANITIZED_URL}format(t,i){t===this.statics.blotName&&i?this.domNode.setAttribute("href",this.constructor.sanitize(i)):super.format(t,i)}})();function jr(n,s){const t=document.createElement("a");t.href=n;const i=t.href.slice(0,t.href.indexOf(":"));return s.indexOf(i)>-1}const $v=(()=>class n extends nn{static blotName="script";static tagName=["SUB","SUP"];static create(t){return"super"===t?document.createElement("sup"):"sub"===t?document.createElement("sub"):super.create(t)}static formats(t){return"SUB"===t.tagName?"sub":"SUP"===t.tagName?"super":void 0}})(),Vv=(()=>class n extends qo{static blotName="strike";static tagName=["S","STRIKE"]})(),Uv=(()=>class n extends nn{static blotName="underline";static tagName="U"})(),Pv=(()=>class n extends wo{static blotName="formula";static className="ql-formula";static tagName="SPAN";static create(t){if(null==window.katex)throw new Error("Formula module requires KaTeX.");const i=super.create(t);return"string"==typeof t&&(window.katex.render(t,i,{throwOnError:!1,errorColor:"#f00"}),i.setAttribute("data-value",t)),i}static value(t){return t.getAttribute("data-value")}html(){const{formula:t}=this.value();return`<span>${t}</span>`}})(),Gr=["alt","height","width"],Hv=(()=>class n extends Xe{static blotName="image";static tagName="IMG";static create(t){const i=super.create(t);return"string"==typeof t&&i.setAttribute("src",this.sanitize(t)),i}static formats(t){return Gr.reduce((i,o)=>(t.hasAttribute(o)&&(i[o]=t.getAttribute(o)),i),{})}static match(t){return/\.(jpe?g|gif|png)$/.test(t)||/^data:image\/.+;base64/.test(t)}static sanitize(t){return jr(t,["http","https","data"])?t:"//:0"}static value(t){return t.getAttribute("src")}format(t,i){Gr.indexOf(t)>-1?i?this.domNode.setAttribute(t,i):this.domNode.removeAttribute(t):super.format(t,i)}})(),Br=["height","width"],Yv=(()=>class n extends tt{static blotName="video";static className="ql-video";static tagName="IFRAME";static create(t){const i=super.create(t);return i.setAttribute("frameborder","0"),i.setAttribute("allowfullscreen","true"),i.setAttribute("src",this.sanitize(t)),i}static formats(t){return Br.reduce((i,o)=>(t.hasAttribute(o)&&(i[o]=t.getAttribute(o)),i),{})}static sanitize(t){return Ds.sanitize(t)}static value(t){return t.getAttribute("src")}format(t,i){Br.indexOf(t)>-1?i?this.domNode.setAttribute(t,i):this.domNode.removeAttribute(t):super.format(t,i)}html(){const{video:t}=this.value();return`<a href="${t}">${t}</a>`}})(),ss=new dt("code-token","hljs",{scope:P.INLINE});let os=(()=>{class n extends nn{static formats(t,i){for(;null!=t&&t!==i.domNode;){if(t.classList&&t.classList.contains(Pe.className))return super.formats(t,i);t=t.parentNode}}constructor(t,i,o){super(t,i,o),ss.add(this.domNode,o)}format(t,i){t!==n.blotName?super.format(t,i):i?ss.add(this.domNode,i):(ss.remove(this.domNode),this.domNode.classList.remove(this.statics.className))}optimize(){super.optimize(...arguments),ss.value(this.domNode)||this.unwrap()}}return n.blotName="code-token",n.className="ql-token",n})();class it extends Pe{static create(s){const t=super.create(s);return"string"==typeof s&&t.setAttribute("data-language",s),t}static formats(s){return s.getAttribute("data-language")||"plain"}static register(){}format(s,t){s===this.statics.blotName&&t?this.domNode.setAttribute("data-language",t):super.format(s,t)}replaceWith(s,t){return this.formatAt(0,this.length(),os.blotName,!1),super.replaceWith(s,t)}}let Fs=(()=>{class n extends kn{attach(){super.attach(),this.forceNext=!1,this.scroll.emitMount(this)}format(t,i){t===it.blotName&&(this.forceNext=!0,this.children.forEach(o=>{o.format(t,i)}))}formatAt(t,i,o,l){o===it.blotName&&(this.forceNext=!0),super.formatAt(t,i,o,l)}highlight(t){let i=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(null==this.children.head)return;const l=`${Array.from(this.domNode.childNodes).filter(c=>c!==this.uiNode).map(c=>c.textContent).join("\n")}\n`,r=it.formats(this.children.head.domNode);if(i||this.forceNext||this.cachedText!==l){if(l.trim().length>0||null==this.cachedText){const c=this.children.reduce((h,v)=>h.concat(cr(v,!1)),new M),d=t(l,r);c.diff(d).reduce((h,v)=>{let{retain:E,attributes:A}=v;return E?(A&&Object.keys(A).forEach(Q=>{[it.blotName,os.blotName].includes(Q)&&this.formatAt(h,E,Q,A[Q])}),h+E):h},0)}this.cachedText=l,this.forceNext=!1}}html(t,i){const[o]=this.children.find(t);return`<pre data-language="${o?it.formats(o.domNode):"plain"}">\n${ws(this.code(t,i))}\n</pre>`}optimize(t){if(super.optimize(t),null!=this.parent&&null!=this.children.head&&null!=this.uiNode){const i=it.formats(this.children.head.domNode);i!==this.uiNode.value&&(this.uiNode.value=i)}}}return n.allowedChildren=[it],n})();it.requiredContainer=Fs,it.allowedChildren=[os,Es,ht,Dt];class qr extends yt{static register(){I.register(os,!0),I.register(it,!0),I.register(Fs,!0)}constructor(s,t){if(super(s,t),null==this.options.hljs)throw new Error("Syntax module requires highlight.js. Please include the library on the page before Quill.");this.languages=this.options.languages.reduce((i,o)=>{let{key:l}=o;return i[l]=!0,i},{}),this.highlightBlot=this.highlightBlot.bind(this),this.initListener(),this.initTimer()}initListener(){this.quill.on(I.events.SCROLL_BLOT_MOUNT,s=>{if(!(s instanceof Fs))return;const t=this.quill.root.ownerDocument.createElement("select");this.options.languages.forEach(i=>{let{key:o,label:l}=i;const r=t.ownerDocument.createElement("option");r.textContent=l,r.setAttribute("value",o),t.appendChild(r)}),t.addEventListener("change",()=>{s.format(it.blotName,t.value),this.quill.root.focus(),this.highlight(s,!0)}),null==s.uiNode&&(s.attachUI(t),s.children.head&&(t.value=it.formats(s.children.head.domNode)))})}initTimer(){let s=null;this.quill.on(I.events.SCROLL_OPTIMIZE,()=>{s&&clearTimeout(s),s=setTimeout(()=>{this.highlight(),s=null},this.options.interval)})}highlight(){let s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(this.quill.selection.composing)return;this.quill.update(I.sources.USER);const i=this.quill.getSelection();(null==s?this.quill.scroll.descendants(Fs):[s]).forEach(l=>{l.highlight(this.highlightBlot,t)}),this.quill.update(I.sources.SILENT),null!=i&&this.quill.setSelection(i,I.sources.SILENT)}highlightBlot(s){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"plain";if(t=this.languages[t]?t:"plain","plain"===t)return ws(s).split("\n").reduce((o,l,r)=>(0!==r&&o.insert("\n",{[Pe.blotName]:t}),o.insert(l)),new M);const i=this.quill.root.ownerDocument.createElement("div");return i.classList.add(Pe.className),i.innerHTML=((n,s,t)=>{if("string"==typeof n.versionString){const i=n.versionString.split(".")[0];if(parseInt(i,10)>=11)return n.highlight(t,{language:s}).value}return n.highlight(s,t).value})(this.options.hljs,t,s),Do(this.quill.scroll,i,[(o,l)=>{const r=ss.value(o);return r?l.compose((new M).retain(l.length(),{[os.blotName]:r})):l}],[(o,l)=>o.data.split("\n").reduce((r,c,d)=>(0!==d&&r.insert("\n",{[Pe.blotName]:t}),r.insert(c)),l)],new WeakMap)}}qr.DEFAULTS={hljs:window.hljs,interval:1e3,languages:[{key:"plain",label:"Plain"},{key:"bash",label:"Bash"},{key:"cpp",label:"C++"},{key:"cs",label:"C#"},{key:"css",label:"CSS"},{key:"diff",label:"Diff"},{key:"xml",label:"HTML/XML"},{key:"java",label:"Java"},{key:"javascript",label:"JavaScript"},{key:"markdown",label:"Markdown"},{key:"php",label:"PHP"},{key:"python",label:"Python"},{key:"ruby",label:"Ruby"},{key:"sql",label:"SQL"}]};let Mt=(()=>{class n extends Ke{static blotName="table";static tagName="TD";static create(t){const i=super.create();return i.setAttribute("data-row",t||Vo()),i}static formats(t){if(t.hasAttribute("data-row"))return t.getAttribute("data-row")}cellOffset(){return this.parent?this.parent.children.indexOf(this):-1}format(t,i){t===n.blotName&&i?this.domNode.setAttribute("data-row",i):super.format(t,i)}row(){return this.parent}rowOffset(){return this.row()?this.row().rowOffset():-1}table(){return this.row()&&this.row().table()}}return n})(),Ln=(()=>class n extends Sn{static blotName="table-row";static tagName="TR";checkMerge(){if(super.checkMerge()&&null!=this.next.children.head){const t=this.children.head.formats(),i=this.children.tail.formats(),o=this.next.children.head.formats(),l=this.next.children.tail.formats();return t.table===i.table&&t.table===o.table&&t.table===l.table}return!1}optimize(t){super.optimize(t),this.children.forEach(i=>{if(null==i.next)return;const o=i.formats(),l=i.next.formats();if(o.table!==l.table){const r=this.splitAfter(i);r&&r.optimize(),this.prev&&this.prev.optimize()}})}rowOffset(){return this.parent?this.parent.children.indexOf(this):-1}table(){return this.parent&&this.parent.parent}})(),on=(()=>class n extends Sn{static blotName="table-body";static tagName="TBODY"})(),$o=(()=>{class n extends Sn{static blotName="table-container";static tagName="TABLE";balanceCells(){const t=this.descendants(Ln),i=t.reduce((o,l)=>Math.max(l.children.length,o),0);t.forEach(o=>{new Array(i-o.children.length).fill(0).forEach(()=>{let l;null!=o.children.head&&(l=Mt.formats(o.children.head.domNode));const r=this.scroll.create(Mt.blotName,l);o.appendChild(r),r.optimize()})})}cells(t){return this.rows().map(i=>i.children.at(t))}deleteColumn(t){const[i]=this.descendant(on);null==i||null==i.children.head||i.children.forEach(o=>{const l=o.children.at(t);l?.remove()})}insertColumn(t){const[i]=this.descendant(on);null==i||null==i.children.head||i.children.forEach(o=>{const l=o.children.at(t),r=Mt.formats(o.children.head.domNode),c=this.scroll.create(Mt.blotName,r);o.insertBefore(c,l)})}insertRow(t){const[i]=this.descendant(on);if(null==i||null==i.children.head)return;const o=Vo(),l=this.scroll.create(Ln.blotName);i.children.head.children.forEach(()=>{const c=this.scroll.create(Mt.blotName,o);l.appendChild(c)});const r=i.children.at(t);i.insertBefore(l,r)}rows(){const t=this.children.head;return null==t?[]:t.children.map(i=>i)}}return n.allowedChildren=[on],n})();function Vo(){return`row-${Math.random().toString(36).slice(2,6)}`}on.requiredContainer=$o,on.allowedChildren=[Ln],Ln.requiredContainer=on,Ln.allowedChildren=[Mt],Mt.requiredContainer=Ln;const $r=wn("quill:toolbar");let Vr=(()=>{class n extends yt{constructor(t,i){if(super(t,i),Array.isArray(this.options.container)){const o=document.createElement("div");o.setAttribute("role","toolbar"),function Qv(n,s){Array.isArray(s[0])||(s=[s]),s.forEach(t=>{const i=document.createElement("span");i.classList.add("ql-formats"),t.forEach(o=>{if("string"==typeof o)Ur(i,o);else{const l=Object.keys(o)[0],r=o[l];Array.isArray(r)?function Zv(n,s,t){const i=document.createElement("select");i.classList.add(`ql-${s}`),t.forEach(o=>{const l=document.createElement("option");!1!==o?l.setAttribute("value",String(o)):l.setAttribute("selected","selected"),i.appendChild(l)}),n.appendChild(i)}(i,l,r):Ur(i,l,r)}}),n.appendChild(i)})}(o,this.options.container),t.container?.parentNode?.insertBefore(o,t.container),this.container=o}else this.container="string"==typeof this.options.container?document.querySelector(this.options.container):this.options.container;this.container instanceof HTMLElement?(this.container.classList.add("ql-toolbar"),this.controls=[],this.handlers={},this.options.handlers&&Object.keys(this.options.handlers).forEach(o=>{const l=this.options.handlers?.[o];l&&this.addHandler(o,l)}),Array.from(this.container.querySelectorAll("button, select")).forEach(o=>{this.attach(o)}),this.quill.on(I.events.EDITOR_CHANGE,()=>{const[o]=this.quill.selection.getRange();this.update(o)})):$r.error("Container required for toolbar",this.options)}addHandler(t,i){this.handlers[t]=i}attach(t){let i=Array.from(t.classList).find(l=>0===l.indexOf("ql-"));i&&(i=i.slice(3),"BUTTON"===t.tagName&&t.setAttribute("type","button"),null!=this.handlers[i]||null!=this.quill.scroll.query(i)?(t.addEventListener("SELECT"===t.tagName?"change":"click",l=>{let r;if("SELECT"===t.tagName){if(t.selectedIndex<0)return;const d=t.options[t.selectedIndex];r=!d.hasAttribute("selected")&&(d.value||!1)}else r=!t.classList.contains("ql-active")&&(t.value||!t.hasAttribute("value")),l.preventDefault();this.quill.focus();const[c]=this.quill.selection.getRange();if(null!=this.handlers[i])this.handlers[i].call(this,r);else if(this.quill.scroll.query(i).prototype instanceof Xe){if(r=prompt(`Enter ${i}`),!r)return;this.quill.updateContents((new M).retain(c.index).delete(c.length).insert({[i]:r}),I.sources.USER)}else this.quill.format(i,r,I.sources.USER);this.update(c)}),this.controls.push([i,t])):$r.warn("ignoring attaching to nonexistent format",i,t))}update(t){const i=null==t?{}:this.quill.getFormat(t);this.controls.forEach(o=>{const[l,r]=o;if("SELECT"===r.tagName){let c=null;if(null==t)c=null;else if(null==i[l])c=r.querySelector("option[selected]");else if(!Array.isArray(i[l])){let d=i[l];"string"==typeof d&&(d=d.replace(/"/g,'\\"')),c=r.querySelector(`option[value="${d}"]`)}null==c?(r.value="",r.selectedIndex=-1):c.selected=!0}else if(null==t)r.classList.remove("ql-active"),r.setAttribute("aria-pressed","false");else if(r.hasAttribute("value")){const c=i[l],d=c===r.getAttribute("value")||null!=c&&c.toString()===r.getAttribute("value")||null==c&&!r.getAttribute("value");r.classList.toggle("ql-active",d),r.setAttribute("aria-pressed",d.toString())}else{const c=null!=i[l];r.classList.toggle("ql-active",c),r.setAttribute("aria-pressed",c.toString())}})}}return n.DEFAULTS={},n})();function Ur(n,s,t){const i=document.createElement("button");i.setAttribute("type","button"),i.classList.add(`ql-${s}`),i.setAttribute("aria-pressed","false"),null!=t?(i.value=t,i.setAttribute("aria-label",`${s}: ${t}`)):i.setAttribute("aria-label",s),n.appendChild(i)}Vr.DEFAULTS={container:null,handlers:{clean(){const n=this.quill.getSelection();if(null!=n)if(0===n.length){const s=this.quill.getFormat();Object.keys(s).forEach(t=>{null!=this.quill.scroll.query(t,P.INLINE)&&this.quill.format(t,!1,I.sources.USER)})}else this.quill.removeFormat(n.index,n.length,I.sources.USER)},direction(n){const{align:s}=this.quill.getFormat();"rtl"===n&&null==s?this.quill.format("align","right",I.sources.USER):!n&&"right"===s&&this.quill.format("align",!1,I.sources.USER),this.quill.format("direction",n,I.sources.USER)},indent(n){const s=this.quill.getSelection(),t=this.quill.getFormat(s),i=parseInt(t.indent||0,10);if("+1"===n||"-1"===n){let o="+1"===n?1:-1;"rtl"===t.direction&&(o*=-1),this.quill.format("indent",i+o,I.sources.USER)}},link(n){!0===n&&(n=prompt("Enter link URL:")),this.quill.format("link",n,I.sources.USER)},list(n){const s=this.quill.getSelection(),t=this.quill.getFormat(s);this.quill.format("list","check"===n?"checked"!==t.list&&"unchecked"!==t.list&&"unchecked":n,I.sources.USER)}}};const Pr='<svg viewbox="0 0 18 18"><polyline class="ql-even ql-stroke" points="5 7 3 9 5 11"/><polyline class="ql-even ql-stroke" points="13 7 15 9 13 11"/><line class="ql-stroke" x1="10" x2="8" y1="5" y2="13"/></svg>',ls={align:{"":'<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="3" x2="15" y1="9" y2="9"/><line class="ql-stroke" x1="3" x2="13" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="9" y1="4" y2="4"/></svg>',center:'<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="15" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="14" x2="4" y1="14" y2="14"/><line class="ql-stroke" x1="12" x2="6" y1="4" y2="4"/></svg>',right:'<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="15" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="15" x2="5" y1="14" y2="14"/><line class="ql-stroke" x1="15" x2="9" y1="4" y2="4"/></svg>',justify:'<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="15" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="15" x2="3" y1="14" y2="14"/><line class="ql-stroke" x1="15" x2="3" y1="4" y2="4"/></svg>'},background:'<svg viewbox="0 0 18 18"><g class="ql-fill ql-color-label"><polygon points="6 6.868 6 6 5 6 5 7 5.942 7 6 6.868"/><rect height="1" width="1" x="4" y="4"/><polygon points="6.817 5 6 5 6 6 6.38 6 6.817 5"/><rect height="1" width="1" x="2" y="6"/><rect height="1" width="1" x="3" y="5"/><rect height="1" width="1" x="4" y="7"/><polygon points="4 11.439 4 11 3 11 3 12 3.755 12 4 11.439"/><rect height="1" width="1" x="2" y="12"/><rect height="1" width="1" x="2" y="9"/><rect height="1" width="1" x="2" y="15"/><polygon points="4.63 10 4 10 4 11 4.192 11 4.63 10"/><rect height="1" width="1" x="3" y="8"/><path d="M10.832,4.2L11,4.582V4H10.708A1.948,1.948,0,0,1,10.832,4.2Z"/><path d="M7,4.582L7.168,4.2A1.929,1.929,0,0,1,7.292,4H7V4.582Z"/><path d="M8,13H7.683l-0.351.8a1.933,1.933,0,0,1-.124.2H8V13Z"/><rect height="1" width="1" x="12" y="2"/><rect height="1" width="1" x="11" y="3"/><path d="M9,3H8V3.282A1.985,1.985,0,0,1,9,3Z"/><rect height="1" width="1" x="2" y="3"/><rect height="1" width="1" x="6" y="2"/><rect height="1" width="1" x="3" y="2"/><rect height="1" width="1" x="5" y="3"/><rect height="1" width="1" x="9" y="2"/><rect height="1" width="1" x="15" y="14"/><polygon points="13.447 10.174 13.469 10.225 13.472 10.232 13.808 11 14 11 14 10 13.37 10 13.447 10.174"/><rect height="1" width="1" x="13" y="7"/><rect height="1" width="1" x="15" y="5"/><rect height="1" width="1" x="14" y="6"/><rect height="1" width="1" x="15" y="8"/><rect height="1" width="1" x="14" y="9"/><path d="M3.775,14H3v1H4V14.314A1.97,1.97,0,0,1,3.775,14Z"/><rect height="1" width="1" x="14" y="3"/><polygon points="12 6.868 12 6 11.62 6 12 6.868"/><rect height="1" width="1" x="15" y="2"/><rect height="1" width="1" x="12" y="5"/><rect height="1" width="1" x="13" y="4"/><polygon points="12.933 9 13 9 13 8 12.495 8 12.933 9"/><rect height="1" width="1" x="9" y="14"/><rect height="1" width="1" x="8" y="15"/><path d="M6,14.926V15H7V14.316A1.993,1.993,0,0,1,6,14.926Z"/><rect height="1" width="1" x="5" y="15"/><path d="M10.668,13.8L10.317,13H10v1h0.792A1.947,1.947,0,0,1,10.668,13.8Z"/><rect height="1" width="1" x="11" y="15"/><path d="M14.332,12.2a1.99,1.99,0,0,1,.166.8H15V12H14.245Z"/><rect height="1" width="1" x="14" y="15"/><rect height="1" width="1" x="15" y="11"/></g><polyline class="ql-stroke" points="5.5 13 9 5 12.5 13"/><line class="ql-stroke" x1="11.63" x2="6.38" y1="11" y2="11"/></svg>',blockquote:'<svg viewbox="0 0 18 18"><rect class="ql-fill ql-stroke" height="3" width="3" x="4" y="5"/><rect class="ql-fill ql-stroke" height="3" width="3" x="11" y="5"/><path class="ql-even ql-fill ql-stroke" d="M7,8c0,4.031-3,5-3,5"/><path class="ql-even ql-fill ql-stroke" d="M14,8c0,4.031-3,5-3,5"/></svg>',bold:'<svg viewbox="0 0 18 18"><path class="ql-stroke" d="M5,4H9.5A2.5,2.5,0,0,1,12,6.5v0A2.5,2.5,0,0,1,9.5,9H5A0,0,0,0,1,5,9V4A0,0,0,0,1,5,4Z"/><path class="ql-stroke" d="M5,9h5.5A2.5,2.5,0,0,1,13,11.5v0A2.5,2.5,0,0,1,10.5,14H5a0,0,0,0,1,0,0V9A0,0,0,0,1,5,9Z"/></svg>',clean:'<svg class="" viewbox="0 0 18 18"><line class="ql-stroke" x1="5" x2="13" y1="3" y2="3"/><line class="ql-stroke" x1="6" x2="9.35" y1="12" y2="3"/><line class="ql-stroke" x1="11" x2="15" y1="11" y2="15"/><line class="ql-stroke" x1="15" x2="11" y1="11" y2="15"/><rect class="ql-fill" height="1" rx="0.5" ry="0.5" width="7" x="2" y="14"/></svg>',code:Pr,"code-block":Pr,color:'<svg viewbox="0 0 18 18"><line class="ql-color-label ql-stroke ql-transparent" x1="3" x2="15" y1="15" y2="15"/><polyline class="ql-stroke" points="5.5 11 9 3 12.5 11"/><line class="ql-stroke" x1="11.63" x2="6.38" y1="9" y2="9"/></svg>',direction:{"":'<svg viewbox="0 0 18 18"><polygon class="ql-stroke ql-fill" points="3 11 5 9 3 7 3 11"/><line class="ql-stroke ql-fill" x1="15" x2="11" y1="4" y2="4"/><path class="ql-fill" d="M11,3a3,3,0,0,0,0,6h1V3H11Z"/><rect class="ql-fill" height="11" width="1" x="11" y="4"/><rect class="ql-fill" height="11" width="1" x="13" y="4"/></svg>',rtl:'<svg viewbox="0 0 18 18"><polygon class="ql-stroke ql-fill" points="15 12 13 10 15 8 15 12"/><line class="ql-stroke ql-fill" x1="9" x2="5" y1="4" y2="4"/><path class="ql-fill" d="M5,3A3,3,0,0,0,5,9H6V3H5Z"/><rect class="ql-fill" height="11" width="1" x="5" y="4"/><rect class="ql-fill" height="11" width="1" x="7" y="4"/></svg>'},formula:'<svg viewbox="0 0 18 18"><path class="ql-fill" d="M11.759,2.482a2.561,2.561,0,0,0-3.53.607A7.656,7.656,0,0,0,6.8,6.2C6.109,9.188,5.275,14.677,4.15,14.927a1.545,1.545,0,0,0-1.3-.933A0.922,0.922,0,0,0,2,15.036S1.954,16,4.119,16s3.091-2.691,3.7-5.553c0.177-.826.36-1.726,0.554-2.6L8.775,6.2c0.381-1.421.807-2.521,1.306-2.676a1.014,1.014,0,0,0,1.02.56A0.966,0.966,0,0,0,11.759,2.482Z"/><rect class="ql-fill" height="1.6" rx="0.8" ry="0.8" width="5" x="5.15" y="6.2"/><path class="ql-fill" d="M13.663,12.027a1.662,1.662,0,0,1,.266-0.276q0.193,0.069.456,0.138a2.1,2.1,0,0,0,.535.069,1.075,1.075,0,0,0,.767-0.3,1.044,1.044,0,0,0,.314-0.8,0.84,0.84,0,0,0-.238-0.619,0.8,0.8,0,0,0-.594-0.239,1.154,1.154,0,0,0-.781.3,4.607,4.607,0,0,0-.781,1q-0.091.15-.218,0.346l-0.246.38c-0.068-.288-0.137-0.582-0.212-0.885-0.459-1.847-2.494-.984-2.941-0.8-0.482.2-.353,0.647-0.094,0.529a0.869,0.869,0,0,1,1.281.585c0.217,0.751.377,1.436,0.527,2.038a5.688,5.688,0,0,1-.362.467,2.69,2.69,0,0,1-.264.271q-0.221-.08-0.471-0.147a2.029,2.029,0,0,0-.522-0.066,1.079,1.079,0,0,0-.768.3A1.058,1.058,0,0,0,9,15.131a0.82,0.82,0,0,0,.832.852,1.134,1.134,0,0,0,.787-0.3,5.11,5.11,0,0,0,.776-0.993q0.141-.219.215-0.34c0.046-.076.122-0.194,0.223-0.346a2.786,2.786,0,0,0,.918,1.726,2.582,2.582,0,0,0,2.376-.185c0.317-.181.212-0.565,0-0.494A0.807,0.807,0,0,1,14.176,15a5.159,5.159,0,0,1-.913-2.446l0,0Q13.487,12.24,13.663,12.027Z"/></svg>',header:{1:'<svg viewBox="0 0 18 18"><path class="ql-fill" d="M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm6.06787,9.209H14.98975V7.59863a.54085.54085,0,0,0-.605-.60547h-.62744a1.01119,1.01119,0,0,0-.748.29688L11.645,8.56641a.5435.5435,0,0,0-.022.8584l.28613.30762a.53861.53861,0,0,0,.84717.0332l.09912-.08789a1.2137,1.2137,0,0,0,.2417-.35254h.02246s-.01123.30859-.01123.60547V13.209H12.041a.54085.54085,0,0,0-.605.60547v.43945a.54085.54085,0,0,0,.605.60547h4.02686a.54085.54085,0,0,0,.605-.60547v-.43945A.54085.54085,0,0,0,16.06787,13.209Z"/></svg>',2:'<svg viewBox="0 0 18 18"><path class="ql-fill" d="M16.73975,13.81445v.43945a.54085.54085,0,0,1-.605.60547H11.855a.58392.58392,0,0,1-.64893-.60547V14.0127c0-2.90527,3.39941-3.42187,3.39941-4.55469a.77675.77675,0,0,0-.84717-.78125,1.17684,1.17684,0,0,0-.83594.38477c-.2749.26367-.561.374-.85791.13184l-.4292-.34082c-.30811-.24219-.38525-.51758-.1543-.81445a2.97155,2.97155,0,0,1,2.45361-1.17676,2.45393,2.45393,0,0,1,2.68408,2.40918c0,2.45312-3.1792,2.92676-3.27832,3.93848h2.79443A.54085.54085,0,0,1,16.73975,13.81445ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z"/></svg>',3:'<svg viewBox="0 0 18 18"><path class="ql-fill" d="M16.65186,12.30664a2.6742,2.6742,0,0,1-2.915,2.68457,3.96592,3.96592,0,0,1-2.25537-.6709.56007.56007,0,0,1-.13232-.83594L11.64648,13c.209-.34082.48389-.36328.82471-.1543a2.32654,2.32654,0,0,0,1.12256.33008c.71484,0,1.12207-.35156,1.12207-.78125,0-.61523-.61621-.86816-1.46338-.86816H13.2085a.65159.65159,0,0,1-.68213-.41895l-.05518-.10937a.67114.67114,0,0,1,.14307-.78125l.71533-.86914a8.55289,8.55289,0,0,1,.68213-.7373V8.58887a3.93913,3.93913,0,0,1-.748.05469H11.9873a.54085.54085,0,0,1-.605-.60547V7.59863a.54085.54085,0,0,1,.605-.60547h3.75146a.53773.53773,0,0,1,.60547.59375v.17676a1.03723,1.03723,0,0,1-.27539.748L14.74854,10.0293A2.31132,2.31132,0,0,1,16.65186,12.30664ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z"/></svg>',4:'<svg viewBox="0 0 18 18"><path class="ql-fill" d="M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm7.05371,7.96582v.38477c0,.39648-.165.60547-.46191.60547h-.47314v1.29785a.54085.54085,0,0,1-.605.60547h-.69336a.54085.54085,0,0,1-.605-.60547V12.95605H11.333a.5412.5412,0,0,1-.60547-.60547v-.15332a1.199,1.199,0,0,1,.22021-.748l2.56348-4.05957a.7819.7819,0,0,1,.72607-.39648h1.27637a.54085.54085,0,0,1,.605.60547v3.7627h.33008A.54055.54055,0,0,1,17.05371,11.96582ZM14.28125,8.7207h-.022a4.18969,4.18969,0,0,1-.38525.81348l-1.188,1.80469v.02246h1.5293V9.60059A7.04058,7.04058,0,0,1,14.28125,8.7207Z"/></svg>',5:'<svg viewBox="0 0 18 18"><path class="ql-fill" d="M16.74023,12.18555a2.75131,2.75131,0,0,1-2.91553,2.80566,3.908,3.908,0,0,1-2.25537-.68164.54809.54809,0,0,1-.13184-.8252L11.73438,13c.209-.34082.48389-.36328.8252-.1543a2.23757,2.23757,0,0,0,1.1001.33008,1.01827,1.01827,0,0,0,1.1001-.96777c0-.61621-.53906-.97949-1.25439-.97949a2.15554,2.15554,0,0,0-.64893.09961,1.15209,1.15209,0,0,1-.814.01074l-.12109-.04395a.64116.64116,0,0,1-.45117-.71484l.231-3.00391a.56666.56666,0,0,1,.62744-.583H15.541a.54085.54085,0,0,1,.605.60547v.43945a.54085.54085,0,0,1-.605.60547H13.41748l-.04395.72559a1.29306,1.29306,0,0,1-.04395.30859h.022a2.39776,2.39776,0,0,1,.57227-.07715A2.53266,2.53266,0,0,1,16.74023,12.18555ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z"/></svg>',6:'<svg viewBox="0 0 18 18"><path class="ql-fill" d="M14.51758,9.64453a1.85627,1.85627,0,0,0-1.24316.38477H13.252a1.73532,1.73532,0,0,1,1.72754-1.4082,2.66491,2.66491,0,0,1,.5498.06641c.35254.05469.57227.01074.70508-.40723l.16406-.5166a.53393.53393,0,0,0-.373-.75977,4.83723,4.83723,0,0,0-1.17773-.14258c-2.43164,0-3.7627,2.17773-3.7627,4.43359,0,2.47559,1.60645,3.69629,3.19043,3.69629A2.70585,2.70585,0,0,0,16.96,12.19727,2.43861,2.43861,0,0,0,14.51758,9.64453Zm-.23047,3.58691c-.67187,0-1.22168-.81445-1.22168-1.45215,0-.47363.30762-.583.72559-.583.96875,0,1.27734.59375,1.27734,1.12207A.82182.82182,0,0,1,14.28711,13.23145ZM10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Z"/></svg>'},italic:'<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="7" x2="13" y1="4" y2="4"/><line class="ql-stroke" x1="5" x2="11" y1="14" y2="14"/><line class="ql-stroke" x1="8" x2="10" y1="14" y2="4"/></svg>',image:'<svg viewbox="0 0 18 18"><rect class="ql-stroke" height="10" width="12" x="3" y="4"/><circle class="ql-fill" cx="6" cy="7" r="1"/><polyline class="ql-even ql-fill" points="5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12"/></svg>',indent:{"+1":'<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="3" x2="15" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="9" x2="15" y1="9" y2="9"/><polyline class="ql-fill ql-stroke" points="3 7 3 11 5 9 3 7"/></svg>',"-1":'<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="3" x2="15" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="9" x2="15" y1="9" y2="9"/><polyline class="ql-stroke" points="5 7 5 11 3 9 5 7"/></svg>'},link:'<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="7" x2="11" y1="7" y2="11"/><path class="ql-even ql-stroke" d="M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z"/><path class="ql-even ql-stroke" d="M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z"/></svg>',list:{bullet:'<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="6" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="6" x2="15" y1="9" y2="9"/><line class="ql-stroke" x1="6" x2="15" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="3" y1="4" y2="4"/><line class="ql-stroke" x1="3" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="3" x2="3" y1="14" y2="14"/></svg>',check:'<svg class="" viewbox="0 0 18 18"><line class="ql-stroke" x1="9" x2="15" y1="4" y2="4"/><polyline class="ql-stroke" points="3 4 4 5 6 3"/><line class="ql-stroke" x1="9" x2="15" y1="14" y2="14"/><polyline class="ql-stroke" points="3 14 4 15 6 13"/><line class="ql-stroke" x1="9" x2="15" y1="9" y2="9"/><polyline class="ql-stroke" points="3 9 4 10 6 8"/></svg>',ordered:'<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="7" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="7" x2="15" y1="9" y2="9"/><line class="ql-stroke" x1="7" x2="15" y1="14" y2="14"/><line class="ql-stroke ql-thin" x1="2.5" x2="4.5" y1="5.5" y2="5.5"/><path class="ql-fill" d="M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z"/><path class="ql-stroke ql-thin" d="M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156"/><path class="ql-stroke ql-thin" d="M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109"/></svg>'},script:{sub:'<svg viewbox="0 0 18 18"><path class="ql-fill" d="M15.5,15H13.861a3.858,3.858,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.921,1.921,0,0,0,12.021,11.7a0.50013,0.50013,0,1,0,.957.291h0a0.914,0.914,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.076-1.16971,1.86982-1.93971,2.43082A1.45639,1.45639,0,0,0,12,15.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,15Z"/><path class="ql-fill" d="M9.65,5.241a1,1,0,0,0-1.409.108L6,7.964,3.759,5.349A1,1,0,0,0,2.192,6.59178Q2.21541,6.6213,2.241,6.649L4.684,9.5,2.241,12.35A1,1,0,0,0,3.71,13.70722q0.02557-.02768.049-0.05722L6,11.036,8.241,13.65a1,1,0,1,0,1.567-1.24277Q9.78459,12.3777,9.759,12.35L7.316,9.5,9.759,6.651A1,1,0,0,0,9.65,5.241Z"/></svg>',super:'<svg viewbox="0 0 18 18"><path class="ql-fill" d="M15.5,7H13.861a4.015,4.015,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.922,1.922,0,0,0,12.021,3.7a0.5,0.5,0,1,0,.957.291,0.917,0.917,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.077-1.164,1.925-1.934,2.486A1.423,1.423,0,0,0,12,7.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,7Z"/><path class="ql-fill" d="M9.651,5.241a1,1,0,0,0-1.41.108L6,7.964,3.759,5.349a1,1,0,1,0-1.519,1.3L4.683,9.5,2.241,12.35a1,1,0,1,0,1.519,1.3L6,11.036,8.241,13.65a1,1,0,0,0,1.519-1.3L7.317,9.5,9.759,6.651A1,1,0,0,0,9.651,5.241Z"/></svg>'},strike:'<svg viewbox="0 0 18 18"><line class="ql-stroke ql-thin" x1="15.5" x2="2.5" y1="8.5" y2="9.5"/><path class="ql-fill" d="M9.007,8C6.542,7.791,6,7.519,6,6.5,6,5.792,7.283,5,9,5c1.571,0,2.765.679,2.969,1.309a1,1,0,0,0,1.9-.617C13.356,4.106,11.354,3,9,3,6.2,3,4,4.538,4,6.5a3.2,3.2,0,0,0,.5,1.843Z"/><path class="ql-fill" d="M8.984,10C11.457,10.208,12,10.479,12,11.5c0,0.708-1.283,1.5-3,1.5-1.571,0-2.765-.679-2.969-1.309a1,1,0,1,0-1.9.617C4.644,13.894,6.646,15,9,15c2.8,0,5-1.538,5-3.5a3.2,3.2,0,0,0-.5-1.843Z"/></svg>',table:'<svg viewbox="0 0 18 18"><rect class="ql-stroke" height="12" width="12" x="3" y="3"/><rect class="ql-fill" height="2" width="3" x="5" y="5"/><rect class="ql-fill" height="2" width="4" x="9" y="5"/><g class="ql-fill ql-transparent"><rect height="2" width="3" x="5" y="8"/><rect height="2" width="4" x="9" y="8"/><rect height="2" width="3" x="5" y="11"/><rect height="2" width="4" x="9" y="11"/></g></svg>',underline:'<svg viewbox="0 0 18 18"><path class="ql-stroke" d="M5,3V9a4.012,4.012,0,0,0,4,4H9a4.012,4.012,0,0,0,4-4V3"/><rect class="ql-fill" height="1" rx="0.5" ry="0.5" width="12" x="3" y="15"/></svg>',video:'<svg viewbox="0 0 18 18"><rect class="ql-stroke" height="12" width="12" x="3" y="3"/><rect class="ql-fill" height="12" width="1" x="5" y="3"/><rect class="ql-fill" height="12" width="1" x="12" y="3"/><rect class="ql-fill" height="2" width="8" x="5" y="8"/><rect class="ql-fill" height="1" width="3" x="3" y="5"/><rect class="ql-fill" height="1" width="3" x="3" y="7"/><rect class="ql-fill" height="1" width="3" x="3" y="10"/><rect class="ql-fill" height="1" width="3" x="3" y="12"/><rect class="ql-fill" height="1" width="3" x="12" y="5"/><rect class="ql-fill" height="1" width="3" x="12" y="7"/><rect class="ql-fill" height="1" width="3" x="12" y="10"/><rect class="ql-fill" height="1" width="3" x="12" y="12"/></svg>'};let Hr=0;function Yr(n,s){n.setAttribute(s,`${"true"!==n.getAttribute(s)}`)}const Ms=class ry{constructor(s){this.select=s,this.container=document.createElement("span"),this.buildPicker(),this.select.style.display="none",this.select.parentNode.insertBefore(this.container,this.select),this.label.addEventListener("mousedown",()=>{this.togglePicker()}),this.label.addEventListener("keydown",t=>{switch(t.key){case"Enter":this.togglePicker();break;case"Escape":this.escape(),t.preventDefault()}}),this.select.addEventListener("change",this.update.bind(this))}togglePicker(){this.container.classList.toggle("ql-expanded"),Yr(this.label,"aria-expanded"),Yr(this.options,"aria-hidden")}buildItem(s){const t=document.createElement("span");t.tabIndex="0",t.setAttribute("role","button"),t.classList.add("ql-picker-item");const i=s.getAttribute("value");return i&&t.setAttribute("data-value",i),s.textContent&&t.setAttribute("data-label",s.textContent),t.addEventListener("click",()=>{this.selectItem(t,!0)}),t.addEventListener("keydown",o=>{switch(o.key){case"Enter":this.selectItem(t,!0),o.preventDefault();break;case"Escape":this.escape(),o.preventDefault()}}),t}buildLabel(){const s=document.createElement("span");return s.classList.add("ql-picker-label"),s.innerHTML='<svg viewbox="0 0 18 18"><polygon class="ql-stroke" points="7 11 9 13 11 11 7 11"/><polygon class="ql-stroke" points="7 7 9 5 11 7 7 7"/></svg>',s.tabIndex="0",s.setAttribute("role","button"),s.setAttribute("aria-expanded","false"),this.container.appendChild(s),s}buildOptions(){const s=document.createElement("span");s.classList.add("ql-picker-options"),s.setAttribute("aria-hidden","true"),s.tabIndex="-1",s.id=`ql-picker-options-${Hr}`,Hr+=1,this.label.setAttribute("aria-controls",s.id),this.options=s,Array.from(this.select.options).forEach(t=>{const i=this.buildItem(t);s.appendChild(i),!0===t.selected&&this.selectItem(i)}),this.container.appendChild(s)}buildPicker(){Array.from(this.select.attributes).forEach(s=>{this.container.setAttribute(s.name,s.value)}),this.container.classList.add("ql-picker"),this.label=this.buildLabel(),this.buildOptions()}escape(){this.close(),setTimeout(()=>this.label.focus(),1)}close(){this.container.classList.remove("ql-expanded"),this.label.setAttribute("aria-expanded","false"),this.options.setAttribute("aria-hidden","true")}selectItem(s){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const i=this.container.querySelector(".ql-selected");s!==i&&(i?.classList.remove("ql-selected"),null!=s&&(s.classList.add("ql-selected"),this.select.selectedIndex=Array.from(s.parentNode.children).indexOf(s),s.hasAttribute("data-value")?this.label.setAttribute("data-value",s.getAttribute("data-value")):this.label.removeAttribute("data-value"),s.hasAttribute("data-label")?this.label.setAttribute("data-label",s.getAttribute("data-label")):this.label.removeAttribute("data-label"),t&&(this.select.dispatchEvent(new Event("change")),this.close())))}update(){let s;if(this.select.selectedIndex>-1){const i=this.container.querySelector(".ql-picker-options").children[this.select.selectedIndex];s=this.select.options[this.select.selectedIndex],this.selectItem(i)}else this.selectItem(null);const t=null!=s&&s!==this.select.querySelector("option[selected]");this.label.classList.toggle("ql-active",t)}},zr=class ay extends Ms{constructor(s,t){super(s),this.label.innerHTML=t,this.container.classList.add("ql-color-picker"),Array.from(this.container.querySelectorAll(".ql-picker-item")).slice(0,7).forEach(i=>{i.classList.add("ql-primary")})}buildItem(s){const t=super.buildItem(s);return t.style.backgroundColor=s.getAttribute("value")||"",t}selectItem(s,t){super.selectItem(s,t);const i=this.label.querySelector(".ql-color-label"),o=s&&s.getAttribute("data-value")||"";i&&("line"===i.tagName?i.style.stroke=o:i.style.fill=o)}},Xr=class cy extends Ms{constructor(s,t){super(s),this.container.classList.add("ql-icon-picker"),Array.from(this.container.querySelectorAll(".ql-picker-item")).forEach(i=>{i.innerHTML=t[i.getAttribute("data-value")||""]}),this.defaultItem=this.container.querySelector(".ql-selected"),this.selectItem(this.defaultItem)}selectItem(s,t){super.selectItem(s,t);const i=s||this.defaultItem;if(null!=i){if(this.label.innerHTML===i.innerHTML)return;this.label.innerHTML=i.innerHTML}}},Kr=class dy{constructor(s,t){this.quill=s,this.boundsContainer=t||document.body,this.root=s.addContainer("ql-tooltip"),this.root.innerHTML=this.constructor.TEMPLATE,(n=>{const{overflowY:s}=getComputedStyle(n,null);return"visible"!==s&&"clip"!==s})(this.quill.root)&&this.quill.root.addEventListener("scroll",()=>{this.root.style.marginTop=-1*this.quill.root.scrollTop+"px"}),this.hide()}hide(){this.root.classList.add("ql-hidden")}position(s){const t=s.left+s.width/2-this.root.offsetWidth/2,i=s.bottom+this.quill.root.scrollTop;this.root.style.left=`${t}px`,this.root.style.top=`${i}px`,this.root.classList.remove("ql-flip");const o=this.boundsContainer.getBoundingClientRect(),l=this.root.getBoundingClientRect();let r=0;return l.right>o.right&&(r=o.right-l.right,this.root.style.left=`${t+r}px`),l.left<o.left&&(r=o.left-l.left,this.root.style.left=`${t+r}px`),l.bottom>o.bottom&&(this.root.style.top=i-(s.bottom-s.top+(l.bottom-l.top))+"px",this.root.classList.add("ql-flip")),r}show(){this.root.classList.remove("ql-editing"),this.root.classList.remove("ql-hidden")}},py=[!1,"center","right","justify"],hy=["#000000","#e60000","#ff9900","#ffff00","#008a00","#0066cc","#9933ff","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5","#ebd6ff","#bbbbbb","#f06666","#ffc266","#ffff66","#66b966","#66a3e0","#c285ff","#888888","#a10000","#b26b00","#b2b200","#006100","#0047b2","#6b24b2","#444444","#5c0000","#663d00","#666600","#003700","#002966","#3d1466"],fy=[!1,"serif","monospace"],my=["1","2","3",!1],gy=["small",!1,"large","huge"];class rs extends ks{constructor(s,t){super(s,t);const i=o=>{document.body.contains(s.root)?(null!=this.tooltip&&!this.tooltip.root.contains(o.target)&&document.activeElement!==this.tooltip.textbox&&!this.quill.hasFocus()&&this.tooltip.hide(),null!=this.pickers&&this.pickers.forEach(l=>{l.container.contains(o.target)||l.close()})):document.body.removeEventListener("click",i)};s.emitter.listenDOM("click",document.body,i)}addModule(s){const t=super.addModule(s);return"toolbar"===s&&this.extendToolbar(t),t}buildButtons(s,t){Array.from(s).forEach(i=>{(i.getAttribute("class")||"").split(/\s+/).forEach(l=>{if(l.startsWith("ql-")&&(l=l.slice(3),null!=t[l]))if("direction"===l)i.innerHTML=t[l][""]+t[l].rtl;else if("string"==typeof t[l])i.innerHTML=t[l];else{const r=i.value||"";null!=r&&t[l][r]&&(i.innerHTML=t[l][r])}})})}buildPickers(s,t){this.pickers=Array.from(s).map(o=>{if(o.classList.contains("ql-align")&&(null==o.querySelector("option")&&as(o,py),"object"==typeof t.align))return new Xr(o,t.align);if(o.classList.contains("ql-background")||o.classList.contains("ql-color")){const l=o.classList.contains("ql-background")?"background":"color";return null==o.querySelector("option")&&as(o,hy,"background"===l?"#ffffff":"#000000"),new zr(o,t[l])}return null==o.querySelector("option")&&(o.classList.contains("ql-font")?as(o,fy):o.classList.contains("ql-header")?as(o,my):o.classList.contains("ql-size")&&as(o,gy)),new Ms(o)}),this.quill.on($.events.EDITOR_CHANGE,()=>{this.pickers.forEach(o=>{o.update()})})}}rs.DEFAULTS=en({},ks.DEFAULTS,{modules:{toolbar:{handlers:{formula(){this.quill.theme.tooltip.edit("formula")},image(){let n=this.container.querySelector("input.ql-image[type=file]");null==n&&(n=document.createElement("input"),n.setAttribute("type","file"),n.setAttribute("accept",this.quill.uploader.options.mimetypes.join(", ")),n.classList.add("ql-image"),n.addEventListener("change",()=>{const s=this.quill.getSelection(!0);this.quill.uploader.upload(s,n.files),n.value=""}),this.container.appendChild(n)),n.click()},video(){this.quill.theme.tooltip.edit("video")}}}}});class Qr extends Kr{constructor(s,t){super(s,t),this.textbox=this.root.querySelector('input[type="text"]'),this.listen()}listen(){this.textbox.addEventListener("keydown",s=>{"Enter"===s.key?(this.save(),s.preventDefault()):"Escape"===s.key&&(this.cancel(),s.preventDefault())})}cancel(){this.hide(),this.restoreFocus()}edit(){let s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"link",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(this.root.classList.remove("ql-hidden"),this.root.classList.add("ql-editing"),null==this.textbox)return;null!=t?this.textbox.value=t:s!==this.root.getAttribute("data-mode")&&(this.textbox.value="");const i=this.quill.getBounds(this.quill.selection.savedRange);null!=i&&this.position(i),this.textbox.select(),this.textbox.setAttribute("placeholder",this.textbox.getAttribute(`data-${s}`)||""),this.root.setAttribute("data-mode",s)}restoreFocus(){this.quill.focus({preventScroll:!0})}save(){let{value:s}=this.textbox;switch(this.root.getAttribute("data-mode")){case"link":{const{scrollTop:t}=this.quill.root;this.linkRange?(this.quill.formatText(this.linkRange,"link",s,$.sources.USER),delete this.linkRange):(this.restoreFocus(),this.quill.format("link",s,$.sources.USER)),this.quill.root.scrollTop=t;break}case"video":s=function _y(n){let s=n.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtube\.com\/watch.*v=([a-zA-Z0-9_-]+)/)||n.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtu\.be\/([a-zA-Z0-9_-]+)/);return s?`${s[1]||"https"}://www.youtube.com/embed/${s[2]}?showinfo=0`:(s=n.match(/^(?:(https?):\/\/)?(?:www\.)?vimeo\.com\/(\d+)/))?`${s[1]||"https"}://player.vimeo.com/video/${s[2]}/`:n}(s);case"formula":{if(!s)break;const t=this.quill.getSelection(!0);if(null!=t){const i=t.index+t.length;this.quill.insertEmbed(i,this.root.getAttribute("data-mode"),s,$.sources.USER),"formula"===this.root.getAttribute("data-mode")&&this.quill.insertText(i+1," ",$.sources.USER),this.quill.setSelection(i+2,$.sources.USER)}break}}this.textbox.value="",this.hide()}}function as(n,s){let t=arguments.length>2&&void 0!==arguments[2]&&arguments[2];s.forEach(i=>{const o=document.createElement("option");i===t?o.setAttribute("selected","selected"):o.setAttribute("value",String(i)),n.appendChild(o)})}const by=[["bold","italic","link"],[{header:1},{header:2},"blockquote"]];class vy extends Qr{static TEMPLATE=['<span class="ql-tooltip-arrow"></span>','<div class="ql-tooltip-editor">','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-close"></a>',"</div>"].join("");constructor(s,t){super(s,t),this.quill.on($.events.EDITOR_CHANGE,(i,o,l,r)=>{if(i===$.events.SELECTION_CHANGE)if(null!=o&&o.length>0&&r===$.sources.USER){this.show(),this.root.style.left="0px",this.root.style.width="",this.root.style.width=`${this.root.offsetWidth}px`;const c=this.quill.getLines(o.index,o.length);if(1===c.length){const d=this.quill.getBounds(o);null!=d&&this.position(d)}else{const d=c[c.length-1],h=this.quill.getIndex(d),v=Math.min(d.length()-1,o.index+o.length-h),E=this.quill.getBounds(new En(h,v));null!=E&&this.position(E)}}else document.activeElement!==this.textbox&&this.quill.hasFocus()&&this.hide()})}listen(){super.listen(),this.root.querySelector(".ql-close").addEventListener("click",()=>{this.root.classList.remove("ql-editing")}),this.quill.on($.events.SCROLL_OPTIMIZE,()=>{setTimeout(()=>{if(this.root.classList.contains("ql-hidden"))return;const s=this.quill.getSelection();if(null!=s){const t=this.quill.getBounds(s);null!=t&&this.position(t)}},1)})}cancel(){this.show()}position(s){const t=super.position(s),i=this.root.querySelector(".ql-tooltip-arrow");return i.style.marginLeft="",0!==t&&(i.style.marginLeft=-1*t-i.offsetWidth/2+"px"),t}}class Zr extends rs{constructor(s,t){null!=t.modules.toolbar&&null==t.modules.toolbar.container&&(t.modules.toolbar.container=by),super(s,t),this.quill.container.classList.add("ql-bubble")}extendToolbar(s){this.tooltip=new vy(this.quill,this.options.bounds),null!=s.container&&(this.tooltip.root.appendChild(s.container),this.buildButtons(s.container.querySelectorAll("button"),ls),this.buildPickers(s.container.querySelectorAll("select"),ls))}}Zr.DEFAULTS=en({},rs.DEFAULTS,{modules:{toolbar:{handlers:{link(n){n?this.quill.theme.tooltip.edit():this.quill.format("link",!1,I.sources.USER)}}}}});const yy=[[{header:["1","2","3",!1]}],["bold","italic","underline","link"],[{list:"ordered"},{list:"bullet"}],["clean"]];class Ty extends Qr{static TEMPLATE=['<a class="ql-preview" rel="noopener noreferrer" target="_blank" href="about:blank"></a>','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-action"></a>','<a class="ql-remove"></a>'].join("");preview=this.root.querySelector("a.ql-preview");listen(){super.listen(),this.root.querySelector("a.ql-action").addEventListener("click",s=>{this.root.classList.contains("ql-editing")?this.save():this.edit("link",this.preview.textContent),s.preventDefault()}),this.root.querySelector("a.ql-remove").addEventListener("click",s=>{if(null!=this.linkRange){const t=this.linkRange;this.restoreFocus(),this.quill.formatText(t,"link",!1,$.sources.USER),delete this.linkRange}s.preventDefault(),this.hide()}),this.quill.on($.events.SELECTION_CHANGE,(s,t,i)=>{if(null!=s){if(0===s.length&&i===$.sources.USER){const[o,l]=this.quill.scroll.descendant(Ds,s.index);if(null!=o){this.linkRange=new En(s.index-l,o.length());const r=Ds.formats(o.domNode);this.preview.textContent=r,this.preview.setAttribute("href",r),this.show();const c=this.quill.getBounds(this.linkRange);return void(null!=c&&this.position(c))}}else delete this.linkRange;this.hide()}})}show(){super.show(),this.root.removeAttribute("data-mode")}}class Jr extends rs{constructor(s,t){null!=t.modules.toolbar&&null==t.modules.toolbar.container&&(t.modules.toolbar.container=yy),super(s,t),this.quill.container.classList.add("ql-snow")}extendToolbar(s){null!=s.container&&(s.container.classList.add("ql-snow"),this.buildButtons(s.container.querySelectorAll("button"),ls),this.buildPickers(s.container.querySelectorAll("select"),ls),this.tooltip=new Ty(this.quill,this.options.bounds),s.container.querySelector(".ql-link")&&this.quill.keyboard.addBinding({key:"k",shortKey:!0},(t,i)=>{s.handlers.link.call(s,!i.format.link)}))}}Jr.DEFAULTS=en({},rs.DEFAULTS,{modules:{toolbar:{handlers:{link(n){if(n){const s=this.quill.getSelection();if(null==s||0===s.length)return;let t=this.quill.getText(s);/^\S+@\S+\.\S+$/.test(t)&&0!==t.indexOf("mailto:")&&(t=`mailto:${t}`);const{tooltip:i}=this.quill.theme;i.edit("link",t)}else this.quill.format("link",!1,I.sources.USER)}}}}});const Cy=Jr;jo.register({"attributors/attribute/direction":Cr,"attributors/class/align":vr,"attributors/class/background":$b,"attributors/class/color":qb,"attributors/class/direction":Ir,"attributors/class/font":Er,"attributors/class/size":kr,"attributors/style/align":yr,"attributors/style/background":Lo,"attributors/style/color":No,"attributors/style/direction":xr,"attributors/style/font":Sr,"attributors/style/size":Nr},!0),jo.register({"formats/align":vr,"formats/direction":Ir,"formats/indent":jv,"formats/background":Lo,"formats/color":No,"formats/font":Er,"formats/size":kr,"formats/blockquote":Gv,"formats/code-block":Pe,"formats/header":Bv,"formats/list":Bo,"formats/bold":qo,"formats/code":Vb,"formats/italic":qv,"formats/link":Ds,"formats/script":$v,"formats/strike":Vv,"formats/underline":Uv,"formats/formula":Pv,"formats/image":Hv,"formats/video":Yv,"modules/syntax":qr,"modules/table":class Xv extends yt{static register(){I.register(Mt),I.register(Ln),I.register(on),I.register($o)}constructor(){super(...arguments),this.listenBalanceCells()}balanceTables(){this.quill.scroll.descendants($o).forEach(s=>{s.balanceCells()})}deleteColumn(){const[s,,t]=this.getTable();null!=t&&(s.deleteColumn(t.cellOffset()),this.quill.update(I.sources.USER))}deleteRow(){const[,s]=this.getTable();null!=s&&(s.remove(),this.quill.update(I.sources.USER))}deleteTable(){const[s]=this.getTable();if(null==s)return;const t=s.offset();s.remove(),this.quill.update(I.sources.USER),this.quill.setSelection(t,I.sources.SILENT)}getTable(){let s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.quill.getSelection();if(null==s)return[null,null,null,-1];const[t,i]=this.quill.getLine(s.index);if(null==t||t.statics.blotName!==Mt.blotName)return[null,null,null,-1];const o=t.parent;return[o.parent.parent,o,t,i]}insertColumn(s){const t=this.quill.getSelection();if(!t)return;const[i,o,l]=this.getTable(t);if(null==l)return;const r=l.cellOffset();i.insertColumn(r+s),this.quill.update(I.sources.USER);let c=o.rowOffset();0===s&&(c+=1),this.quill.setSelection(t.index+c,t.length,I.sources.SILENT)}insertColumnLeft(){this.insertColumn(0)}insertColumnRight(){this.insertColumn(1)}insertRow(s){const t=this.quill.getSelection();if(!t)return;const[i,o,l]=this.getTable(t);if(null==l)return;const r=o.rowOffset();i.insertRow(r+s),this.quill.update(I.sources.USER),s>0?this.quill.setSelection(t,I.sources.SILENT):this.quill.setSelection(t.index+o.children.length,t.length,I.sources.SILENT)}insertRowAbove(){this.insertRow(0)}insertRowBelow(){this.insertRow(1)}insertTable(s,t){const i=this.quill.getSelection();if(null==i)return;const o=new Array(s).fill(0).reduce(l=>{const r=new Array(t).fill("\n").join("");return l.insert(r,{table:Vo()})},(new M).retain(i.index));this.quill.updateContents(o,I.sources.USER),this.quill.setSelection(i.index,I.sources.SILENT),this.balanceTables()}listenBalanceCells(){this.quill.on(I.events.SCROLL_OPTIMIZE,s=>{s.some(t=>!!["TD","TR","TBODY","TABLE"].includes(t.target.tagName)&&(this.quill.once(I.events.TEXT_CHANGE,(i,o,l)=>{l===I.sources.USER&&this.balanceTables()}),!0))})}},"modules/toolbar":Vr,"themes/bubble":Zr,"themes/snow":Cy,"ui/icons":ls,"ui/picker":Ms,"ui/icon-picker":Xr,"ui/color-picker":zr,"ui/tooltip":Kr},!0);const Iy=jo;function xy(n,s){1&n&&e.eu8(0)}function wy(n,s){if(1&n&&(e.j41(0,"div",3),e.SdG(1),e.DNE(2,xy,1,0,"ng-container",4),e.k0s()),2&n){const t=e.XpG();e.R7$(2),e.Y8G("ngTemplateOutlet",t.headerTemplate)}}function Ey(n,s){1&n&&(e.j41(0,"div",3)(1,"span",5)(2,"select",6)(3,"option",7),e.EFF(4,"Heading"),e.k0s(),e.j41(5,"option",8),e.EFF(6,"Subheading"),e.k0s(),e.j41(7,"option",9),e.EFF(8,"Normal"),e.k0s()(),e.j41(9,"select",10)(10,"option",9),e.EFF(11,"Sans Serif"),e.k0s(),e.j41(12,"option",11),e.EFF(13,"Serif"),e.k0s(),e.j41(14,"option",12),e.EFF(15,"Monospace"),e.k0s()()(),e.j41(16,"span",5),e.nrm(17,"button",13)(18,"button",14)(19,"button",15),e.k0s(),e.j41(20,"span",5),e.nrm(21,"select",16)(22,"select",17),e.k0s(),e.j41(23,"span",5),e.nrm(24,"button",18)(25,"button",19),e.j41(26,"select",20),e.nrm(27,"option",9),e.j41(28,"option",21),e.EFF(29,"center"),e.k0s(),e.j41(30,"option",22),e.EFF(31,"right"),e.k0s(),e.j41(32,"option",23),e.EFF(33,"justify"),e.k0s()()(),e.j41(34,"span",5),e.nrm(35,"button",24)(36,"button",25)(37,"button",26),e.k0s(),e.j41(38,"span",5),e.nrm(39,"button",27),e.k0s()())}const Sy=[[["p-header"]]],ky=["p-header"],Ny={provide:N.kq,useExisting:(0,e.Rfq)(()=>Ly),multi:!0};let Ly=(()=>{class n{el;style;styleClass;placeholder;formats;modules;bounds;scrollingContainer;debug;get readonly(){return this._readonly}set readonly(t){this._readonly=t,this.quill&&(this._readonly?this.quill.disable():this.quill.enable())}onInit=new e.bkB;onTextChange=new e.bkB;onSelectionChange=new e.bkB;templates;toolbar;value;delayedCommand=null;_readonly=!1;onModelChange=()=>{};onModelTouched=()=>{};quill;headerTemplate;get isAttachedQuillEditorToDOM(){return this.quillElements?.editorElement?.isConnected}quillElements;constructor(t){this.el=t}ngAfterViewInit(){this.initQuillElements(),this.isAttachedQuillEditorToDOM&&this.initQuillEditor()}ngAfterViewChecked(){!this.quill&&this.isAttachedQuillEditorToDOM&&this.initQuillEditor(),this.delayedCommand&&this.isAttachedQuillEditorToDOM&&(this.delayedCommand(),this.delayedCommand=null)}ngAfterContentInit(){this.templates.forEach(t=>{"header"===t.getType()&&(this.headerTemplate=t.template)})}writeValue(t){if(this.value=t,this.quill)if(t){const i=()=>{this.quill.setContents(this.quill.clipboard.convert(this.value))};this.isAttachedQuillEditorToDOM?i():this.delayedCommand=i}else{const i=()=>{this.quill.setText("")};this.isAttachedQuillEditorToDOM?i():this.delayedCommand=i}}registerOnChange(t){this.onModelChange=t}registerOnTouched(t){this.onModelTouched=t}getQuill(){return this.quill}initQuillEditor(){this.initQuillElements();const{toolbarElement:t,editorElement:i}=this.quillElements;let o={toolbar:t},l=this.modules?{...o,...this.modules}:o;this.quill=new Iy(i,{modules:l,placeholder:this.placeholder,readOnly:this.readonly,theme:"snow",formats:this.formats,bounds:this.bounds,debug:this.debug,scrollingContainer:this.scrollingContainer}),this.value&&this.quill.setContents(this.quill.clipboard.convert(this.value)),this.quill.on("text-change",(r,c,d)=>{if("user"===d){let h=C.D.findSingle(i,".ql-editor").innerHTML,v=this.quill.getText().trim();"<p><br></p>"===h&&(h=null),this.onTextChange.emit({htmlValue:h,textValue:v,delta:r,source:d}),this.onModelChange(h),this.onModelTouched()}}),this.quill.on("selection-change",(r,c,d)=>{this.onSelectionChange.emit({range:r,oldRange:c,source:d})}),this.onInit.emit({editor:this.quill})}initQuillElements(){this.quillElements||(this.quillElements={editorElement:C.D.findSingle(this.el.nativeElement,"div.p-editor-content"),toolbarElement:C.D.findSingle(this.el.nativeElement,"div.p-editor-toolbar")})}static \u0275fac=function(i){return new(i||n)(e.rXU(e.aKT))};static \u0275cmp=e.VBU({type:n,selectors:[["p-editor"]],contentQueries:function(i,o,l){if(1&i&&(e.wni(l,b.Y9,5),e.wni(l,b.Ei,4)),2&i){let r;e.mGM(r=e.lsd())&&(o.toolbar=r.first),e.mGM(r=e.lsd())&&(o.templates=r)}},hostAttrs:[1,"p-element"],inputs:{style:"style",styleClass:"styleClass",placeholder:"placeholder",formats:"formats",modules:"modules",bounds:"bounds",scrollingContainer:"scrollingContainer",debug:"debug",readonly:"readonly"},outputs:{onInit:"onInit",onTextChange:"onTextChange",onSelectionChange:"onSelectionChange"},features:[e.Jv_([Ny])],ngContentSelectors:ky,decls:4,vars:6,consts:[[3,"ngClass"],["class","p-editor-toolbar",4,"ngIf"],[1,"p-editor-content",3,"ngStyle"],[1,"p-editor-toolbar"],[4,"ngTemplateOutlet"],[1,"ql-formats"],[1,"ql-header"],["value","1"],["value","2"],["selected",""],[1,"ql-font"],["value","serif"],["value","monospace"],["aria-label","Bold","type","button",1,"ql-bold"],["aria-label","Italic","type","button",1,"ql-italic"],["aria-label","Underline","type","button",1,"ql-underline"],[1,"ql-color"],[1,"ql-background"],["value","ordered","aria-label","Ordered List","type","button",1,"ql-list"],["value","bullet","aria-label","Unordered List","type","button",1,"ql-list"],[1,"ql-align"],["value","center"],["value","right"],["value","justify"],["aria-label","Insert Link","type","button",1,"ql-link"],["aria-label","Insert Image","type","button",1,"ql-image"],["aria-label","Insert Code Block","type","button",1,"ql-code-block"],["aria-label","Remove Styles","type","button",1,"ql-clean"]],template:function(i,o){1&i&&(e.NAR(Sy),e.j41(0,"div",0),e.DNE(1,wy,3,1,"div",1),e.DNE(2,Ey,40,0,"div",1),e.nrm(3,"div",2),e.k0s()),2&i&&(e.HbH(o.styleClass),e.Y8G("ngClass","p-editor-container"),e.R7$(1),e.Y8G("ngIf",o.toolbar||o.headerTemplate),e.R7$(1),e.Y8G("ngIf",!o.toolbar&&!o.headerTemplate),e.R7$(1),e.Y8G("ngStyle",o.style))},dependencies:[O.YU,O.bT,O.T3,O.B3],styles:[".p-editor-container .p-editor-toolbar.ql-snow .ql-picker.ql-expanded .ql-picker-options .ql-picker-item{width:auto;height:auto}\n"],encapsulation:2,changeDetection:0})}return n})(),Ay=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=e.$C({type:n});static \u0275inj=e.G2t({imports:[O.MD,b.Gg]})}return n})();var st=function(n){return n[n.TEXT=0]="TEXT",n[n.STATUS=1]="STATUS",n[n.DATE=2]="DATE",n[n.TEMPLATE=3]="TEMPLATE",n[n.LINK=4]="LINK",n[n.NUMBER=5]="NUMBER",n[n.DATETIME=6]="DATETIME",n[n.TIME=7]="TIME",n[n.FILE=8]="FILE",n}(st||{}),cs=function(n){return n.Text="Text",n.Number="Number",n.Date="Date",n.Time="TimeSpan",n.DateTime="DateTime",n.SelectList="SelectList",n.Toggle="Toggle",n.Status="Status",n.AutoComplete="AutoCopmplete",n}(cs||{});let Oy=(()=>{class n{constructor(t,i){this._translationHelper=t,this._fb=i,setTimeout(()=>{this.createSearchOptions()})}createForm(t){var i={};return t.forEach(o=>{if(!1!==o.searchable&&!o.hidden){var l=o.searchSettings&&o.searchSettings.dtoName?o.searchSettings.dtoName:o.field,r=b.Rn.EQUALS;o.searchSettings&&o.searchSettings.searchType?(o.searchSettings.searchType==this.searchTypes.Number||o.searchSettings.searchType==this.searchTypes.Text)&&(r=b.Rn.CONTAINS):(o.type==st.NUMBER||o.type==st.TEXT)&&(r=b.Rn.CONTAINS),i[l]=[""],i[l+"Operator"]=[r],o.searchSettings?o.searchSettings.formControlName=l:o.searchSettings={formControlName:l}}}),this._fb.group(i)}buildSearchFields(t,i){var o={searchFields:[]};const l=i.value;return t.forEach(r=>{var c=r.searchSettings&&r.searchSettings.dtoName?r.searchSettings.dtoName:r.field,d=l[c];if(d){const h={fieldName:c,operator:l[c+"Operator"],value:r.searchSettings&&r.searchSettings.pipeValue?r.searchSettings.pipeValue(d):d};(r.searchSettings&&r.searchSettings.searchType==cs.Date||r.searchSettings.searchType==cs.Time||r.searchSettings.searchType==cs.DateTime)&&(h.dateSearchType=r.searchSettings.searchType),(r.type==st.DATE||r.type==st.DATETIME||r.type==st.TIME)&&(h.dateSearchType=r.type==st.DATE?"Date":r.type==st.DATETIME?"DateTime":r.type==st.TIME?"TimeSpan":"DateTime"),o.searchFields.push(h)}}),o.searchFields}setDefaultOperators(t,i){return t.forEach(o=>{if(o.searchable&&!o.hidden){var r=b.Rn.EQUALS;o.searchSettings&&o.searchSettings.searchType?(o.searchSettings.searchType==this.searchTypes.Number||o.searchSettings.searchType==this.searchTypes.Text)&&(r=b.Rn.CONTAINS):(o.type==st.NUMBER||o.type==st.TEXT||!o.type)&&(r=b.Rn.CONTAINS),i.get((o.searchSettings&&o.searchSettings.dtoName?o.searchSettings.dtoName:o.field)+"Operator").setValue(r)}}),i}get searchTypes(){return cs}get columnTypes(){return st}createSearchOptions(){this.stringMatchModeOptions=[{label:this._translationHelper.instant("common.startsWith"),value:b.Rn.STARTS_WITH},{label:this._translationHelper.instant("common.endsWith"),value:b.Rn.ENDS_WITH},{label:this._translationHelper.instant("common.contains"),value:b.Rn.CONTAINS},{label:this._translationHelper.instant("common.notContains"),value:b.Rn.NOT_CONTAINS},{label:this._translationHelper.instant("common.equal"),value:b.Rn.EQUALS},{label:this._translationHelper.instant("common.notEqual"),value:b.Rn.NOT_EQUALS}],this.dateMatchModeOptions=[{label:this._translationHelper.instant("common.equal"),value:b.Rn.EQUALS},{label:this._translationHelper.instant("common.notEqual"),value:b.Rn.NOT_EQUALS},{label:this._translationHelper.instant("common.greaterThan"),value:b.Rn.GREATER_THAN},{label:this._translationHelper.instant("common.greaterThanOrEqual"),value:b.Rn.GREATER_THAN_OR_EQUAL_TO},{label:this._translationHelper.instant("common.lessThan"),value:b.Rn.LESS_THAN},{label:this._translationHelper.instant("common.lessThanOrEqual"),value:b.Rn.LESS_THAN_OR_EQUAL_TO}],this.numberModeOptions=[{label:this._translationHelper.instant("common.startsWith"),value:b.Rn.STARTS_WITH},{label:this._translationHelper.instant("common.endsWith"),value:b.Rn.ENDS_WITH},{label:this._translationHelper.instant("common.contains"),value:b.Rn.CONTAINS},{label:this._translationHelper.instant("common.notContains"),value:b.Rn.NOT_CONTAINS},{label:this._translationHelper.instant("common.equal"),value:b.Rn.EQUALS},{label:this._translationHelper.instant("common.notEqual"),value:b.Rn.NOT_EQUALS},{label:this._translationHelper.instant("common.greaterThan"),value:b.Rn.GREATER_THAN},{label:this._translationHelper.instant("common.greaterThanOrEqual"),value:b.Rn.GREATER_THAN_OR_EQUAL_TO},{label:this._translationHelper.instant("common.lessThan"),value:b.Rn.LESS_THAN},{label:this._translationHelper.instant("common.lessThanOrEqual"),value:b.Rn.LESS_THAN_OR_EQUAL_TO}],this.optionsModeOptions=[{label:this._translationHelper.instant("common.equal"),value:b.Rn.EQUALS},{label:this._translationHelper.instant("common.notEqual"),value:b.Rn.NOT_EQUALS}]}static#e=this.\u0275fac=function(i){return new(i||n)(e.KVO(D.c$),e.KVO(N.ok))};static#t=this.\u0275prov=e.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),By=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=e.$C({type:n});static \u0275inj=e.G2t({imports:[O.MD,b.Gg,Ze.h,b.Gg,Ze.h]})}return n})(),Wr=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=e.$C({type:n});static#n=this.\u0275inj=e.G2t({providers:[b.bg,G.eD,b.td,Oy],imports:[O.MD,he.bG,ee.iu.forRoot(),Qo.eV.forRoot({configUrl:"./assets/icons/icons.json"}),Ee.q4,N.YN,Pi.h,Yo,tl,el,N.X1,f.kr,mn.u,mh.wn,Pt.MB,Ay,G.ZV,Wo,D.h,nl,k.rO,By,gt.S]})}return n})();var qy=w(6525),ea=w(494);const $y={bgsColor:'var("--primary-green-color")',bgsOpacity:.5,bgsPosition:"bottom-right",bgsSize:60,bgsType:"ball-spin-clockwise",blur:5,delay:0,fastFadeOut:!0,fgsColor:'var("--primary-green-color")',fgsPosition:"center-center",fgsSize:60,fgsType:"three-strings",gap:24,logoPosition:"center-center",logoSize:120,logoUrl:"",masterLoaderId:"master",overlayBorderRadius:"0",overlayColor:"rgba(0, 0, 0, 0.5)",pbColor:'var("--primary-color")',pbDirection:"ltr",pbThickness:3,hasProgressBar:!0,text:"Loading...",textColor:"#00acc1",textPosition:"center-center",maxTime:-1,minTime:0};let Vy=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=e.$C({type:n});static#n=this.\u0275inj=e.G2t({providers:[b.bg,G.eD,b.td],imports:[qu,ee.iu.forRoot(),Qo.eV.forRoot({configUrl:"./assets/icons/icons.json"}),fh.d0,N.YN,O.MD,N.X1,mn.u,Wr,ea.Ko,Z.tm,he.bG,Ee.q4,ke.u,Pi.h,Yo,Ue,qp.O3,tl,el,f.kr,Pt.MB,G.th.forRoot($y),G.ZV,Wo,D.h,nl,k.rO,gt.S,qy.F,Wr,ea.Ko,Kc,xt]})}return n})()},8655:we=>{var se=-1,w=1,ie=0;function O(f,k,m,C,R){if(f===k)return f?[[ie,f]]:[];if(null!=m){var S=function Ve(f,k,m){var C="number"==typeof m?{index:m,length:0}:m.oldRange,R="number"==typeof m?null:m.newRange,S=f.length,L=k.length;if(0===C.length&&(null===R||0===R.length)){var q=C.index,H=f.slice(0,q),F=f.slice(q),V=R?R.index:null,te=q+L-S;if(!(null!==V&&V!==te||te<0||te>L)){var re=k.slice(0,te);if((ce=k.slice(te))===F){var K=Math.min(q,te);if((Te=H.slice(0,K))===(Ce=re.slice(0,K)))return ke(Te,H.slice(K),re.slice(K),F)}}if(null===V||V===q){var fe=q,ce=(re=k.slice(0,fe),k.slice(fe));if(re===H){var ge=Math.min(S-fe,L-fe);if((be=F.slice(F.length-ge))===(ye=ce.slice(ce.length-ge)))return ke(H,F.slice(0,F.length-ge),ce.slice(0,ce.length-ge),be)}}}if(C.length>0&&R&&0===R.length){var Te=f.slice(0,C.index),be=f.slice(C.index+C.length);if(!(L<(K=Te.length)+(ge=be.length))){var Ce=k.slice(0,K),ye=k.slice(L-ge);if(Te===Ce&&be===ye)return ke(Te,f.slice(K,S-ge),k.slice(K,L-ge),be)}}return null}(f,k,m);if(S)return S}var L=U(f,k),q=f.substring(0,L);L=z(f=f.substring(L),k=k.substring(L));var H=f.substring(f.length-L),F=function de(f,k){var m;if(!f)return[[w,k]];if(!k)return[[se,f]];var C=f.length>k.length?f:k,R=f.length>k.length?k:f,S=C.indexOf(R);if(-1!==S)return m=[[w,C.substring(0,S)],[ie,R],[w,C.substring(S+R.length)]],f.length>k.length&&(m[0][0]=m[2][0]=se),m;if(1===R.length)return[[se,f],[w,k]];var L=function e(f,k){var m=f.length>k.length?f:k,C=f.length>k.length?k:f;if(m.length<4||2*C.length<m.length)return null;function R(ce,K,Te){for(var fe,ge,be,ye,Ce=ce.substring(Te,Te+Math.floor(ce.length/4)),le=-1,me="";-1!==(le=K.indexOf(Ce,le+1));){var Ne=U(ce.substring(Te),K.substring(le)),Me=z(ce.substring(0,Te),K.substring(0,le));me.length<Me+Ne&&(me=K.substring(le-Me,le)+K.substring(le,le+Ne),fe=ce.substring(0,Te-Me),ge=ce.substring(Te+Ne),be=K.substring(0,le-Me),ye=K.substring(le+Ne))}return 2*me.length>=ce.length?[fe,ge,be,ye,me]:null}var q,H,F,V,te,S=R(m,C,Math.ceil(m.length/4)),L=R(m,C,Math.ceil(m.length/2));return S||L?(q=L?S&&S[4].length>L[4].length?S:L:S,f.length>k.length?(H=q[0],F=q[1],V=q[2],te=q[3]):(V=q[0],te=q[1],H=q[2],F=q[3]),[H,F,V,te,q[4]]):null}(f,k);if(L){var H=L[1],V=L[3],te=L[4],re=O(L[0],L[2]),ce=O(H,V);return re.concat([[ie,te]],ce)}return function B(f,k){for(var m=f.length,C=k.length,R=Math.ceil((m+C)/2),S=R,L=2*R,q=new Array(L),H=new Array(L),F=0;F<L;F++)q[F]=-1,H[F]=-1;q[S+1]=0,H[S+1]=0;for(var V=m-C,te=V%2!=0,re=0,ce=0,K=0,Te=0,Ce=0;Ce<R;Ce++){for(var le=-Ce+re;le<=Ce-ce;le+=2){for(var me=S+le,ge=(fe=le===-Ce||le!==Ce&&q[me-1]<q[me+1]?q[me+1]:q[me-1]+1)-le;fe<m&&ge<C&&f.charAt(fe)===k.charAt(ge);)fe++,ge++;if(q[me]=fe,fe>m)ce+=2;else if(ge>C)re+=2;else if(te&&(be=S+V-le)>=0&&be<L&&-1!==H[be]&&fe>=(ye=m-H[be]))return j(f,k,fe,ge)}for(var Ne=-Ce+K;Ne<=Ce-Te;Ne+=2){for(var ye,be=S+Ne,Me=(ye=Ne===-Ce||Ne!==Ce&&H[be-1]<H[be+1]?H[be+1]:H[be-1]+1)-Ne;ye<m&&Me<C&&f.charAt(m-ye-1)===k.charAt(C-Me-1);)ye++,Me++;if(H[be]=ye,ye>m)Te+=2;else if(Me>C)K+=2;else if(!te){var fe;if((me=S+V-Ne)>=0&&me<L&&-1!==q[me])if(ge=S+(fe=q[me])-me,fe>=(ye=m-ye))return j(f,k,fe,ge)}}}return[[se,f],[w,k]]}(f,k)}(f=f.substring(0,f.length-L),k=k.substring(0,k.length-L));return q&&F.unshift([ie,q]),H&&F.push([ie,H]),D(F,R),C&&function N(f){for(var k=!1,m=[],C=0,R=null,S=0,L=0,q=0,H=0,F=0;S<f.length;)f[S][0]==ie?(m[C++]=S,L=H,q=F,H=0,F=0,R=f[S][1]):(f[S][0]==w?H+=f[S][1].length:F+=f[S][1].length,R&&R.length<=Math.max(L,q)&&R.length<=Math.max(H,F)&&(f.splice(m[C-1],0,[se,R]),f[m[C-1]+1][0]=w,C--,S=--C>0?m[C-1]:-1,L=0,q=0,H=0,F=0,R=null,k=!0)),S++;for(k&&D(f),function G(f){function k(ce,K){if(!ce||!K)return 6;var Te=ce.charAt(ce.length-1),Ce=K.charAt(0),le=Te.match(g),me=Ce.match(g),fe=le&&Te.match(_),ge=me&&Ce.match(_),be=fe&&Te.match(T),ye=ge&&Ce.match(T),Ne=be&&ce.match(x),Me=ye&&K.match(b);return Ne||Me?5:be||ye?4:le&&!fe&&ge?3:fe||ge?2:le||me?1:0}for(var m=1;m<f.length-1;){if(f[m-1][0]==ie&&f[m+1][0]==ie){var C=f[m-1][1],R=f[m][1],S=f[m+1][1],L=z(C,R);if(L){var q=R.substring(R.length-L);C=C.substring(0,C.length-L),R=q+R.substring(0,R.length-L),S=q+S}for(var H=C,F=R,V=S,te=k(C,R)+k(R,S);R.charAt(0)===S.charAt(0);){C+=R.charAt(0),R=R.substring(1)+S.charAt(0),S=S.substring(1);var re=k(C,R)+k(R,S);re>=te&&(te=re,H=C,F=R,V=S)}f[m-1][1]!=H&&(H?f[m-1][1]=H:(f.splice(m-1,1),m--),f[m][1]=F,V?f[m+1][1]=V:(f.splice(m+1,1),m--))}m++}}(f),S=1;S<f.length;){if(f[S-1][0]==se&&f[S][0]==w){var V=f[S-1][1],te=f[S][1],re=X(V,te),ce=X(te,V);re>=ce?(re>=V.length/2||re>=te.length/2)&&(f.splice(S,0,[ie,te.substring(0,re)]),f[S-1][1]=V.substring(0,V.length-re),f[S+1][1]=te.substring(re),S++):(ce>=V.length/2||ce>=te.length/2)&&(f.splice(S,0,[ie,V.substring(0,ce)]),f[S-1][0]=w,f[S-1][1]=te.substring(0,te.length-ce),f[S+1][0]=se,f[S+1][1]=V.substring(ce),S++),S++}S++}}(F),F}function j(f,k,m,C){var R=f.substring(0,m),S=k.substring(0,C),L=f.substring(m),q=k.substring(C),H=O(R,S),F=O(L,q);return H.concat(F)}function U(f,k){if(!f||!k||f.charAt(0)!==k.charAt(0))return 0;for(var m=0,C=Math.min(f.length,k.length),R=C,S=0;m<R;)f.substring(S,R)==k.substring(S,R)?S=m=R:C=R,R=Math.floor((C-m)/2+m);return oe(f.charCodeAt(R-1))&&R--,R}function X(f,k){var m=f.length,C=k.length;if(0==m||0==C)return 0;m>C?f=f.substring(m-C):m<C&&(k=k.substring(0,m));var R=Math.min(m,C);if(f==k)return R;for(var S=0,L=1;;){var q=f.substring(R-L),H=k.indexOf(q);if(-1==H)return S;L+=H,(0==H||f.substring(R-L)==k.substring(0,L))&&(S=L,L++)}}function z(f,k){if(!f||!k||f.slice(-1)!==k.slice(-1))return 0;for(var m=0,C=Math.min(f.length,k.length),R=C,S=0;m<R;)f.substring(f.length-R,f.length-S)==k.substring(k.length-R,k.length-S)?S=m=R:C=R,R=Math.floor((C-m)/2+m);return ee(f.charCodeAt(f.length-R))&&R--,R}var g=/[^a-zA-Z0-9]/,_=/\s/,T=/[\r\n]/,x=/\n\r?\n$/,b=/^\r?\n\r?\n/;function D(f,k){f.push([ie,""]);for(var q,m=0,C=0,R=0,S="",L="";m<f.length;)if(m<f.length-1&&!f[m][1])f.splice(m,1);else switch(f[m][0]){case w:R++,L+=f[m][1],m++;break;case se:C++,S+=f[m][1],m++;break;case ie:var H=m-R-C-1;if(k){if(H>=0&&he(f[H][1])){var F=f[H][1].slice(-1);if(f[H][1]=f[H][1].slice(0,-1),S=F+S,L=F+L,!f[H][1]){f.splice(H,1),m--;var V=H-1;f[V]&&f[V][0]===w&&(R++,L=f[V][1]+L,V--),f[V]&&f[V][0]===se&&(C++,S=f[V][1]+S,V--),H=V}}Z(f[m][1])&&(F=f[m][1].charAt(0),f[m][1]=f[m][1].slice(1),S+=F,L+=F)}if(m<f.length-1&&!f[m][1]){f.splice(m,1);break}if(S.length>0||L.length>0){S.length>0&&L.length>0&&(0!==(q=U(L,S))&&(H>=0?f[H][1]+=L.substring(0,q):(f.splice(0,0,[ie,L.substring(0,q)]),m++),L=L.substring(q),S=S.substring(q)),0!==(q=z(L,S))&&(f[m][1]=L.substring(L.length-q)+f[m][1],L=L.substring(0,L.length-q),S=S.substring(0,S.length-q)));var te=R+C;0===S.length&&0===L.length?(f.splice(m-te,te),m-=te):0===S.length?(f.splice(m-te,te,[w,L]),m=m-te+1):0===L.length?(f.splice(m-te,te,[se,S]),m=m-te+1):(f.splice(m-te,te,[se,S],[w,L]),m=m-te+2)}0!==m&&f[m-1][0]===ie?(f[m-1][1]+=f[m][1],f.splice(m,1)):m++,R=0,C=0,S="",L=""}""===f[f.length-1][1]&&f.pop();var re=!1;for(m=1;m<f.length-1;)f[m-1][0]===ie&&f[m+1][0]===ie&&(f[m][1].substring(f[m][1].length-f[m-1][1].length)===f[m-1][1]?(f[m][1]=f[m-1][1]+f[m][1].substring(0,f[m][1].length-f[m-1][1].length),f[m+1][1]=f[m-1][1]+f[m+1][1],f.splice(m-1,1),re=!0):f[m][1].substring(0,f[m+1][1].length)==f[m+1][1]&&(f[m-1][1]+=f[m+1][1],f[m][1]=f[m][1].substring(f[m+1][1].length)+f[m+1][1],f.splice(m+1,1),re=!0)),m++;re&&D(f,k)}function oe(f){return f>=55296&&f<=56319}function ee(f){return f>=56320&&f<=57343}function Z(f){return ee(f.charCodeAt(0))}function he(f){return oe(f.charCodeAt(f.length-1))}function ke(f,k,m,C){return he(f)||Z(C)?null:function Ee(f){for(var k=[],m=0;m<f.length;m++)f[m][1].length>0&&k.push(f[m]);return k}([[ie,f],[se,k],[w,m],[ie,C]])}function Ue(f,k,m,C){return O(f,k,m,C,!0)}Ue.INSERT=w,Ue.DELETE=se,Ue.EQUAL=ie,we.exports=Ue},8328:(we,se,w)=>{we=w.nmd(we);var O="__lodash_hash_undefined__",de=9007199254740991,B="[object Arguments]",U="[object Boolean]",X="[object Date]",e="[object Function]",N="[object GeneratorFunction]",g="[object Map]",_="[object Number]",T="[object Object]",x="[object Promise]",b="[object RegExp]",G="[object Set]",D="[object String]",oe="[object Symbol]",ee="[object WeakMap]",Z="[object ArrayBuffer]",he="[object DataView]",Ee="[object Float32Array]",ke="[object Float64Array]",Ve="[object Int8Array]",Ue="[object Int16Array]",f="[object Int32Array]",k="[object Uint8Array]",m="[object Uint8ClampedArray]",C="[object Uint16Array]",R="[object Uint32Array]",L=/\w*$/,q=/^\[object .+?Constructor\]$/,H=/^(?:0|[1-9]\d*)$/,F={};F[B]=F["[object Array]"]=F[Z]=F[he]=F[U]=F[X]=F[Ee]=F[ke]=F[Ve]=F[Ue]=F[f]=F[g]=F[_]=F[T]=F[b]=F[G]=F[D]=F[oe]=F[k]=F[m]=F[C]=F[R]=!0,F["[object Error]"]=F[e]=F[ee]=!1;var V="object"==typeof global&&global&&global.Object===Object&&global,te="object"==typeof self&&self&&self.Object===Object&&self,re=V||te||Function("return this")(),ce=se&&!se.nodeType&&se,K=ce&&we&&!we.nodeType&&we,Te=K&&K.exports===ce;function Ce(a,u){return a.set(u[0],u[1]),a}function le(a,u){return a.add(u),a}function ge(a,u,p,y){var ne=-1,Y=a?a.length:0;for(y&&Y&&(p=a[++ne]);++ne<Y;)p=u(p,a[ne],ne,a);return p}function Ne(a){var u=!1;if(null!=a&&"function"!=typeof a.toString)try{u=!!(a+"")}catch{}return u}function Me(a){var u=-1,p=Array(a.size);return a.forEach(function(y,ne){p[++u]=[ne,y]}),p}function rn(a,u){return function(p){return a(u(p))}}function An(a){var u=-1,p=Array(a.size);return a.forEach(function(y){p[++u]=y}),p}var a,mi=Array.prototype,gi=Function.prototype,jt=Object.prototype,an=re["__core-js_shared__"],Rn=(a=/[^.]+$/.exec(an&&an.keys&&an.keys.IE_PROTO||""))?"Symbol(src)_1."+a:"",On=gi.toString,Qe=jt.hasOwnProperty,Gt=jt.toString,_i=RegExp("^"+On.call(Qe).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Tt=Te?re.Buffer:void 0,Bt=re.Symbol,cn=re.Uint8Array,He=rn(Object.getPrototypeOf,Object),Dn=Object.create,Fn=jt.propertyIsEnumerable,bi=mi.splice,un=Object.getOwnPropertySymbols,qt=Tt?Tt.isBuffer:void 0,Mn=rn(Object.keys,Object),$t=ze(re,"DataView"),Ct=ze(re,"Map"),Ye=ze(re,"Promise"),Vt=ze(re,"Set"),dn=ze(re,"WeakMap"),It=ze(Object,"create"),Ut=Be($t),xt=Be(Ct),wt=Be(Ye),pn=Be(Vt),hn=Be(dn),mt=Bt?Bt.prototype:void 0,jn=mt?mt.valueOf:void 0;function ot(a){var u=-1,p=a?a.length:0;for(this.clear();++u<p;){var y=a[u];this.set(y[0],y[1])}}function Se(a){var u=-1,p=a?a.length:0;for(this.clear();++u<p;){var y=a[u];this.set(y[0],y[1])}}function De(a){var u=-1,p=a?a.length:0;for(this.clear();++u<p;){var y=a[u];this.set(y[0],y[1])}}function Ae(a){this.__data__=new Se(a)}function Vn(a,u,p){var y=a[u];(!Qe.call(a,u)||!zn(y,p)||void 0===p&&!(u in a))&&(a[u]=p)}function Yt(a,u){for(var p=a.length;p--;)if(zn(a[p][0],u))return p;return-1}function gn(a,u,p,y,ne,Y,ue){var pe;if(y&&(pe=Y?y(a,ne,Y,ue):y(a)),void 0!==pe)return pe;if(!et(a))return a;var Le=bn(a);if(Le){if(pe=function Mi(a){var u=a.length,p=a.constructor(u);return u&&"string"==typeof a[0]&&Qe.call(a,"index")&&(p.index=a.index,p.input=a.input),p}(a),!u)return function Oi(a,u){var p=-1,y=a.length;for(u||(u=Array(y));++p<y;)u[p]=a[p];return u}(a,pe)}else{var _e=at(a),je=_e==e||_e==N;if(Xn(a))return function zt(a,u){if(u)return a.slice();var p=new a.constructor(a.length);return a.copy(p),p}(a,u);if(_e==T||_e==B||je&&!Y){if(Ne(a))return Y?a:{};if(pe=function We(a){return"function"!=typeof a.constructor||Hn(a)?{}:function Ei(a){return et(a)?Dn(a):{}}(He(a))}(je?{}:a),!u)return function Di(a,u){return _n(a,rt(a),u)}(a,function Je(a,u){return a&&_n(u,vn(u),a)}(pe,a))}else{if(!F[_e])return Y?a:{};pe=function ji(a,u,p,y){var ne=a.constructor;switch(u){case Z:return _t(a);case U:case X:return new ne(+a);case he:return function Lt(a,u){var p=u?_t(a.buffer):a.buffer;return new a.constructor(p,a.byteOffset,a.byteLength)}(a,y);case Ee:case ke:case Ve:case Ue:case f:case k:case m:case C:case R:return function Ri(a,u){var p=u?_t(a.buffer):a.buffer;return new a.constructor(p,a.byteOffset,a.length)}(a,y);case g:return function Un(a,u,p){return ge(u?p(Me(a),!0):Me(a),Ce,new a.constructor)}(a,y,p);case _:case D:return new ne(a);case b:return function Pn(a){var u=new a.constructor(a.source,L.exec(a));return u.lastIndex=a.lastIndex,u}(a);case G:return function Li(a,u,p){return ge(u?p(An(a),!0):An(a),le,new a.constructor)}(a,y,p);case oe:return function Ai(a){return jn?Object(jn.call(a)):{}}(a)}}(a,_e,gn,u)}}ue||(ue=new Ae);var qe=ue.get(a);if(qe)return qe;if(ue.set(a,pe),!Le)var Re=p?function Fi(a){return function Si(a,u,p){var y=u(a);return bn(a)?y:function fe(a,u){for(var p=-1,y=u.length,ne=a.length;++p<y;)a[ne+p]=u[p];return a}(y,p(a))}(a,vn,rt)}(a):vn(a);return function me(a,u){for(var p=-1,y=a?a.length:0;++p<y&&!1!==u(a[p],p,a););}(Re||a,function(Ge,Fe){Re&&(Ge=a[Fe=Ge]),Vn(pe,Fe,gn(Ge,u,p,y,Fe,a,ue))}),pe}function _t(a){var u=new a.constructor(a.byteLength);return new cn(u).set(new cn(a)),u}function _n(a,u,p,y){p||(p={});for(var ne=-1,Y=u.length;++ne<Y;){var ue=u[ne],pe=y?y(p[ue],a[ue],ue,p,a):void 0;Vn(p,ue,void 0===pe?a[ue]:pe)}return p}function At(a,u){var p=a.__data__;return function Bi(a){var u=typeof a;return"string"==u||"number"==u||"symbol"==u||"boolean"==u?"__proto__"!==a:null===a}(u)?p["string"==typeof u?"string":"hash"]:p.map}function ze(a,u){var p=function ye(a,u){return a?.[u]}(a,u);return function Nt(a){return!(!et(a)||function qi(a){return!!Rn&&Rn in a}(a))&&(Qt(a)||Ne(a)?_i:q).test(Be(a))}(p)?p:void 0}ot.prototype.clear=function vi(){this.__data__=It?It(null):{}},ot.prototype.delete=function yi(a){return this.has(a)&&delete this.__data__[a]},ot.prototype.get=function Ti(a){var u=this.__data__;if(It){var p=u[a];return p===O?void 0:p}return Qe.call(u,a)?u[a]:void 0},ot.prototype.has=function Gn(a){var u=this.__data__;return It?void 0!==u[a]:Qe.call(u,a)},ot.prototype.set=function fn(a,u){return this.__data__[a]=It&&void 0===u?O:u,this},Se.prototype.clear=function Bn(){this.__data__=[]},Se.prototype.delete=function Ci(a){var u=this.__data__,p=Yt(u,a);return!(p<0||(p==u.length-1?u.pop():bi.call(u,p,1),0))},Se.prototype.get=function Ii(a){var u=this.__data__,p=Yt(u,a);return p<0?void 0:u[p][1]},Se.prototype.has=function qn(a){return Yt(this.__data__,a)>-1},Se.prototype.set=function Et(a,u){var p=this.__data__,y=Yt(p,a);return y<0?p.push([a,u]):p[y][1]=u,this},De.prototype.clear=function xi(){this.__data__={hash:new ot,map:new(Ct||Se),string:new ot}},De.prototype.delete=function mn(a){return At(this,a).delete(a)},De.prototype.get=function Pt(a){return At(this,a).get(a)},De.prototype.has=function St(a){return At(this,a).has(a)},De.prototype.set=function wi(a,u){return At(this,a).set(a,u),this},Ae.prototype.clear=function Ze(){this.__data__=new Se},Ae.prototype.delete=function gt(a){return this.__data__.delete(a)},Ae.prototype.get=function kt(a){return this.__data__.get(a)},Ae.prototype.has=function $n(a){return this.__data__.has(a)},Ae.prototype.set=function Ht(a,u){var p=this.__data__;if(p instanceof Se){var y=p.__data__;if(!Ct||y.length<199)return y.push([a,u]),this;p=this.__data__=new De(y)}return p.set(a,u),this};var rt=un?rn(un,Object):function Vi(){return[]},at=function ki(a){return Gt.call(a)};function Gi(a,u){return!!(u=u??de)&&("number"==typeof a||H.test(a))&&a>-1&&a%1==0&&a<u}function Hn(a){var u=a&&a.constructor;return a===("function"==typeof u&&u.prototype||jt)}function Be(a){if(null!=a){try{return On.call(a)}catch{}try{return a+""}catch{}}return""}function zn(a,u){return a===u||a!=a&&u!=u}($t&&at(new $t(new ArrayBuffer(1)))!=he||Ct&&at(new Ct)!=g||Ye&&at(Ye.resolve())!=x||Vt&&at(new Vt)!=G||dn&&at(new dn)!=ee)&&(at=function(a){var u=Gt.call(a),p=u==T?a.constructor:void 0,y=p?Be(p):void 0;if(y)switch(y){case Ut:return he;case xt:return g;case wt:return x;case pn:return G;case hn:return ee}return u});var bn=Array.isArray;function Kt(a){return null!=a&&function Kn(a){return"number"==typeof a&&a>-1&&a%1==0&&a<=de}(a.length)&&!Qt(a)}var Xn=qt||function Ui(){return!1};function Qt(a){var u=et(a)?Gt.call(a):"";return u==e||u==N}function et(a){var u=typeof a;return!!a&&("object"==u||"function"==u)}function vn(a){return Kt(a)?function lt(a,u){var p=bn(a)||function Xt(a){return function $i(a){return function Qn(a){return!!a&&"object"==typeof a}(a)&&Kt(a)}(a)&&Qe.call(a,"callee")&&(!Fn.call(a,"callee")||Gt.call(a)==B)}(a)?function be(a,u){for(var p=-1,y=Array(a);++p<a;)y[p]=u(p);return y}(a.length,String):[],y=p.length,ne=!!y;for(var Y in a)(u||Qe.call(a,Y))&&(!ne||"length"!=Y&&!Gi(Y,y))&&p.push(Y);return p}(a):function Ni(a){if(!Hn(a))return Mn(a);var u=[];for(var p in Object(a))Qe.call(a,p)&&"constructor"!=p&&u.push(p);return u}(a)}we.exports=function Yn(a){return gn(a,!0,!0)}},5667:(we,se,w)=>{we=w.nmd(we);var O="__lodash_hash_undefined__",de=1,B=2,j=9007199254740991,U="[object Arguments]",X="[object Array]",z="[object AsyncFunction]",e="[object Boolean]",N="[object Date]",g="[object Error]",_="[object Function]",T="[object GeneratorFunction]",x="[object Map]",b="[object Number]",G="[object Null]",D="[object Object]",oe="[object Promise]",ee="[object Proxy]",Z="[object RegExp]",he="[object Set]",Ee="[object String]",Ve="[object Undefined]",Ue="[object WeakMap]",f="[object ArrayBuffer]",k="[object DataView]",re=/^\[object .+?Constructor\]$/,ce=/^(?:0|[1-9]\d*)$/,K={};K["[object Float32Array]"]=K["[object Float64Array]"]=K["[object Int8Array]"]=K["[object Int16Array]"]=K["[object Int32Array]"]=K["[object Uint8Array]"]=K["[object Uint8ClampedArray]"]=K["[object Uint16Array]"]=K["[object Uint32Array]"]=!0,K[U]=K[X]=K[f]=K[e]=K[k]=K[N]=K[g]=K[_]=K[x]=K[b]=K[D]=K[Z]=K[he]=K[Ee]=K[Ue]=!1;var Te="object"==typeof global&&global&&global.Object===Object&&global,Ce="object"==typeof self&&self&&self.Object===Object&&self,le=Te||Ce||Function("return this")(),me=se&&!se.nodeType&&se,fe=me&&we&&!we.nodeType&&we,ge=fe&&fe.exports===me,be=ge&&Te.process,ye=function(){try{return be&&be.binding&&be.binding("util")}catch{}}(),Ne=ye&&ye.isTypedArray;function An(a,u){for(var p=-1,y=null==a?0:a.length;++p<y;)if(u(a[p],p,a))return!0;return!1}function jt(a,u){return a.has(u)}function Rn(a){var u=-1,p=Array(a.size);return a.forEach(function(y,ne){p[++u]=[ne,y]}),p}function Qe(a){var u=-1,p=Array(a.size);return a.forEach(function(y){p[++u]=y}),p}var a,Gt=Array.prototype,Tt=Object.prototype,Bt=le["__core-js_shared__"],cn=Function.prototype.toString,He=Tt.hasOwnProperty,Dn=(a=/[^.]+$/.exec(Bt&&Bt.keys&&Bt.keys.IE_PROTO||""))?"Symbol(src)_1."+a:"",Fn=Tt.toString,bi=RegExp("^"+cn.call(He).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),un=ge?le.Buffer:void 0,qt=le.Symbol,Mn=le.Uint8Array,$t=Tt.propertyIsEnumerable,Ct=Gt.splice,Ye=qt?qt.toStringTag:void 0,Vt=Object.getOwnPropertySymbols,dn=un?un.isBuffer:void 0,It=function On(a,u){return function(p){return a(u(p))}}(Object.keys,Object),Ut=rt(le,"DataView"),xt=rt(le,"Map"),wt=rt(le,"Promise"),pn=rt(le,"Set"),hn=rt(le,"WeakMap"),mt=rt(Object,"create"),jn=Be(Ut),ot=Be(xt),vi=Be(wt),yi=Be(pn),Ti=Be(hn),Gn=qt?qt.prototype:void 0,fn=Gn?Gn.valueOf:void 0;function Se(a){var u=-1,p=null==a?0:a.length;for(this.clear();++u<p;){var y=a[u];this.set(y[0],y[1])}}function De(a){var u=-1,p=null==a?0:a.length;for(this.clear();++u<p;){var y=a[u];this.set(y[0],y[1])}}function Ae(a){var u=-1,p=null==a?0:a.length;for(this.clear();++u<p;){var y=a[u];this.set(y[0],y[1])}}function lt(a){var u=-1,p=null==a?0:a.length;for(this.__data__=new Ae;++u<p;)this.add(a[u])}function Je(a){var u=this.__data__=new De(a);this.size=u.size}function zt(a,u){for(var p=a.length;p--;)if(Yn(a[p][0],u))return p;return-1}function Lt(a){return null==a?void 0===a?Ve:G:Ye&&Ye in Object(a)?function at(a){var u=He.call(a,Ye),p=a[Ye];try{a[Ye]=void 0;var y=!0}catch{}var ne=Fn.call(a);return y&&(u?a[Ye]=p:delete a[Ye]),ne}(a):function Hn(a){return Fn.call(a)}(a)}function Un(a){return et(a)&&Lt(a)==U}function Pn(a,u,p,y,ne){return a===u||(null==a||null==u||!et(a)&&!et(u)?a!=a&&u!=u:function Li(a,u,p,y,ne,Y){var ue=Xt(a),pe=Xt(u),Le=ue?X:We(a),_e=pe?X:We(u),je=(Le=Le==U?D:Le)==D,qe=(_e=_e==U?D:_e)==D,Re=Le==_e;if(Re&&Kt(a)){if(!Kt(u))return!1;ue=!0,je=!1}if(Re&&!je)return Y||(Y=new Je),ue||Qn(a)?_n(a,u,p,y,ne,Y):function Di(a,u,p,y,ne,Y,ue){switch(p){case k:if(a.byteLength!=u.byteLength||a.byteOffset!=u.byteOffset)return!1;a=a.buffer,u=u.buffer;case f:return!(a.byteLength!=u.byteLength||!Y(new Mn(a),new Mn(u)));case e:case N:case b:return Yn(+a,+u);case g:return a.name==u.name&&a.message==u.message;case Z:case Ee:return a==u+"";case x:var pe=Rn;case he:if(pe||(pe=Qe),a.size!=u.size&&!(y&de))return!1;var _e=ue.get(a);if(_e)return _e==u;y|=B,ue.set(a,u);var je=_n(pe(a),pe(u),y,ne,Y,ue);return ue.delete(a),je;case"[object Symbol]":if(fn)return fn.call(a)==fn.call(u)}return!1}(a,u,Le,p,y,ne,Y);if(!(p&de)){var Ge=je&&He.call(a,"__wrapped__"),Fe=qe&&He.call(u,"__wrapped__");if(Ge||Fe){var ct=Ge?a.value():a,ut=Fe?u.value():u;return Y||(Y=new Je),ne(ct,ut,p,y,Y)}}return!!Re&&(Y||(Y=new Je),function Fi(a,u,p,y,ne,Y){var ue=p&de,pe=At(a),Le=pe.length;if(Le!=At(u).length&&!ue)return!1;for(var qe=Le;qe--;){var Re=pe[qe];if(!(ue?Re in u:He.call(u,Re)))return!1}var Ge=Y.get(a);if(Ge&&Y.get(u))return Ge==u;var Fe=!0;Y.set(a,u),Y.set(u,a);for(var ct=ue;++qe<Le;){var ut=a[Re=pe[qe]],Rt=u[Re];if(y)var us=ue?y(Rt,ut,Re,u,a,Y):y(ut,Rt,Re,a,u,Y);if(!(void 0===us?ut===Rt||ne(ut,Rt,p,y,Y):us)){Fe=!1;break}ct||(ct="constructor"==Re)}if(Fe&&!ct){var Zn=a.constructor,Jn=u.constructor;Zn!=Jn&&"constructor"in a&&"constructor"in u&&!("function"==typeof Zn&&Zn instanceof Zn&&"function"==typeof Jn&&Jn instanceof Jn)&&(Fe=!1)}return Y.delete(a),Y.delete(u),Fe}(a,u,p,y,ne,Y))}(a,u,p,y,Pn,ne))}function _n(a,u,p,y,ne,Y){var ue=p&de,pe=a.length,Le=u.length;if(pe!=Le&&!(ue&&Le>pe))return!1;var _e=Y.get(a);if(_e&&Y.get(u))return _e==u;var je=-1,qe=!0,Re=p&B?new lt:void 0;for(Y.set(a,u),Y.set(u,a);++je<pe;){var Ge=a[je],Fe=u[je];if(y)var ct=ue?y(Fe,Ge,je,u,a,Y):y(Ge,Fe,je,a,u,Y);if(void 0!==ct){if(ct)continue;qe=!1;break}if(Re){if(!An(u,function(ut,Rt){if(!jt(Re,Rt)&&(Ge===ut||ne(Ge,ut,p,y,Y)))return Re.push(Rt)})){qe=!1;break}}else if(Ge!==Fe&&!ne(Ge,Fe,p,y,Y)){qe=!1;break}}return Y.delete(a),Y.delete(u),qe}function At(a){return function _t(a,u,p){var y=u(a);return Xt(a)?y:function rn(a,u){for(var p=-1,y=u.length,ne=a.length;++p<y;)a[ne+p]=u[p];return a}(y,p(a))}(a,vn,Mi)}function ze(a,u){var p=a.__data__;return function Gi(a){var u=typeof a;return"string"==u||"number"==u||"symbol"==u||"boolean"==u?"__proto__"!==a:null===a}(u)?p["string"==typeof u?"string":"hash"]:p.map}function rt(a,u){var p=function an(a,u){return a?.[u]}(a,u);return function Ai(a){return!(!Kn(a)||function Bi(a){return!!Dn&&Dn in a}(a))&&(Xn(a)?bi:re).test(Be(a))}(p)?p:void 0}Se.prototype.clear=function Bn(){this.__data__=mt?mt(null):{},this.size=0},Se.prototype.delete=function Ci(a){var u=this.has(a)&&delete this.__data__[a];return this.size-=u?1:0,u},Se.prototype.get=function Ii(a){var u=this.__data__;if(mt){var p=u[a];return p===O?void 0:p}return He.call(u,a)?u[a]:void 0},Se.prototype.has=function qn(a){var u=this.__data__;return mt?void 0!==u[a]:He.call(u,a)},Se.prototype.set=function Et(a,u){var p=this.__data__;return this.size+=this.has(a)?0:1,p[a]=mt&&void 0===u?O:u,this},De.prototype.clear=function xi(){this.__data__=[],this.size=0},De.prototype.delete=function mn(a){var u=this.__data__,p=zt(u,a);return!(p<0||(p==u.length-1?u.pop():Ct.call(u,p,1),--this.size,0))},De.prototype.get=function Pt(a){var u=this.__data__,p=zt(u,a);return p<0?void 0:u[p][1]},De.prototype.has=function St(a){return zt(this.__data__,a)>-1},De.prototype.set=function wi(a,u){var p=this.__data__,y=zt(p,a);return y<0?(++this.size,p.push([a,u])):p[y][1]=u,this},Ae.prototype.clear=function Ze(){this.size=0,this.__data__={hash:new Se,map:new(xt||De),string:new Se}},Ae.prototype.delete=function gt(a){var u=ze(this,a).delete(a);return this.size-=u?1:0,u},Ae.prototype.get=function kt(a){return ze(this,a).get(a)},Ae.prototype.has=function $n(a){return ze(this,a).has(a)},Ae.prototype.set=function Ht(a,u){var p=ze(this,a),y=p.size;return p.set(a,u),this.size+=p.size==y?0:1,this},lt.prototype.add=lt.prototype.push=function Vn(a){return this.__data__.set(a,O),this},lt.prototype.has=function Yt(a){return this.__data__.has(a)},Je.prototype.clear=function gn(){this.__data__=new De,this.size=0},Je.prototype.delete=function Ei(a){var u=this.__data__,p=u.delete(a);return this.size=u.size,p},Je.prototype.get=function Si(a){return this.__data__.get(a)},Je.prototype.has=function ki(a){return this.__data__.has(a)},Je.prototype.set=function Nt(a,u){var p=this.__data__;if(p instanceof De){var y=p.__data__;if(!xt||y.length<199)return y.push([a,u]),this.size=++p.size,this;p=this.__data__=new Ae(y)}return p.set(a,u),this.size=p.size,this};var Mi=Vt?function(a){return null==a?[]:(a=Object(a),function Me(a,u){for(var p=-1,y=null==a?0:a.length,ne=0,Y=[];++p<y;){var ue=a[p];u(ue,p,a)&&(Y[ne++]=ue)}return Y}(Vt(a),function(u){return $t.call(a,u)}))}:function Vi(){return[]},We=Lt;function ji(a,u){return!!(u=u??j)&&("number"==typeof a||ce.test(a))&&a>-1&&a%1==0&&a<u}function Be(a){if(null!=a){try{return cn.call(a)}catch{}try{return a+""}catch{}}return""}function Yn(a,u){return a===u||a!=a&&u!=u}(Ut&&We(new Ut(new ArrayBuffer(1)))!=k||xt&&We(new xt)!=x||wt&&We(wt.resolve())!=oe||pn&&We(new pn)!=he||hn&&We(new hn)!=Ue)&&(We=function(a){var u=Lt(a),p=u==D?a.constructor:void 0,y=p?Be(p):"";if(y)switch(y){case jn:return k;case ot:return x;case vi:return oe;case yi:return he;case Ti:return Ue}return u});var zn=Un(function(){return arguments}())?Un:function(a){return et(a)&&He.call(a,"callee")&&!$t.call(a,"callee")},Xt=Array.isArray,Kt=dn||function Ui(){return!1};function Xn(a){if(!Kn(a))return!1;var u=Lt(a);return u==_||u==T||u==z||u==ee}function Qt(a){return"number"==typeof a&&a>-1&&a%1==0&&a<=j}function Kn(a){var u=typeof a;return null!=a&&("object"==u||"function"==u)}function et(a){return null!=a&&"object"==typeof a}var Qn=Ne?function gi(a){return function(u){return a(u)}}(Ne):function Ri(a){return et(a)&&Qt(a.length)&&!!K[Lt(a)]};function vn(a){return function bn(a){return null!=a&&Qt(a.length)&&!Xn(a)}(a)?function Ni(a,u){var p=Xt(a),y=!p&&zn(a),ne=!p&&!y&&Kt(a),Y=!p&&!y&&!ne&&Qn(a),ue=p||y||ne||Y,pe=ue?function mi(a,u){for(var p=-1,y=Array(a);++p<a;)y[p]=u(p);return y}(a.length,String):[],Le=pe.length;for(var _e in a)(u||He.call(a,_e))&&(!ue||!("length"==_e||ne&&("offset"==_e||"parent"==_e)||Y&&("buffer"==_e||"byteLength"==_e||"byteOffset"==_e)||ji(_e,Le)))&&pe.push(_e);return pe}(a):function Oi(a){if(!function qi(a){var u=a&&a.constructor;return a===("function"==typeof u&&u.prototype||Tt)}(a))return It(a);var u=[];for(var p in Object(a))He.call(a,p)&&"constructor"!=p&&u.push(p);return u}(a)}we.exports=function $i(a,u){return Pn(a,u)}},1561:(we,se,w)=>{"use strict";Object.defineProperty(se,"__esModule",{value:!0});const ie=w(8328),O=w(5667);var de,B;(B=de||(de={})).compose=function j(e={},N={},g=!1){"object"!=typeof e&&(e={}),"object"!=typeof N&&(N={});let _=ie(N);g||(_=Object.keys(_).reduce((T,x)=>(null!=_[x]&&(T[x]=_[x]),T),{}));for(const T in e)void 0!==e[T]&&void 0===N[T]&&(_[T]=e[T]);return Object.keys(_).length>0?_:void 0},B.diff=function U(e={},N={}){"object"!=typeof e&&(e={}),"object"!=typeof N&&(N={});const g=Object.keys(e).concat(Object.keys(N)).reduce((_,T)=>(O(e[T],N[T])||(_[T]=void 0===N[T]?null:N[T]),_),{});return Object.keys(g).length>0?g:void 0},B.invert=function X(e={},N={}){e=e||{};const g=Object.keys(N).reduce((_,T)=>(N[T]!==e[T]&&void 0!==e[T]&&(_[T]=N[T]),_),{});return Object.keys(e).reduce((_,T)=>(e[T]!==N[T]&&void 0===N[T]&&(_[T]=null),_),g)},B.transform=function z(e,N,g=!1){if("object"!=typeof e)return N;if("object"!=typeof N)return;if(!g)return N;const _=Object.keys(N).reduce((T,x)=>(void 0===e[x]&&(T[x]=N[x]),T),{});return Object.keys(_).length>0?_:void 0},se.default=de},2577:(we,se,w)=>{"use strict";Object.defineProperty(se,"__esModule",{value:!0}),se.AttributeMap=se.OpIterator=se.Op=void 0;const ie=w(8655),O=w(8328),de=w(5667),B=w(1561);se.AttributeMap=B.default;const j=w(8964);se.Op=j.default;const U=w(6366);se.OpIterator=U.default;const X=String.fromCharCode(0),z=(N,g)=>{if("object"!=typeof N||null===N)throw new Error("cannot retain a "+typeof N);if("object"!=typeof g||null===g)throw new Error("cannot retain a "+typeof g);const _=Object.keys(N)[0];if(!_||_!==Object.keys(g)[0])throw new Error(`embed types not matched: ${_} != ${Object.keys(g)[0]}`);return[_,N[_],g[_]]};class e{constructor(g){this.ops=Array.isArray(g)?g:null!=g&&Array.isArray(g.ops)?g.ops:[]}static registerEmbed(g,_){this.handlers[g]=_}static unregisterEmbed(g){delete this.handlers[g]}static getHandler(g){const _=this.handlers[g];if(!_)throw new Error(`no handlers for embed type "${g}"`);return _}insert(g,_){const T={};return"string"==typeof g&&0===g.length?this:(T.insert=g,null!=_&&"object"==typeof _&&Object.keys(_).length>0&&(T.attributes=_),this.push(T))}delete(g){return g<=0?this:this.push({delete:g})}retain(g,_){if("number"==typeof g&&g<=0)return this;const T={retain:g};return null!=_&&"object"==typeof _&&Object.keys(_).length>0&&(T.attributes=_),this.push(T)}push(g){let _=this.ops.length,T=this.ops[_-1];if(g=O(g),"object"==typeof T){if("number"==typeof g.delete&&"number"==typeof T.delete)return this.ops[_-1]={delete:T.delete+g.delete},this;if("number"==typeof T.delete&&null!=g.insert&&(_-=1,T=this.ops[_-1],"object"!=typeof T))return this.ops.unshift(g),this;if(de(g.attributes,T.attributes)){if("string"==typeof g.insert&&"string"==typeof T.insert)return this.ops[_-1]={insert:T.insert+g.insert},"object"==typeof g.attributes&&(this.ops[_-1].attributes=g.attributes),this;if("number"==typeof g.retain&&"number"==typeof T.retain)return this.ops[_-1]={retain:T.retain+g.retain},"object"==typeof g.attributes&&(this.ops[_-1].attributes=g.attributes),this}}return _===this.ops.length?this.ops.push(g):this.ops.splice(_,0,g),this}chop(){const g=this.ops[this.ops.length-1];return g&&"number"==typeof g.retain&&!g.attributes&&this.ops.pop(),this}filter(g){return this.ops.filter(g)}forEach(g){this.ops.forEach(g)}map(g){return this.ops.map(g)}partition(g){const _=[],T=[];return this.forEach(x=>{(g(x)?_:T).push(x)}),[_,T]}reduce(g,_){return this.ops.reduce(g,_)}changeLength(){return this.reduce((g,_)=>_.insert?g+j.default.length(_):_.delete?g-_.delete:g,0)}length(){return this.reduce((g,_)=>g+j.default.length(_),0)}slice(g=0,_=1/0){const T=[],x=new U.default(this.ops);let b=0;for(;b<_&&x.hasNext();){let G;b<g?G=x.next(g-b):(G=x.next(_-b),T.push(G)),b+=j.default.length(G)}return new e(T)}compose(g){const _=new U.default(this.ops),T=new U.default(g.ops),x=[],b=T.peek();if(null!=b&&"number"==typeof b.retain&&null==b.attributes){let D=b.retain;for(;"insert"===_.peekType()&&_.peekLength()<=D;)D-=_.peekLength(),x.push(_.next());b.retain-D>0&&T.next(b.retain-D)}const G=new e(x);for(;_.hasNext()||T.hasNext();)if("insert"===T.peekType())G.push(T.next());else if("delete"===_.peekType())G.push(_.next());else{const D=Math.min(_.peekLength(),T.peekLength()),oe=_.next(D),ee=T.next(D);if(ee.retain){const Z={};if("number"==typeof oe.retain)Z.retain="number"==typeof ee.retain?D:ee.retain;else if("number"==typeof ee.retain)null==oe.retain?Z.insert=oe.insert:Z.retain=oe.retain;else{const Ee=null==oe.retain?"insert":"retain",[ke,Ve,Ue]=z(oe[Ee],ee.retain),f=e.getHandler(ke);Z[Ee]={[ke]:f.compose(Ve,Ue,"retain"===Ee)}}const he=B.default.compose(oe.attributes,ee.attributes,"number"==typeof oe.retain);if(he&&(Z.attributes=he),G.push(Z),!T.hasNext()&&de(G.ops[G.ops.length-1],Z)){const Ee=new e(_.rest());return G.concat(Ee).chop()}}else"number"==typeof ee.delete&&("number"==typeof oe.retain||"object"==typeof oe.retain&&null!==oe.retain)&&G.push(ee)}return G.chop()}concat(g){const _=new e(this.ops.slice());return g.ops.length>0&&(_.push(g.ops[0]),_.ops=_.ops.concat(g.ops.slice(1))),_}diff(g,_){if(this.ops===g.ops)return new e;const T=[this,g].map(oe=>oe.map(ee=>{if(null!=ee.insert)return"string"==typeof ee.insert?ee.insert:X;throw new Error("diff() called "+(oe===g?"on":"with")+" non-document")}).join("")),x=new e,b=ie(T[0],T[1],_,!0),G=new U.default(this.ops),D=new U.default(g.ops);return b.forEach(oe=>{let ee=oe[1].length;for(;ee>0;){let Z=0;switch(oe[0]){case ie.INSERT:Z=Math.min(D.peekLength(),ee),x.push(D.next(Z));break;case ie.DELETE:Z=Math.min(ee,G.peekLength()),G.next(Z),x.delete(Z);break;case ie.EQUAL:Z=Math.min(G.peekLength(),D.peekLength(),ee);const he=G.next(Z),Ee=D.next(Z);de(he.insert,Ee.insert)?x.retain(Z,B.default.diff(he.attributes,Ee.attributes)):x.push(Ee).delete(Z)}ee-=Z}}),x.chop()}eachLine(g,_="\n"){const T=new U.default(this.ops);let x=new e,b=0;for(;T.hasNext();){if("insert"!==T.peekType())return;const G=T.peek(),D=j.default.length(G)-T.peekLength(),oe="string"==typeof G.insert?G.insert.indexOf(_,D)-D:-1;if(oe<0)x.push(T.next());else if(oe>0)x.push(T.next(oe));else{if(!1===g(x,T.next(1).attributes||{},b))return;b+=1,x=new e}}x.length()>0&&g(x,{},b)}invert(g){const _=new e;return this.reduce((T,x)=>{if(x.insert)_.delete(j.default.length(x));else{if("number"==typeof x.retain&&null==x.attributes)return _.retain(x.retain),T+x.retain;if(x.delete||"number"==typeof x.retain){const b=x.delete||x.retain;return g.slice(T,T+b).forEach(D=>{x.delete?_.push(D):x.retain&&x.attributes&&_.retain(j.default.length(D),B.default.invert(x.attributes,D.attributes))}),T+b}if("object"==typeof x.retain&&null!==x.retain){const b=g.slice(T,T+1),G=new U.default(b.ops).next(),[D,oe,ee]=z(x.retain,G.insert),Z=e.getHandler(D);return _.retain({[D]:Z.invert(oe,ee)},B.default.invert(x.attributes,G.attributes)),T+1}}return T},0),_.chop()}transform(g,_=!1){if(_=!!_,"number"==typeof g)return this.transformPosition(g,_);const T=g,x=new U.default(this.ops),b=new U.default(T.ops),G=new e;for(;x.hasNext()||b.hasNext();)if("insert"!==x.peekType()||!_&&"insert"===b.peekType())if("insert"===b.peekType())G.push(b.next());else{const D=Math.min(x.peekLength(),b.peekLength()),oe=x.next(D),ee=b.next(D);if(oe.delete)continue;if(ee.delete)G.push(ee);else{const Z=oe.retain,he=ee.retain;let Ee="object"==typeof he&&null!==he?he:D;if("object"==typeof Z&&null!==Z&&"object"==typeof he&&null!==he){const ke=Object.keys(Z)[0];if(ke===Object.keys(he)[0]){const Ve=e.getHandler(ke);Ve&&(Ee={[ke]:Ve.transform(Z[ke],he[ke],_)})}}G.retain(Ee,B.default.transform(oe.attributes,ee.attributes,_))}}else G.retain(j.default.length(x.next()));return G.chop()}transformPosition(g,_=!1){_=!!_;const T=new U.default(this.ops);let x=0;for(;T.hasNext()&&x<=g;){const b=T.peekLength(),G=T.peekType();T.next(),"delete"!==G?("insert"===G&&(x<g||!_)&&(g+=b),x+=b):g-=Math.min(b,g-x)}return g}}e.Op=j.default,e.OpIterator=U.default,e.AttributeMap=B.default,e.handlers={},se.default=e,we.exports=e,we.exports.default=e},8964:(we,se)=>{"use strict";var w;Object.defineProperty(se,"__esModule",{value:!0}),(w||(w={})).length=function O(de){return"number"==typeof de.delete?de.delete:"number"==typeof de.retain?de.retain:"object"==typeof de.retain&&null!==de.retain?1:"string"==typeof de.insert?de.insert.length:1},se.default=w},6366:(we,se,w)=>{"use strict";Object.defineProperty(se,"__esModule",{value:!0});const ie=w(8964);se.default=class O{constructor(B){this.ops=B,this.index=0,this.offset=0}hasNext(){return this.peekLength()<1/0}next(B){B||(B=1/0);const j=this.ops[this.index];if(j){const U=this.offset,X=ie.default.length(j);if(B>=X-U?(B=X-U,this.index+=1,this.offset=0):this.offset+=B,"number"==typeof j.delete)return{delete:B};{const z={};return j.attributes&&(z.attributes=j.attributes),"number"==typeof j.retain?z.retain=B:"object"==typeof j.retain&&null!==j.retain?z.retain=j.retain:z.insert="string"==typeof j.insert?j.insert.substr(U,B):j.insert,z}}return{retain:1/0}}peek(){return this.ops[this.index]}peekLength(){return this.ops[this.index]?ie.default.length(this.ops[this.index])-this.offset:1/0}peekType(){const B=this.ops[this.index];return B?"number"==typeof B.delete?"delete":"number"==typeof B.retain||"object"==typeof B.retain&&null!==B.retain?"retain":"insert":"retain"}rest(){if(this.hasNext()){if(0===this.offset)return this.ops.slice(this.index);{const B=this.offset,j=this.index,U=this.next(),X=this.ops.slice(this.index);return this.offset=B,this.index=j,[U].concat(X)}}return[]}}},9280:we=>{"use strict";var se=Object.prototype.hasOwnProperty,w="~";function ie(){}function O(U,X,z){this.fn=U,this.context=X,this.once=z||!1}function de(U,X,z,e,N){if("function"!=typeof z)throw new TypeError("The listener must be a function");var g=new O(z,e||U,N),_=w?w+X:X;return U._events[_]?U._events[_].fn?U._events[_]=[U._events[_],g]:U._events[_].push(g):(U._events[_]=g,U._eventsCount++),U}function B(U,X){0==--U._eventsCount?U._events=new ie:delete U._events[X]}function j(){this._events=new ie,this._eventsCount=0}Object.create&&(ie.prototype=Object.create(null),(new ie).__proto__||(w=!1)),j.prototype.eventNames=function(){var z,e,X=[];if(0===this._eventsCount)return X;for(e in z=this._events)se.call(z,e)&&X.push(w?e.slice(1):e);return Object.getOwnPropertySymbols?X.concat(Object.getOwnPropertySymbols(z)):X},j.prototype.listeners=function(X){var e=this._events[w?w+X:X];if(!e)return[];if(e.fn)return[e.fn];for(var N=0,g=e.length,_=new Array(g);N<g;N++)_[N]=e[N].fn;return _},j.prototype.listenerCount=function(X){var e=this._events[w?w+X:X];return e?e.fn?1:e.length:0},j.prototype.emit=function(X,z,e,N,g,_){var T=w?w+X:X;if(!this._events[T])return!1;var G,D,x=this._events[T],b=arguments.length;if(x.fn){switch(x.once&&this.removeListener(X,x.fn,void 0,!0),b){case 1:return x.fn.call(x.context),!0;case 2:return x.fn.call(x.context,z),!0;case 3:return x.fn.call(x.context,z,e),!0;case 4:return x.fn.call(x.context,z,e,N),!0;case 5:return x.fn.call(x.context,z,e,N,g),!0;case 6:return x.fn.call(x.context,z,e,N,g,_),!0}for(D=1,G=new Array(b-1);D<b;D++)G[D-1]=arguments[D];x.fn.apply(x.context,G)}else{var ee,oe=x.length;for(D=0;D<oe;D++)switch(x[D].once&&this.removeListener(X,x[D].fn,void 0,!0),b){case 1:x[D].fn.call(x[D].context);break;case 2:x[D].fn.call(x[D].context,z);break;case 3:x[D].fn.call(x[D].context,z,e);break;case 4:x[D].fn.call(x[D].context,z,e,N);break;default:if(!G)for(ee=1,G=new Array(b-1);ee<b;ee++)G[ee-1]=arguments[ee];x[D].fn.apply(x[D].context,G)}}return!0},j.prototype.on=function(X,z,e){return de(this,X,z,e,!1)},j.prototype.once=function(X,z,e){return de(this,X,z,e,!0)},j.prototype.removeListener=function(X,z,e,N){var g=w?w+X:X;if(!this._events[g])return this;if(!z)return B(this,g),this;var _=this._events[g];if(_.fn)_.fn===z&&(!N||_.once)&&(!e||_.context===e)&&B(this,g);else{for(var T=0,x=[],b=_.length;T<b;T++)(_[T].fn!==z||N&&!_[T].once||e&&_[T].context!==e)&&x.push(_[T]);x.length?this._events[g]=1===x.length?x[0]:x:B(this,g)}return this},j.prototype.removeAllListeners=function(X){var z;return X?this._events[z=w?w+X:X]&&B(this,z):(this._events=new ie,this._eventsCount=0),this},j.prototype.off=j.prototype.removeListener,j.prototype.addListener=j.prototype.on,j.prefixed=w,j.EventEmitter=j,we.exports=j}}]);